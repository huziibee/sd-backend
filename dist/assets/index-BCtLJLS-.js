function zy(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function rc(t,e){const i=new Set(t.split(","));return s=>i.has(s)}const si={},Ra=[],pn=()=>{},Yy=()=>!1,sl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lc=t=>t.startsWith("onUpdate:"),xi=Object.assign,hc=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},Xy=Object.prototype.hasOwnProperty,Nt=(t,e)=>Xy.call(t,e),rt=Array.isArray,La=t=>No(t)==="[object Map]",al=t=>No(t)==="[object Set]",jd=t=>No(t)==="[object Date]",kt=t=>typeof t=="function",yi=t=>typeof t=="string",hs=t=>typeof t=="symbol",ii=t=>t!==null&&typeof t=="object",mg=t=>(ii(t)||kt(t))&&kt(t.then)&&kt(t.catch),xg=Object.prototype.toString,No=t=>xg.call(t),jy=t=>No(t).slice(8,-1),yg=t=>No(t)==="[object Object]",cc=t=>yi(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,go=rc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ol=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},Ky=/-(\w)/g,$n=ol(t=>t.replace(Ky,(e,i)=>i?i.toUpperCase():"")),$y=/\B([A-Z])/g,eo=ol(t=>t.replace($y,"-$1").toLowerCase()),rl=ol(t=>t.charAt(0).toUpperCase()+t.slice(1)),dr=ol(t=>t?`on${rl(t)}`:""),Fs=(t,e)=>!Object.is(t,e),ur=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},vg=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},vh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Gy=t=>{const e=yi(t)?Number(t):NaN;return isNaN(e)?t:e};let Kd;const bg=()=>Kd||(Kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hn(t){if(rt(t)){const e={};for(let i=0;i<t.length;i++){const s=t[i],o=yi(s)?Zy(s):Hn(s);if(o)for(const c in o)e[c]=o[c]}return e}else if(yi(t)||ii(t))return t}const Jy=/;(?![^(]*\))/g,Qy=/:([^]+)/,qy=/\/\*[^]*?\*\//g;function Zy(t){const e={};return t.replace(qy,"").split(Jy).forEach(i=>{if(i){const s=i.split(Qy);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ds(t){let e="";if(yi(t))e=t;else if(rt(t))for(let i=0;i<t.length;i++){const s=Ds(t[i]);s&&(e+=s+" ")}else if(ii(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const ev="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tv=rc(ev);function _g(t){return!!t||t===""}function iv(t,e){if(t.length!==e.length)return!1;let i=!0;for(let s=0;i&&s<t.length;s++)i=Ha(t[s],e[s]);return i}function Ha(t,e){if(t===e)return!0;let i=jd(t),s=jd(e);if(i||s)return i&&s?t.getTime()===e.getTime():!1;if(i=hs(t),s=hs(e),i||s)return t===e;if(i=rt(t),s=rt(e),i||s)return i&&s?iv(t,e):!1;if(i=ii(t),s=ii(e),i||s){if(!i||!s)return!1;const o=Object.keys(t).length,c=Object.keys(e).length;if(o!==c)return!1;for(const u in t){const x=t.hasOwnProperty(u),C=e.hasOwnProperty(u);if(x&&!C||!x&&C||!Ha(t[u],e[u]))return!1}}return String(t)===String(e)}function Cg(t,e){return t.findIndex(i=>Ha(i,e))}const ci=t=>yi(t)?t:t==null?"":rt(t)||ii(t)&&(t.toString===xg||!kt(t.toString))?JSON.stringify(t,Tg,2):String(t),Tg=(t,e)=>e&&e.__v_isRef?Tg(t,e.value):La(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[s,o],c)=>(i[Dl(s,c)+" =>"]=o,i),{})}:al(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>Dl(i))}:hs(e)?Dl(e):ii(e)&&!rt(e)&&!yg(e)?String(e):e,Dl=(t,e="")=>{var i;return hs(t)?`Symbol(${(i=t.description)!=null?i:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;class wg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Cn,!e&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=Cn;try{return Cn=this,e()}finally{Cn=i}}}on(){Cn=this}off(){Cn=this.parent}stop(e){if(this._active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function nv(t){return new wg(t)}function sv(t,e=Cn){e&&e.active&&e.effects.push(t)}function av(){return Cn}let ia;class dc{constructor(e,i,s,o){this.fn=e,this.trigger=i,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,sv(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Vs();for(let e=0;e<this._depsLength;e++){const i=this.deps[e];if(i.computed&&(ov(i.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Hs()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Rs,i=ia;try{return Rs=!0,ia=this,this._runnings++,$d(this),this.fn()}finally{Gd(this),this._runnings--,ia=i,Rs=e}}stop(){var e;this.active&&($d(this),Gd(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function ov(t){return t.value}function $d(t){t._trackId++,t._depsLength=0}function Gd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)kg(t.deps[e],t);t.deps.length=t._depsLength}}function kg(t,e){const i=t.get(e);i!==void 0&&e._trackId!==i&&(t.delete(e),t.size===0&&t.cleanup())}let Rs=!0,bh=0;const Ag=[];function Vs(){Ag.push(Rs),Rs=!1}function Hs(){const t=Ag.pop();Rs=t===void 0?!0:t}function uc(){bh++}function pc(){for(bh--;!bh&&_h.length;)_h.shift()()}function Sg(t,e,i){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&kg(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const _h=[];function Mg(t,e,i){uc();for(const s of t.keys()){let o;s._dirtyLevel<e&&(o??(o=t.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(o??(o=t.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&_h.push(s.scheduler)))}pc()}const Ig=(t,e)=>{const i=new Map;return i.cleanup=t,i.computed=e,i},Ch=new WeakMap,na=Symbol(""),Th=Symbol("");function en(t,e,i){if(Rs&&ia){let s=Ch.get(t);s||Ch.set(t,s=new Map);let o=s.get(i);o||s.set(i,o=Ig(()=>s.delete(i))),Sg(ia,o)}}function as(t,e,i,s,o,c){const u=Ch.get(t);if(!u)return;let x=[];if(e==="clear")x=[...u.values()];else if(i==="length"&&rt(t)){const C=Number(s);u.forEach((S,b)=>{(b==="length"||!hs(b)&&b>=C)&&x.push(S)})}else switch(i!==void 0&&x.push(u.get(i)),e){case"add":rt(t)?cc(i)&&x.push(u.get("length")):(x.push(u.get(na)),La(t)&&x.push(u.get(Th)));break;case"delete":rt(t)||(x.push(u.get(na)),La(t)&&x.push(u.get(Th)));break;case"set":La(t)&&x.push(u.get(na));break}uc();for(const C of x)C&&Mg(C,4);pc()}const rv=rc("__proto__,__v_isRef,__isVue"),Pg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hs)),Jd=lv();function lv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const s=Ht(this);for(let c=0,u=this.length;c<u;c++)en(s,"get",c+"");const o=s[e](...i);return o===-1||o===!1?s[e](...i.map(Ht)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){Vs(),uc();const s=Ht(this)[e].apply(this,i);return pc(),Hs(),s}}),t}function hv(t){hs(t)||(t=String(t));const e=Ht(this);return en(e,"has",t),e.hasOwnProperty(t)}class Eg{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,s){const o=this._isReadonly,c=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return c;if(i==="__v_raw")return s===(o?c?Cv:Bg:c?Og:Lg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const u=rt(e);if(!o){if(u&&Nt(Jd,i))return Reflect.get(Jd,i,s);if(i==="hasOwnProperty")return hv}const x=Reflect.get(e,i,s);return(hs(i)?Pg.has(i):rv(i))||(o||en(e,"get",i),c)?x:tn(x)?u&&cc(i)?x:x.value:ii(x)?o?Dg(x):to(x):x}}class Rg extends Eg{constructor(e=!1){super(!1,e)}set(e,i,s,o){let c=e[i];if(!this._isShallow){const C=Mo(c);if(!Tr(s)&&!Mo(s)&&(c=Ht(c),s=Ht(s)),!rt(e)&&tn(c)&&!tn(s))return C?!1:(c.value=s,!0)}const u=rt(e)&&cc(i)?Number(i)<e.length:Nt(e,i),x=Reflect.set(e,i,s,o);return e===Ht(o)&&(u?Fs(s,c)&&as(e,"set",i,s):as(e,"add",i,s)),x}deleteProperty(e,i){const s=Nt(e,i);e[i];const o=Reflect.deleteProperty(e,i);return o&&s&&as(e,"delete",i,void 0),o}has(e,i){const s=Reflect.has(e,i);return(!hs(i)||!Pg.has(i))&&en(e,"has",i),s}ownKeys(e){return en(e,"iterate",rt(e)?"length":na),Reflect.ownKeys(e)}}class cv extends Eg{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const dv=new Rg,uv=new cv,pv=new Rg(!0);const gc=t=>t,ll=t=>Reflect.getPrototypeOf(t);function $o(t,e,i=!1,s=!1){t=t.__v_raw;const o=Ht(t),c=Ht(e);i||(Fs(e,c)&&en(o,"get",e),en(o,"get",c));const{has:u}=ll(o),x=s?gc:i?xc:Io;if(u.call(o,e))return x(t.get(e));if(u.call(o,c))return x(t.get(c));t!==o&&t.get(e)}function Go(t,e=!1){const i=this.__v_raw,s=Ht(i),o=Ht(t);return e||(Fs(t,o)&&en(s,"has",t),en(s,"has",o)),t===o?i.has(t):i.has(t)||i.has(o)}function Jo(t,e=!1){return t=t.__v_raw,!e&&en(Ht(t),"iterate",na),Reflect.get(t,"size",t)}function Qd(t){t=Ht(t);const e=Ht(this);return ll(e).has.call(e,t)||(e.add(t),as(e,"add",t,t)),this}function qd(t,e){e=Ht(e);const i=Ht(this),{has:s,get:o}=ll(i);let c=s.call(i,t);c||(t=Ht(t),c=s.call(i,t));const u=o.call(i,t);return i.set(t,e),c?Fs(e,u)&&as(i,"set",t,e):as(i,"add",t,e),this}function Zd(t){const e=Ht(this),{has:i,get:s}=ll(e);let o=i.call(e,t);o||(t=Ht(t),o=i.call(e,t)),s&&s.call(e,t);const c=e.delete(t);return o&&as(e,"delete",t,void 0),c}function eu(){const t=Ht(this),e=t.size!==0,i=t.clear();return e&&as(t,"clear",void 0,void 0),i}function Qo(t,e){return function(s,o){const c=this,u=c.__v_raw,x=Ht(u),C=e?gc:t?xc:Io;return!t&&en(x,"iterate",na),u.forEach((S,b)=>s.call(o,C(S),C(b),c))}}function qo(t,e,i){return function(...s){const o=this.__v_raw,c=Ht(o),u=La(c),x=t==="entries"||t===Symbol.iterator&&u,C=t==="keys"&&u,S=o[t](...s),b=i?gc:e?xc:Io;return!e&&en(c,"iterate",C?Th:na),{next(){const{value:L,done:B}=S.next();return B?{value:L,done:B}:{value:x?[b(L[0]),b(L[1])]:b(L),done:B}},[Symbol.iterator](){return this}}}}function xs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gv(){const t={get(c){return $o(this,c)},get size(){return Jo(this)},has:Go,add:Qd,set:qd,delete:Zd,clear:eu,forEach:Qo(!1,!1)},e={get(c){return $o(this,c,!1,!0)},get size(){return Jo(this)},has:Go,add:Qd,set:qd,delete:Zd,clear:eu,forEach:Qo(!1,!0)},i={get(c){return $o(this,c,!0)},get size(){return Jo(this,!0)},has(c){return Go.call(this,c,!0)},add:xs("add"),set:xs("set"),delete:xs("delete"),clear:xs("clear"),forEach:Qo(!0,!1)},s={get(c){return $o(this,c,!0,!0)},get size(){return Jo(this,!0)},has(c){return Go.call(this,c,!0)},add:xs("add"),set:xs("set"),delete:xs("delete"),clear:xs("clear"),forEach:Qo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{t[c]=qo(c,!1,!1),i[c]=qo(c,!0,!1),e[c]=qo(c,!1,!0),s[c]=qo(c,!0,!0)}),[t,i,e,s]}const[fv,mv,xv,yv]=gv();function fc(t,e){const i=e?t?yv:xv:t?mv:fv;return(s,o,c)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?s:Reflect.get(Nt(i,o)&&o in s?i:s,o,c)}const vv={get:fc(!1,!1)},bv={get:fc(!1,!0)},_v={get:fc(!0,!1)};const Lg=new WeakMap,Og=new WeakMap,Bg=new WeakMap,Cv=new WeakMap;function Tv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wv(t){return t.__v_skip||!Object.isExtensible(t)?0:Tv(jy(t))}function to(t){return Mo(t)?t:mc(t,!1,dv,vv,Lg)}function Fg(t){return mc(t,!1,pv,bv,Og)}function Dg(t){return mc(t,!0,uv,_v,Bg)}function mc(t,e,i,s,o){if(!ii(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const c=o.get(t);if(c)return c;const u=wv(t);if(u===0)return t;const x=new Proxy(t,u===2?s:i);return o.set(t,x),x}function fo(t){return Mo(t)?fo(t.__v_raw):!!(t&&t.__v_isReactive)}function Mo(t){return!!(t&&t.__v_isReadonly)}function Tr(t){return!!(t&&t.__v_isShallow)}function Ng(t){return t?!!t.__v_raw:!1}function Ht(t){const e=t&&t.__v_raw;return e?Ht(e):t}function kv(t){return Object.isExtensible(t)&&vg(t,"__v_skip",!0),t}const Io=t=>ii(t)?to(t):t,xc=t=>ii(t)?Dg(t):t;class Vg{constructor(e,i,s,o){this.getter=e,this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new dc(()=>e(this._value),()=>pr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const e=Ht(this);return(!e._cacheable||e.effect.dirty)&&Fs(e._value,e._value=e.effect.run())&&pr(e,4),Hg(e),e.effect._dirtyLevel>=2&&pr(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Av(t,e,i=!1){let s,o;const c=kt(t);return c?(s=t,o=pn):(s=t.get,o=t.set),new Vg(s,o,c||!o,i)}function Hg(t){var e;Rs&&ia&&(t=Ht(t),Sg(ia,(e=t.dep)!=null?e:t.dep=Ig(()=>t.dep=void 0,t instanceof Vg?t:void 0)))}function pr(t,e=4,i){t=Ht(t);const s=t.dep;s&&Mg(s,e)}function tn(t){return!!(t&&t.__v_isRef===!0)}function yc(t){return Wg(t,!1)}function Sv(t){return Wg(t,!0)}function Wg(t,e){return tn(t)?t:new Mv(t,e)}class Mv{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:Ht(e),this._value=i?e:Io(e)}get value(){return Hg(this),this._value}set value(e){const i=this.__v_isShallow||Tr(e)||Mo(e);e=i?e:Ht(e),Fs(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Io(e),pr(this,4))}}function Ls(t){return tn(t)?t.value:t}const Iv={get:(t,e,i)=>Ls(Reflect.get(t,e,i)),set:(t,e,i,s)=>{const o=t[e];return tn(o)&&!tn(i)?(o.value=i,!0):Reflect.set(t,e,i,s)}};function Ug(t){return fo(t)?t:new Proxy(t,Iv)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Os(t,e,i,s){try{return s?t(...s):t()}catch(o){hl(o,e,i)}}function gn(t,e,i,s){if(kt(t)){const o=Os(t,e,i,s);return o&&mg(o)&&o.catch(c=>{hl(c,e,i)}),o}if(rt(t)){const o=[];for(let c=0;c<t.length;c++)o.push(gn(t[c],e,i,s));return o}}function hl(t,e,i,s=!0){const o=e?e.vnode:null;if(e){let c=e.parent;const u=e.proxy,x=`https://vuejs.org/error-reference/#runtime-${i}`;for(;c;){const S=c.ec;if(S){for(let b=0;b<S.length;b++)if(S[b](t,u,x)===!1)return}c=c.parent}const C=e.appContext.config.errorHandler;if(C){Vs(),Os(C,null,10,[t,u,x]),Hs();return}}Pv(t,i,o,s)}function Pv(t,e,i,s=!0){console.error(t)}let Po=!1,wh=!1;const Ui=[];let Nn=0;const Oa=[];let Ts=null,Js=0;const zg=Promise.resolve();let vc=null;function bc(t){const e=vc||zg;return t?e.then(this?t.bind(this):t):e}function Ev(t){let e=Nn+1,i=Ui.length;for(;e<i;){const s=e+i>>>1,o=Ui[s],c=Eo(o);c<t||c===t&&o.pre?e=s+1:i=s}return e}function _c(t){(!Ui.length||!Ui.includes(t,Po&&t.allowRecurse?Nn+1:Nn))&&(t.id==null?Ui.push(t):Ui.splice(Ev(t.id),0,t),Yg())}function Yg(){!Po&&!wh&&(wh=!0,vc=zg.then(jg))}function Rv(t){const e=Ui.indexOf(t);e>Nn&&Ui.splice(e,1)}function Lv(t){rt(t)?Oa.push(...t):(!Ts||!Ts.includes(t,t.allowRecurse?Js+1:Js))&&Oa.push(t),Yg()}function tu(t,e,i=Po?Nn+1:0){for(;i<Ui.length;i++){const s=Ui[i];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Ui.splice(i,1),i--,s()}}}function Xg(t){if(Oa.length){const e=[...new Set(Oa)].sort((i,s)=>Eo(i)-Eo(s));if(Oa.length=0,Ts){Ts.push(...e);return}for(Ts=e,Js=0;Js<Ts.length;Js++)Ts[Js]();Ts=null,Js=0}}const Eo=t=>t.id==null?1/0:t.id,Ov=(t,e)=>{const i=Eo(t)-Eo(e);if(i===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function jg(t){wh=!1,Po=!0,Ui.sort(Ov);try{for(Nn=0;Nn<Ui.length;Nn++){const e=Ui[Nn];e&&e.active!==!1&&Os(e,null,14)}}finally{Nn=0,Ui.length=0,Xg(),Po=!1,vc=null,(Ui.length||Oa.length)&&jg()}}function Bv(t,e,...i){if(t.isUnmounted)return;const s=t.vnode.props||si;let o=i;const c=e.startsWith("update:"),u=c&&e.slice(7);if(u&&u in s){const b=`${u==="modelValue"?"model":u}Modifiers`,{number:L,trim:B}=s[b]||si;B&&(o=i.map(U=>yi(U)?U.trim():U)),L&&(o=i.map(vh))}let x,C=s[x=dr(e)]||s[x=dr($n(e))];!C&&c&&(C=s[x=dr(eo(e))]),C&&gn(C,t,6,o);const S=s[x+"Once"];if(S){if(!t.emitted)t.emitted={};else if(t.emitted[x])return;t.emitted[x]=!0,gn(S,t,6,o)}}function Kg(t,e,i=!1){const s=e.emitsCache,o=s.get(t);if(o!==void 0)return o;const c=t.emits;let u={},x=!1;if(!kt(t)){const C=S=>{const b=Kg(S,e,!0);b&&(x=!0,xi(u,b))};!i&&e.mixins.length&&e.mixins.forEach(C),t.extends&&C(t.extends),t.mixins&&t.mixins.forEach(C)}return!c&&!x?(ii(t)&&s.set(t,null),null):(rt(c)?c.forEach(C=>u[C]=null):xi(u,c),ii(t)&&s.set(t,u),u)}function cl(t,e){return!t||!sl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Nt(t,e[0].toLowerCase()+e.slice(1))||Nt(t,eo(e))||Nt(t,e))}let wi=null,dl=null;function wr(t){const e=wi;return wi=t,dl=t&&t.type.__scopeId||null,e}function Ws(t){dl=t}function Us(){dl=null}function Oi(t,e=wi,i){if(!e||t._n)return t;const s=(...o)=>{s._d&&uu(-1);const c=wr(e);let u;try{u=t(...o)}finally{wr(c),s._d&&uu(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function Nl(t){const{type:e,vnode:i,proxy:s,withProxy:o,propsOptions:[c],slots:u,attrs:x,emit:C,render:S,renderCache:b,props:L,data:B,setupState:U,ctx:q,inheritAttrs:ne}=t,ce=wr(t);let ke,pe;try{if(i.shapeFlag&4){const Ee=o||s,De=Ee;ke=Dn(S.call(De,Ee,b,L,U,B,q)),pe=x}else{const Ee=e;ke=Dn(Ee.length>1?Ee(L,{attrs:x,slots:u,emit:C}):Ee(L,null)),pe=e.props?x:Fv(x)}}catch(Ee){vo.length=0,hl(Ee,t,1),ke=Ot(cs)}let Pe=ke;if(pe&&ne!==!1){const Ee=Object.keys(pe),{shapeFlag:De}=Pe;Ee.length&&De&7&&(c&&Ee.some(lc)&&(pe=Dv(pe,c)),Pe=aa(Pe,pe))}return i.dirs&&(Pe=aa(Pe),Pe.dirs=Pe.dirs?Pe.dirs.concat(i.dirs):i.dirs),i.transition&&(Pe.transition=i.transition),ke=Pe,wr(ce),ke}const Fv=t=>{let e;for(const i in t)(i==="class"||i==="style"||sl(i))&&((e||(e={}))[i]=t[i]);return e},Dv=(t,e)=>{const i={};for(const s in t)(!lc(s)||!(s.slice(9)in e))&&(i[s]=t[s]);return i};function Nv(t,e,i){const{props:s,children:o,component:c}=t,{props:u,children:x,patchFlag:C}=e,S=c.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&C>=0){if(C&1024)return!0;if(C&16)return s?iu(s,u,S):!!u;if(C&8){const b=e.dynamicProps;for(let L=0;L<b.length;L++){const B=b[L];if(u[B]!==s[B]&&!cl(S,B))return!0}}}else return(o||x)&&(!x||!x.$stable)?!0:s===u?!1:s?u?iu(s,u,S):!0:!!u;return!1}function iu(t,e,i){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let o=0;o<s.length;o++){const c=s[o];if(e[c]!==t[c]&&!cl(i,c))return!0}return!1}function Vv({vnode:t,parent:e},i){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=i,e=e.parent;else break}}const $g="components";function fn(t,e){return Jg($g,t,!0,e)||t}const Gg=Symbol.for("v-ndc");function Cc(t){return yi(t)?Jg($g,t,!1)||t:t||Gg}function Jg(t,e,i=!0,s=!1){const o=wi||Fi;if(o){const c=o.type;{const x=Lb(c,!1);if(x&&(x===e||x===$n(e)||x===rl($n(e))))return c}const u=nu(o[t]||c[t],e)||nu(o.appContext[t],e);return!u&&s?c:u}}function nu(t,e){return t&&(t[e]||t[$n(e)]||t[rl($n(e))])}const Hv=t=>t.__isSuspense;function Wv(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):Lv(t)}const Uv=Symbol.for("v-scx"),zv=()=>Yn(Uv),Zo={};function Ba(t,e,i){return Qg(t,e,i)}function Qg(t,e,{immediate:i,deep:s,flush:o,once:c,onTrack:u,onTrigger:x}=si){if(e&&c){const me=e;e=(...We)=>{me(...We),De()}}const C=Fi,S=me=>s===!0?me:Zs(me,s===!1?1:void 0);let b,L=!1,B=!1;if(tn(t)?(b=()=>t.value,L=Tr(t)):fo(t)?(b=()=>S(t),L=!0):rt(t)?(B=!0,L=t.some(me=>fo(me)||Tr(me)),b=()=>t.map(me=>{if(tn(me))return me.value;if(fo(me))return S(me);if(kt(me))return Os(me,C,2)})):kt(t)?e?b=()=>Os(t,C,2):b=()=>(U&&U(),gn(t,C,3,[q])):b=pn,e&&s){const me=b;b=()=>Zs(me())}let U,q=me=>{U=Pe.onStop=()=>{Os(me,C,4),U=Pe.onStop=void 0}},ne;if(ml)if(q=pn,e?i&&gn(e,C,3,[b(),B?[]:void 0,q]):b(),o==="sync"){const me=zv();ne=me.__watcherHandles||(me.__watcherHandles=[])}else return pn;let ce=B?new Array(t.length).fill(Zo):Zo;const ke=()=>{if(!(!Pe.active||!Pe.dirty))if(e){const me=Pe.run();(s||L||(B?me.some((We,Ae)=>Fs(We,ce[Ae])):Fs(me,ce)))&&(U&&U(),gn(e,C,3,[me,ce===Zo?void 0:B&&ce[0]===Zo?[]:ce,q]),ce=me)}else Pe.run()};ke.allowRecurse=!!e;let pe;o==="sync"?pe=ke:o==="post"?pe=()=>Ji(ke,C&&C.suspense):(ke.pre=!0,C&&(ke.id=C.uid),pe=()=>_c(ke));const Pe=new dc(b,pn,pe),Ee=av(),De=()=>{Pe.stop(),Ee&&hc(Ee.effects,Pe)};return e?i?ke():ce=Pe.run():o==="post"?Ji(Pe.run.bind(Pe),C&&C.suspense):Pe.run(),ne&&ne.push(De),De}function Yv(t,e,i){const s=this.proxy,o=yi(t)?t.includes(".")?qg(s,t):()=>s[t]:t.bind(s,s);let c;kt(e)?c=e:(c=e.handler,i=e);const u=Vo(this),x=Qg(o,c.bind(s),i);return u(),x}function qg(t,e){const i=e.split(".");return()=>{let s=t;for(let o=0;o<i.length&&s;o++)s=s[i[o]];return s}}function Zs(t,e,i=0,s){if(!ii(t)||t.__v_skip)return t;if(e&&e>0){if(i>=e)return t;i++}if(s=s||new Set,s.has(t))return t;if(s.add(t),tn(t))Zs(t.value,e,i,s);else if(rt(t))for(let o=0;o<t.length;o++)Zs(t[o],e,i,s);else if(al(t)||La(t))t.forEach(o=>{Zs(o,e,i,s)});else if(yg(t))for(const o in t)Zs(t[o],e,i,s);return t}function Ci(t,e){if(wi===null)return t;const i=xl(wi)||wi.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[c,u,x,C=si]=e[o];c&&(kt(c)&&(c={mounted:c,updated:c}),c.deep&&Zs(u),s.push({dir:c,instance:i,value:u,oldValue:void 0,arg:x,modifiers:C}))}return t}function js(t,e,i,s){const o=t.dirs,c=e&&e.dirs;for(let u=0;u<o.length;u++){const x=o[u];c&&(x.oldValue=c[u].value);let C=x.dir[s];C&&(Vs(),gn(C,i,8,[t.el,x,t,e]),Hs())}}const ya=Symbol("_leaveCb"),er=Symbol("_enterCb");function Xv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pl(()=>{t.isMounted=!0}),sf(()=>{t.isUnmounting=!0}),t}const dn=[Function,Array],jv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dn,onEnter:dn,onAfterEnter:dn,onEnterCancelled:dn,onBeforeLeave:dn,onLeave:dn,onAfterLeave:dn,onLeaveCancelled:dn,onBeforeAppear:dn,onAppear:dn,onAfterAppear:dn,onAppearCancelled:dn};function Kv(t,e){const{leavingVNodes:i}=t;let s=i.get(e.type);return s||(s=Object.create(null),i.set(e.type,s)),s}function kh(t,e,i,s){const{appear:o,mode:c,persisted:u=!1,onBeforeEnter:x,onEnter:C,onAfterEnter:S,onEnterCancelled:b,onBeforeLeave:L,onLeave:B,onAfterLeave:U,onLeaveCancelled:q,onBeforeAppear:ne,onAppear:ce,onAfterAppear:ke,onAppearCancelled:pe}=e,Pe=String(t.key),Ee=Kv(i,t),De=(Ae,tt)=>{Ae&&gn(Ae,s,9,tt)},me=(Ae,tt)=>{const st=tt[1];De(Ae,tt),rt(Ae)?Ae.every(et=>et.length<=1)&&st():Ae.length<=1&&st()},We={mode:c,persisted:u,beforeEnter(Ae){let tt=x;if(!i.isMounted)if(o)tt=ne||x;else return;Ae[ya]&&Ae[ya](!0);const st=Ee[Pe];st&&wa(t,st)&&st.el[ya]&&st.el[ya](),De(tt,[Ae])},enter(Ae){let tt=C,st=S,et=b;if(!i.isMounted)if(o)tt=ce||C,st=ke||S,et=pe||b;else return;let ze=!1;const Le=Ae[er]=Rt=>{ze||(ze=!0,Rt?De(et,[Ae]):De(st,[Ae]),We.delayedLeave&&We.delayedLeave(),Ae[er]=void 0)};tt?me(tt,[Ae,Le]):Le()},leave(Ae,tt){const st=String(t.key);if(Ae[er]&&Ae[er](!0),i.isUnmounting)return tt();De(L,[Ae]);let et=!1;const ze=Ae[ya]=Le=>{et||(et=!0,tt(),Le?De(q,[Ae]):De(U,[Ae]),Ae[ya]=void 0,Ee[st]===t&&delete Ee[st])};Ee[st]=t,B?me(B,[Ae,ze]):ze()},clone(Ae){return kh(Ae,e,i,s)}};return We}function Ah(t,e){t.shapeFlag&6&&t.component?Ah(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zg(t,e=!1,i){let s=[],o=0;for(let c=0;c<t.length;c++){let u=t[c];const x=i==null?u.key:String(i)+String(u.key!=null?u.key:c);u.type===ni?(u.patchFlag&128&&o++,s=s.concat(Zg(u.children,e,x))):(e||u.type!==cs)&&s.push(x!=null?aa(u,{key:x}):u)}if(o>1)for(let c=0;c<s.length;c++)s[c].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ps(t,e){return kt(t)?xi({name:t.name},e,{setup:t}):t}const mo=t=>!!t.type.__asyncLoader,ef=t=>t.type.__isKeepAlive;function $v(t,e){tf(t,"a",e)}function Gv(t,e){tf(t,"da",e)}function tf(t,e,i=Fi){const s=t.__wdc||(t.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(ul(e,s,i),i){let o=i.parent;for(;o&&o.parent;)ef(o.parent.vnode)&&Jv(s,e,i,o),o=o.parent}}function Jv(t,e,i,s){const o=ul(e,t,s,!0);af(()=>{hc(s[e],o)},i)}function ul(t,e,i=Fi,s=!1){if(i){const o=i[t]||(i[t]=[]),c=e.__weh||(e.__weh=(...u)=>{if(i.isUnmounted)return;Vs();const x=Vo(i),C=gn(e,i,t,u);return x(),Hs(),C});return s?o.unshift(c):o.push(c),c}}const gs=t=>(e,i=Fi)=>(!ml||t==="sp")&&ul(t,(...s)=>e(...s),i),Qv=gs("bm"),pl=gs("m"),qv=gs("bu"),nf=gs("u"),sf=gs("bum"),af=gs("um"),Zv=gs("sp"),eb=gs("rtg"),tb=gs("rtc");function ib(t,e=Fi){ul("ec",t,e)}function mn(t,e,i,s){let o;const c=i;if(rt(t)||yi(t)){o=new Array(t.length);for(let u=0,x=t.length;u<x;u++)o[u]=e(t[u],u,void 0,c)}else if(typeof t=="number"){o=new Array(t);for(let u=0;u<t;u++)o[u]=e(u+1,u,void 0,c)}else if(ii(t))if(t[Symbol.iterator])o=Array.from(t,(u,x)=>e(u,x,void 0,c));else{const u=Object.keys(t);o=new Array(u.length);for(let x=0,C=u.length;x<C;x++){const S=u[x];o[x]=e(t[S],S,x,c)}}else o=[];return o}function nb(t,e,i={},s,o){if(wi.isCE||wi.parent&&mo(wi.parent)&&wi.parent.isCE)return Ot("slot",i,s);let c=t[e];c&&c._c&&(c._d=!1),Be();const u=c&&of(c(i)),x=Qi(ni,{key:i.key||u&&u.key||`_${e}`},u||[],u&&t._===1?64:-2);return x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),c&&c._c&&(c._d=!0),x}function of(t){return t.some(e=>Ar(e)?!(e.type===cs||e.type===ni&&!of(e.children)):!0)?t:null}function sb(t,e){const i={};for(const s in t)i[dr(s)]=t[s];return i}const Sh=t=>t?Cf(t)?xl(t)||t.proxy:Sh(t.parent):null,xo=xi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sh(t.parent),$root:t=>Sh(t.root),$emit:t=>t.emit,$options:t=>Tc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,_c(t.update)}),$nextTick:t=>t.n||(t.n=bc.bind(t.proxy)),$watch:t=>Yv.bind(t)}),Vl=(t,e)=>t!==si&&!t.__isScriptSetup&&Nt(t,e),ab={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:s,data:o,props:c,accessCache:u,type:x,appContext:C}=t;let S;if(e[0]!=="$"){const U=u[e];if(U!==void 0)switch(U){case 1:return s[e];case 2:return o[e];case 4:return i[e];case 3:return c[e]}else{if(Vl(s,e))return u[e]=1,s[e];if(o!==si&&Nt(o,e))return u[e]=2,o[e];if((S=t.propsOptions[0])&&Nt(S,e))return u[e]=3,c[e];if(i!==si&&Nt(i,e))return u[e]=4,i[e];Mh&&(u[e]=0)}}const b=xo[e];let L,B;if(b)return e==="$attrs"&&en(t.attrs,"get",""),b(t);if((L=x.__cssModules)&&(L=L[e]))return L;if(i!==si&&Nt(i,e))return u[e]=4,i[e];if(B=C.config.globalProperties,Nt(B,e))return B[e]},set({_:t},e,i){const{data:s,setupState:o,ctx:c}=t;return Vl(o,e)?(o[e]=i,!0):s!==si&&Nt(s,e)?(s[e]=i,!0):Nt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(c[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:s,appContext:o,propsOptions:c}},u){let x;return!!i[u]||t!==si&&Nt(t,u)||Vl(e,u)||(x=c[0])&&Nt(x,u)||Nt(s,u)||Nt(xo,u)||Nt(o.config.globalProperties,u)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:Nt(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function su(t){return rt(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let Mh=!0;function ob(t){const e=Tc(t),i=t.proxy,s=t.ctx;Mh=!1,e.beforeCreate&&au(e.beforeCreate,t,"bc");const{data:o,computed:c,methods:u,watch:x,provide:C,inject:S,created:b,beforeMount:L,mounted:B,beforeUpdate:U,updated:q,activated:ne,deactivated:ce,beforeDestroy:ke,beforeUnmount:pe,destroyed:Pe,unmounted:Ee,render:De,renderTracked:me,renderTriggered:We,errorCaptured:Ae,serverPrefetch:tt,expose:st,inheritAttrs:et,components:ze,directives:Le,filters:Rt}=e;if(S&&rb(S,s,null),u)for(const ct in u){const mt=u[ct];kt(mt)&&(s[ct]=mt.bind(i))}if(o){const ct=o.call(i,i);ii(ct)&&(t.data=to(ct))}if(Mh=!0,c)for(const ct in c){const mt=c[ct],pi=kt(mt)?mt.bind(i,i):kt(mt.get)?mt.get.bind(i,i):pn,Yt=!kt(mt)&&kt(mt.set)?mt.set.bind(i):pn,X=un({get:pi,set:Yt});Object.defineProperty(s,ct,{enumerable:!0,configurable:!0,get:()=>X.value,set:Bt=>X.value=Bt})}if(x)for(const ct in x)rf(x[ct],s,i,ct);if(C){const ct=kt(C)?C.call(i):C;Reflect.ownKeys(ct).forEach(mt=>{gr(mt,ct[mt])})}b&&au(b,t,"c");function _t(ct,mt){rt(mt)?mt.forEach(pi=>ct(pi.bind(i))):mt&&ct(mt.bind(i))}if(_t(Qv,L),_t(pl,B),_t(qv,U),_t(nf,q),_t($v,ne),_t(Gv,ce),_t(ib,Ae),_t(tb,me),_t(eb,We),_t(sf,pe),_t(af,Ee),_t(Zv,tt),rt(st))if(st.length){const ct=t.exposed||(t.exposed={});st.forEach(mt=>{Object.defineProperty(ct,mt,{get:()=>i[mt],set:pi=>i[mt]=pi})})}else t.exposed||(t.exposed={});De&&t.render===pn&&(t.render=De),et!=null&&(t.inheritAttrs=et),ze&&(t.components=ze),Le&&(t.directives=Le)}function rb(t,e,i=pn){rt(t)&&(t=Ih(t));for(const s in t){const o=t[s];let c;ii(o)?"default"in o?c=Yn(o.from||s,o.default,!0):c=Yn(o.from||s):c=Yn(o),tn(c)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>c.value,set:u=>c.value=u}):e[s]=c}}function au(t,e,i){gn(rt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,i)}function rf(t,e,i,s){const o=s.includes(".")?qg(i,s):()=>i[s];if(yi(t)){const c=e[t];kt(c)&&Ba(o,c)}else if(kt(t))Ba(o,t.bind(i));else if(ii(t))if(rt(t))t.forEach(c=>rf(c,e,i,s));else{const c=kt(t.handler)?t.handler.bind(i):e[t.handler];kt(c)&&Ba(o,c,t)}}function Tc(t){const e=t.type,{mixins:i,extends:s}=e,{mixins:o,optionsCache:c,config:{optionMergeStrategies:u}}=t.appContext,x=c.get(e);let C;return x?C=x:!o.length&&!i&&!s?C=e:(C={},o.length&&o.forEach(S=>kr(C,S,u,!0)),kr(C,e,u)),ii(e)&&c.set(e,C),C}function kr(t,e,i,s=!1){const{mixins:o,extends:c}=e;c&&kr(t,c,i,!0),o&&o.forEach(u=>kr(t,u,i,!0));for(const u in e)if(!(s&&u==="expose")){const x=lb[u]||i&&i[u];t[u]=x?x(t[u],e[u]):e[u]}return t}const lb={data:ou,props:ru,emits:ru,methods:co,computed:co,beforeCreate:Xi,created:Xi,beforeMount:Xi,mounted:Xi,beforeUpdate:Xi,updated:Xi,beforeDestroy:Xi,beforeUnmount:Xi,destroyed:Xi,unmounted:Xi,activated:Xi,deactivated:Xi,errorCaptured:Xi,serverPrefetch:Xi,components:co,directives:co,watch:cb,provide:ou,inject:hb};function ou(t,e){return e?t?function(){return xi(kt(t)?t.call(this,this):t,kt(e)?e.call(this,this):e)}:e:t}function hb(t,e){return co(Ih(t),Ih(e))}function Ih(t){if(rt(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Xi(t,e){return t?[...new Set([].concat(t,e))]:e}function co(t,e){return t?xi(Object.create(null),t,e):e}function ru(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:xi(Object.create(null),su(t),su(e??{})):e}function cb(t,e){if(!t)return e;if(!e)return t;const i=xi(Object.create(null),t);for(const s in e)i[s]=Xi(t[s],e[s]);return i}function lf(){return{app:null,config:{isNativeTag:Yy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let db=0;function ub(t,e){return function(s,o=null){kt(s)||(s=xi({},s)),o!=null&&!ii(o)&&(o=null);const c=lf(),u=new WeakSet;let x=!1;const C=c.app={_uid:db++,_component:s,_props:o,_container:null,_context:c,_instance:null,version:Bb,get config(){return c.config},set config(S){},use(S,...b){return u.has(S)||(S&&kt(S.install)?(u.add(S),S.install(C,...b)):kt(S)&&(u.add(S),S(C,...b))),C},mixin(S){return c.mixins.includes(S)||c.mixins.push(S),C},component(S,b){return b?(c.components[S]=b,C):c.components[S]},directive(S,b){return b?(c.directives[S]=b,C):c.directives[S]},mount(S,b,L){if(!x){const B=Ot(s,o);return B.appContext=c,L===!0?L="svg":L===!1&&(L=void 0),b&&e?e(B,S):t(B,S,L),x=!0,C._container=S,S.__vue_app__=C,xl(B.component)||B.component.proxy}},unmount(){x&&(t(null,C._container),delete C._container.__vue_app__)},provide(S,b){return c.provides[S]=b,C},runWithContext(S){const b=yo;yo=C;try{return S()}finally{yo=b}}};return C}}let yo=null;function gr(t,e){if(Fi){let i=Fi.provides;const s=Fi.parent&&Fi.parent.provides;s===i&&(i=Fi.provides=Object.create(s)),i[t]=e}}function Yn(t,e,i=!1){const s=Fi||wi;if(s||yo){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:yo._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return i&&kt(e)?e.call(s&&s.proxy):e}}const hf={},cf=()=>Object.create(hf),df=t=>Object.getPrototypeOf(t)===hf;function pb(t,e,i,s=!1){const o={},c=cf();t.propsDefaults=Object.create(null),uf(t,e,o,c);for(const u in t.propsOptions[0])u in o||(o[u]=void 0);i?t.props=s?o:Fg(o):t.type.props?t.props=o:t.props=c,t.attrs=c}function gb(t,e,i,s){const{props:o,attrs:c,vnode:{patchFlag:u}}=t,x=Ht(o),[C]=t.propsOptions;let S=!1;if((s||u>0)&&!(u&16)){if(u&8){const b=t.vnode.dynamicProps;for(let L=0;L<b.length;L++){let B=b[L];if(cl(t.emitsOptions,B))continue;const U=e[B];if(C)if(Nt(c,B))U!==c[B]&&(c[B]=U,S=!0);else{const q=$n(B);o[q]=Ph(C,x,q,U,t,!1)}else U!==c[B]&&(c[B]=U,S=!0)}}}else{uf(t,e,o,c)&&(S=!0);let b;for(const L in x)(!e||!Nt(e,L)&&((b=eo(L))===L||!Nt(e,b)))&&(C?i&&(i[L]!==void 0||i[b]!==void 0)&&(o[L]=Ph(C,x,L,void 0,t,!0)):delete o[L]);if(c!==x)for(const L in c)(!e||!Nt(e,L))&&(delete c[L],S=!0)}S&&as(t.attrs,"set","")}function uf(t,e,i,s){const[o,c]=t.propsOptions;let u=!1,x;if(e)for(let C in e){if(go(C))continue;const S=e[C];let b;o&&Nt(o,b=$n(C))?!c||!c.includes(b)?i[b]=S:(x||(x={}))[b]=S:cl(t.emitsOptions,C)||(!(C in s)||S!==s[C])&&(s[C]=S,u=!0)}if(c){const C=Ht(i),S=x||si;for(let b=0;b<c.length;b++){const L=c[b];i[L]=Ph(o,C,L,S[L],t,!Nt(S,L))}}return u}function Ph(t,e,i,s,o,c){const u=t[i];if(u!=null){const x=Nt(u,"default");if(x&&s===void 0){const C=u.default;if(u.type!==Function&&!u.skipFactory&&kt(C)){const{propsDefaults:S}=o;if(i in S)s=S[i];else{const b=Vo(o);s=S[i]=C.call(null,e),b()}}else s=C}u[0]&&(c&&!x?s=!1:u[1]&&(s===""||s===eo(i))&&(s=!0))}return s}function pf(t,e,i=!1){const s=e.propsCache,o=s.get(t);if(o)return o;const c=t.props,u={},x=[];let C=!1;if(!kt(t)){const b=L=>{C=!0;const[B,U]=pf(L,e,!0);xi(u,B),U&&x.push(...U)};!i&&e.mixins.length&&e.mixins.forEach(b),t.extends&&b(t.extends),t.mixins&&t.mixins.forEach(b)}if(!c&&!C)return ii(t)&&s.set(t,Ra),Ra;if(rt(c))for(let b=0;b<c.length;b++){const L=$n(c[b]);lu(L)&&(u[L]=si)}else if(c)for(const b in c){const L=$n(b);if(lu(L)){const B=c[b],U=u[L]=rt(B)||kt(B)?{type:B}:xi({},B);if(U){const q=du(Boolean,U.type),ne=du(String,U.type);U[0]=q>-1,U[1]=ne<0||q<ne,(q>-1||Nt(U,"default"))&&x.push(L)}}}const S=[u,x];return ii(t)&&s.set(t,S),S}function lu(t){return t[0]!=="$"&&!go(t)}function hu(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function cu(t,e){return hu(t)===hu(e)}function du(t,e){return rt(e)?e.findIndex(i=>cu(i,t)):kt(e)&&cu(e,t)?0:-1}const gf=t=>t[0]==="_"||t==="$stable",wc=t=>rt(t)?t.map(Dn):[Dn(t)],fb=(t,e,i)=>{if(e._n)return e;const s=Oi((...o)=>wc(e(...o)),i);return s._c=!1,s},ff=(t,e,i)=>{const s=t._ctx;for(const o in t){if(gf(o))continue;const c=t[o];if(kt(c))e[o]=fb(o,c,s);else if(c!=null){const u=wc(c);e[o]=()=>u}}},mf=(t,e)=>{const i=wc(e);t.slots.default=()=>i},mb=(t,e)=>{const i=t.slots=cf();if(t.vnode.shapeFlag&32){const s=e._;s?(xi(i,e),vg(i,"_",s)):ff(e,i)}else e&&mf(t,e)},xb=(t,e,i)=>{const{vnode:s,slots:o}=t;let c=!0,u=si;if(s.shapeFlag&32){const x=e._;x?i&&x===1?c=!1:(xi(o,e),!i&&x===1&&delete o._):(c=!e.$stable,ff(e,o)),u=e}else e&&(mf(t,e),u={default:1});if(c)for(const x in o)!gf(x)&&u[x]==null&&delete o[x]};function Eh(t,e,i,s,o=!1){if(rt(t)){t.forEach((B,U)=>Eh(B,e&&(rt(e)?e[U]:e),i,s,o));return}if(mo(s)&&!o)return;const c=s.shapeFlag&4?xl(s.component)||s.component.proxy:s.el,u=o?null:c,{i:x,r:C}=t,S=e&&e.r,b=x.refs===si?x.refs={}:x.refs,L=x.setupState;if(S!=null&&S!==C&&(yi(S)?(b[S]=null,Nt(L,S)&&(L[S]=null)):tn(S)&&(S.value=null)),kt(C))Os(C,x,12,[u,b]);else{const B=yi(C),U=tn(C);if(B||U){const q=()=>{if(t.f){const ne=B?Nt(L,C)?L[C]:b[C]:C.value;o?rt(ne)&&hc(ne,c):rt(ne)?ne.includes(c)||ne.push(c):B?(b[C]=[c],Nt(L,C)&&(L[C]=b[C])):(C.value=[c],t.k&&(b[t.k]=C.value))}else B?(b[C]=u,Nt(L,C)&&(L[C]=u)):U&&(C.value=u,t.k&&(b[t.k]=u))};u?(q.id=-1,Ji(q,i)):q()}}}const Ji=Wv;function yb(t){return vb(t)}function vb(t,e){const i=bg();i.__VUE__=!0;const{insert:s,remove:o,patchProp:c,createElement:u,createText:x,createComment:C,setText:S,setElementText:b,parentNode:L,nextSibling:B,setScopeId:U=pn,insertStaticContent:q}=t,ne=(F,H,K,de=null,se=null,Ie=null,Ne=void 0,Ce=null,Fe=!!H.dynamicChildren)=>{if(F===H)return;F&&!wa(F,H)&&(de=z(F),Bt(F,se,Ie,!0),F=null),H.patchFlag===-2&&(Fe=!1,H.dynamicChildren=null);const{type:Te,ref:Qe,shapeFlag:it}=H;switch(Te){case gl:ce(F,H,K,de);break;case cs:ke(F,H,K,de);break;case Wl:F==null&&pe(H,K,de,Ne);break;case ni:ze(F,H,K,de,se,Ie,Ne,Ce,Fe);break;default:it&1?De(F,H,K,de,se,Ie,Ne,Ce,Fe):it&6?Le(F,H,K,de,se,Ie,Ne,Ce,Fe):(it&64||it&128)&&Te.process(F,H,K,de,se,Ie,Ne,Ce,Fe,_e)}Qe!=null&&se&&Eh(Qe,F&&F.ref,Ie,H||F,!H)},ce=(F,H,K,de)=>{if(F==null)s(H.el=x(H.children),K,de);else{const se=H.el=F.el;H.children!==F.children&&S(se,H.children)}},ke=(F,H,K,de)=>{F==null?s(H.el=C(H.children||""),K,de):H.el=F.el},pe=(F,H,K,de)=>{[F.el,F.anchor]=q(F.children,H,K,de,F.el,F.anchor)},Pe=({el:F,anchor:H},K,de)=>{let se;for(;F&&F!==H;)se=B(F),s(F,K,de),F=se;s(H,K,de)},Ee=({el:F,anchor:H})=>{let K;for(;F&&F!==H;)K=B(F),o(F),F=K;o(H)},De=(F,H,K,de,se,Ie,Ne,Ce,Fe)=>{H.type==="svg"?Ne="svg":H.type==="math"&&(Ne="mathml"),F==null?me(H,K,de,se,Ie,Ne,Ce,Fe):tt(F,H,se,Ie,Ne,Ce,Fe)},me=(F,H,K,de,se,Ie,Ne,Ce)=>{let Fe,Te;const{props:Qe,shapeFlag:it,transition:at,dirs:Ge}=F;if(Fe=F.el=u(F.type,Ie,Qe&&Qe.is,Qe),it&8?b(Fe,F.children):it&16&&Ae(F.children,Fe,null,de,se,Hl(F,Ie),Ne,Ce),Ge&&js(F,null,de,"created"),We(Fe,F,F.scopeId,Ne,de),Qe){for(const Ft in Qe)Ft!=="value"&&!go(Ft)&&c(Fe,Ft,null,Qe[Ft],Ie,F.children,de,se,oe);"value"in Qe&&c(Fe,"value",null,Qe.value,Ie),(Te=Qe.onVnodeBeforeMount)&&Bn(Te,de,F)}Ge&&js(F,null,de,"beforeMount");const Ct=bb(se,at);Ct&&at.beforeEnter(Fe),s(Fe,H,K),((Te=Qe&&Qe.onVnodeMounted)||Ct||Ge)&&Ji(()=>{Te&&Bn(Te,de,F),Ct&&at.enter(Fe),Ge&&js(F,null,de,"mounted")},se)},We=(F,H,K,de,se)=>{if(K&&U(F,K),de)for(let Ie=0;Ie<de.length;Ie++)U(F,de[Ie]);if(se){let Ie=se.subTree;if(H===Ie){const Ne=se.vnode;We(F,Ne,Ne.scopeId,Ne.slotScopeIds,se.parent)}}},Ae=(F,H,K,de,se,Ie,Ne,Ce,Fe=0)=>{for(let Te=Fe;Te<F.length;Te++){const Qe=F[Te]=Ce?ws(F[Te]):Dn(F[Te]);ne(null,Qe,H,K,de,se,Ie,Ne,Ce)}},tt=(F,H,K,de,se,Ie,Ne)=>{const Ce=H.el=F.el;let{patchFlag:Fe,dynamicChildren:Te,dirs:Qe}=H;Fe|=F.patchFlag&16;const it=F.props||si,at=H.props||si;let Ge;if(K&&Ks(K,!1),(Ge=at.onVnodeBeforeUpdate)&&Bn(Ge,K,H,F),Qe&&js(H,F,K,"beforeUpdate"),K&&Ks(K,!0),Te?st(F.dynamicChildren,Te,Ce,K,de,Hl(H,se),Ie):Ne||mt(F,H,Ce,null,K,de,Hl(H,se),Ie,!1),Fe>0){if(Fe&16)et(Ce,H,it,at,K,de,se);else if(Fe&2&&it.class!==at.class&&c(Ce,"class",null,at.class,se),Fe&4&&c(Ce,"style",it.style,at.style,se),Fe&8){const Ct=H.dynamicProps;for(let Ft=0;Ft<Ct.length;Ft++){const Jt=Ct[Ft],hi=it[Jt],Wt=at[Jt];(Wt!==hi||Jt==="value")&&c(Ce,Jt,hi,Wt,se,F.children,K,de,oe)}}Fe&1&&F.children!==H.children&&b(Ce,H.children)}else!Ne&&Te==null&&et(Ce,H,it,at,K,de,se);((Ge=at.onVnodeUpdated)||Qe)&&Ji(()=>{Ge&&Bn(Ge,K,H,F),Qe&&js(H,F,K,"updated")},de)},st=(F,H,K,de,se,Ie,Ne)=>{for(let Ce=0;Ce<H.length;Ce++){const Fe=F[Ce],Te=H[Ce],Qe=Fe.el&&(Fe.type===ni||!wa(Fe,Te)||Fe.shapeFlag&70)?L(Fe.el):K;ne(Fe,Te,Qe,null,de,se,Ie,Ne,!0)}},et=(F,H,K,de,se,Ie,Ne)=>{if(K!==de){if(K!==si)for(const Ce in K)!go(Ce)&&!(Ce in de)&&c(F,Ce,K[Ce],null,Ne,H.children,se,Ie,oe);for(const Ce in de){if(go(Ce))continue;const Fe=de[Ce],Te=K[Ce];Fe!==Te&&Ce!=="value"&&c(F,Ce,Te,Fe,Ne,H.children,se,Ie,oe)}"value"in de&&c(F,"value",K.value,de.value,Ne)}},ze=(F,H,K,de,se,Ie,Ne,Ce,Fe)=>{const Te=H.el=F?F.el:x(""),Qe=H.anchor=F?F.anchor:x("");let{patchFlag:it,dynamicChildren:at,slotScopeIds:Ge}=H;Ge&&(Ce=Ce?Ce.concat(Ge):Ge),F==null?(s(Te,K,de),s(Qe,K,de),Ae(H.children||[],K,Qe,se,Ie,Ne,Ce,Fe)):it>0&&it&64&&at&&F.dynamicChildren?(st(F.dynamicChildren,at,K,se,Ie,Ne,Ce),(H.key!=null||se&&H===se.subTree)&&xf(F,H,!0)):mt(F,H,K,Qe,se,Ie,Ne,Ce,Fe)},Le=(F,H,K,de,se,Ie,Ne,Ce,Fe)=>{H.slotScopeIds=Ce,F==null?H.shapeFlag&512?se.ctx.activate(H,K,de,Ne,Fe):Rt(H,K,de,se,Ie,Ne,Fe):Gt(F,H,Fe)},Rt=(F,H,K,de,se,Ie,Ne)=>{const Ce=F.component=Mb(F,de,se);if(ef(F)&&(Ce.ctx.renderer=_e),Ib(Ce),Ce.asyncDep){if(se&&se.registerDep(Ce,_t),!F.el){const Fe=Ce.subTree=Ot(cs);ke(null,Fe,H,K)}}else _t(Ce,F,H,K,se,Ie,Ne)},Gt=(F,H,K)=>{const de=H.component=F.component;if(Nv(F,H,K))if(de.asyncDep&&!de.asyncResolved){ct(de,H,K);return}else de.next=H,Rv(de.update),de.effect.dirty=!0,de.update();else H.el=F.el,de.vnode=H},_t=(F,H,K,de,se,Ie,Ne)=>{const Ce=()=>{if(F.isMounted){let{next:Qe,bu:it,u:at,parent:Ge,vnode:Ct}=F;{const Dt=yf(F);if(Dt){Qe&&(Qe.el=Ct.el,ct(F,Qe,Ne)),Dt.asyncDep.then(()=>{F.isUnmounted||Ce()});return}}let Ft=Qe,Jt;Ks(F,!1),Qe?(Qe.el=Ct.el,ct(F,Qe,Ne)):Qe=Ct,it&&ur(it),(Jt=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&Bn(Jt,Ge,Qe,Ct),Ks(F,!0);const hi=Nl(F),Wt=F.subTree;F.subTree=hi,ne(Wt,hi,L(Wt.el),z(Wt),F,se,Ie),Qe.el=hi.el,Ft===null&&Vv(F,hi.el),at&&Ji(at,se),(Jt=Qe.props&&Qe.props.onVnodeUpdated)&&Ji(()=>Bn(Jt,Ge,Qe,Ct),se)}else{let Qe;const{el:it,props:at}=H,{bm:Ge,m:Ct,parent:Ft}=F,Jt=mo(H);if(Ks(F,!1),Ge&&ur(Ge),!Jt&&(Qe=at&&at.onVnodeBeforeMount)&&Bn(Qe,Ft,H),Ks(F,!0),it&&ht){const hi=()=>{F.subTree=Nl(F),ht(it,F.subTree,F,se,null)};Jt?H.type.__asyncLoader().then(()=>!F.isUnmounted&&hi()):hi()}else{const hi=F.subTree=Nl(F);ne(null,hi,K,de,F,se,Ie),H.el=hi.el}if(Ct&&Ji(Ct,se),!Jt&&(Qe=at&&at.onVnodeMounted)){const hi=H;Ji(()=>Bn(Qe,Ft,hi),se)}(H.shapeFlag&256||Ft&&mo(Ft.vnode)&&Ft.vnode.shapeFlag&256)&&F.a&&Ji(F.a,se),F.isMounted=!0,H=K=de=null}},Fe=F.effect=new dc(Ce,pn,()=>_c(Te),F.scope),Te=F.update=()=>{Fe.dirty&&Fe.run()};Te.id=F.uid,Ks(F,!0),Te()},ct=(F,H,K)=>{H.component=F;const de=F.vnode.props;F.vnode=H,F.next=null,gb(F,H.props,de,K),xb(F,H.children,K),Vs(),tu(F),Hs()},mt=(F,H,K,de,se,Ie,Ne,Ce,Fe=!1)=>{const Te=F&&F.children,Qe=F?F.shapeFlag:0,it=H.children,{patchFlag:at,shapeFlag:Ge}=H;if(at>0){if(at&128){Yt(Te,it,K,de,se,Ie,Ne,Ce,Fe);return}else if(at&256){pi(Te,it,K,de,se,Ie,Ne,Ce,Fe);return}}Ge&8?(Qe&16&&oe(Te,se,Ie),it!==Te&&b(K,it)):Qe&16?Ge&16?Yt(Te,it,K,de,se,Ie,Ne,Ce,Fe):oe(Te,se,Ie,!0):(Qe&8&&b(K,""),Ge&16&&Ae(it,K,de,se,Ie,Ne,Ce,Fe))},pi=(F,H,K,de,se,Ie,Ne,Ce,Fe)=>{F=F||Ra,H=H||Ra;const Te=F.length,Qe=H.length,it=Math.min(Te,Qe);let at;for(at=0;at<it;at++){const Ge=H[at]=Fe?ws(H[at]):Dn(H[at]);ne(F[at],Ge,K,null,se,Ie,Ne,Ce,Fe)}Te>Qe?oe(F,se,Ie,!0,!1,it):Ae(H,K,de,se,Ie,Ne,Ce,Fe,it)},Yt=(F,H,K,de,se,Ie,Ne,Ce,Fe)=>{let Te=0;const Qe=H.length;let it=F.length-1,at=Qe-1;for(;Te<=it&&Te<=at;){const Ge=F[Te],Ct=H[Te]=Fe?ws(H[Te]):Dn(H[Te]);if(wa(Ge,Ct))ne(Ge,Ct,K,null,se,Ie,Ne,Ce,Fe);else break;Te++}for(;Te<=it&&Te<=at;){const Ge=F[it],Ct=H[at]=Fe?ws(H[at]):Dn(H[at]);if(wa(Ge,Ct))ne(Ge,Ct,K,null,se,Ie,Ne,Ce,Fe);else break;it--,at--}if(Te>it){if(Te<=at){const Ge=at+1,Ct=Ge<Qe?H[Ge].el:de;for(;Te<=at;)ne(null,H[Te]=Fe?ws(H[Te]):Dn(H[Te]),K,Ct,se,Ie,Ne,Ce,Fe),Te++}}else if(Te>at)for(;Te<=it;)Bt(F[Te],se,Ie,!0),Te++;else{const Ge=Te,Ct=Te,Ft=new Map;for(Te=Ct;Te<=at;Te++){const Di=H[Te]=Fe?ws(H[Te]):Dn(H[Te]);Di.key!=null&&Ft.set(Di.key,Te)}let Jt,hi=0;const Wt=at-Ct+1;let Dt=!1,Ai=0;const Xs=new Array(Wt);for(Te=0;Te<Wt;Te++)Xs[Te]=0;for(Te=Ge;Te<=it;Te++){const Di=F[Te];if(hi>=Wt){Bt(Di,se,Ie,!0);continue}let A;if(Di.key!=null)A=Ft.get(Di.key);else for(Jt=Ct;Jt<=at;Jt++)if(Xs[Jt-Ct]===0&&wa(Di,H[Jt])){A=Jt;break}A===void 0?Bt(Di,se,Ie,!0):(Xs[A-Ct]=Te+1,A>=Ai?Ai=A:Dt=!0,ne(Di,H[A],K,null,se,Ie,Ne,Ce,Fe),hi++)}const Ko=Dt?_b(Xs):Ra;for(Jt=Ko.length-1,Te=Wt-1;Te>=0;Te--){const Di=Ct+Te,A=H[Di],P=Di+1<Qe?H[Di+1].el:de;Xs[Te]===0?ne(null,A,K,P,se,Ie,Ne,Ce,Fe):Dt&&(Jt<0||Te!==Ko[Jt]?X(A,K,P,2):Jt--)}}},X=(F,H,K,de,se=null)=>{const{el:Ie,type:Ne,transition:Ce,children:Fe,shapeFlag:Te}=F;if(Te&6){X(F.component.subTree,H,K,de);return}if(Te&128){F.suspense.move(H,K,de);return}if(Te&64){Ne.move(F,H,K,_e);return}if(Ne===ni){s(Ie,H,K);for(let it=0;it<Fe.length;it++)X(Fe[it],H,K,de);s(F.anchor,H,K);return}if(Ne===Wl){Pe(F,H,K);return}if(de!==2&&Te&1&&Ce)if(de===0)Ce.beforeEnter(Ie),s(Ie,H,K),Ji(()=>Ce.enter(Ie),se);else{const{leave:it,delayLeave:at,afterLeave:Ge}=Ce,Ct=()=>s(Ie,H,K),Ft=()=>{it(Ie,()=>{Ct(),Ge&&Ge()})};at?at(Ie,Ct,Ft):Ft()}else s(Ie,H,K)},Bt=(F,H,K,de=!1,se=!1)=>{const{type:Ie,props:Ne,ref:Ce,children:Fe,dynamicChildren:Te,shapeFlag:Qe,patchFlag:it,dirs:at}=F;if(Ce!=null&&Eh(Ce,null,K,F,!0),Qe&256){H.ctx.deactivate(F);return}const Ge=Qe&1&&at,Ct=!mo(F);let Ft;if(Ct&&(Ft=Ne&&Ne.onVnodeBeforeUnmount)&&Bn(Ft,H,F),Qe&6)Q(F.component,K,de);else{if(Qe&128){F.suspense.unmount(K,de);return}Ge&&js(F,null,H,"beforeUnmount"),Qe&64?F.type.remove(F,H,K,se,_e,de):Te&&(Ie!==ni||it>0&&it&64)?oe(Te,H,K,!1,!0):(Ie===ni&&it&384||!se&&Qe&16)&&oe(Fe,H,K),de&&Je(F)}(Ct&&(Ft=Ne&&Ne.onVnodeUnmounted)||Ge)&&Ji(()=>{Ft&&Bn(Ft,H,F),Ge&&js(F,null,H,"unmounted")},K)},Je=F=>{const{type:H,el:K,anchor:de,transition:se}=F;if(H===ni){O(K,de);return}if(H===Wl){Ee(F);return}const Ie=()=>{o(K),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(F.shapeFlag&1&&se&&!se.persisted){const{leave:Ne,delayLeave:Ce}=se,Fe=()=>Ne(K,Ie);Ce?Ce(F.el,Ie,Fe):Fe()}else Ie()},O=(F,H)=>{let K;for(;F!==H;)K=B(F),o(F),F=K;o(H)},Q=(F,H,K)=>{const{bum:de,scope:se,update:Ie,subTree:Ne,um:Ce}=F;de&&ur(de),se.stop(),Ie&&(Ie.active=!1,Bt(Ne,F,H,K)),Ce&&Ji(Ce,H),Ji(()=>{F.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},oe=(F,H,K,de=!1,se=!1,Ie=0)=>{for(let Ne=Ie;Ne<F.length;Ne++)Bt(F[Ne],H,K,de,se)},z=F=>F.shapeFlag&6?z(F.component.subTree):F.shapeFlag&128?F.suspense.next():B(F.anchor||F.el);let ee=!1;const Z=(F,H,K)=>{F==null?H._vnode&&Bt(H._vnode,null,null,!0):ne(H._vnode||null,F,H,null,null,null,K),ee||(ee=!0,tu(),Xg(),ee=!1),H._vnode=F},_e={p:ne,um:Bt,m:X,r:Je,mt:Rt,mc:Ae,pc:mt,pbc:st,n:z,o:t};let Ke,ht;return{render:Z,hydrate:Ke,createApp:ub(Z,Ke)}}function Hl({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Ks({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function bb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xf(t,e,i=!1){const s=t.children,o=e.children;if(rt(s)&&rt(o))for(let c=0;c<s.length;c++){const u=s[c];let x=o[c];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=o[c]=ws(o[c]),x.el=u.el),i||xf(u,x)),x.type===gl&&(x.el=u.el)}}function _b(t){const e=t.slice(),i=[0];let s,o,c,u,x;const C=t.length;for(s=0;s<C;s++){const S=t[s];if(S!==0){if(o=i[i.length-1],t[o]<S){e[s]=o,i.push(s);continue}for(c=0,u=i.length-1;c<u;)x=c+u>>1,t[i[x]]<S?c=x+1:u=x;S<t[i[c]]&&(c>0&&(e[s]=i[c-1]),i[c]=s)}}for(c=i.length,u=i[c-1];c-- >0;)i[c]=u,u=e[u];return i}function yf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yf(e)}const Cb=t=>t.__isTeleport,ni=Symbol.for("v-fgt"),gl=Symbol.for("v-txt"),cs=Symbol.for("v-cmt"),Wl=Symbol.for("v-stc"),vo=[];let An=null;function Be(t=!1){vo.push(An=t?null:[])}function Tb(){vo.pop(),An=vo[vo.length-1]||null}let Ro=1;function uu(t){Ro+=t}function vf(t){return t.dynamicChildren=Ro>0?An||Ra:null,Tb(),Ro>0&&An&&An.push(t),t}function $e(t,e,i,s,o,c){return vf(J(t,e,i,s,o,c,!0))}function Qi(t,e,i,s,o){return vf(Ot(t,e,i,s,o,!0))}function Ar(t){return t?t.__v_isVNode===!0:!1}function wa(t,e){return t.type===e.type&&t.key===e.key}const bf=({key:t})=>t??null,fr=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?yi(t)||tn(t)||kt(t)?{i:wi,r:t,k:e,f:!!i}:t:null);function J(t,e=null,i=null,s=0,o=null,c=t===ni?0:1,u=!1,x=!1){const C={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bf(e),ref:e&&fr(e),scopeId:dl,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:wi};return x?(kc(C,i),c&128&&t.normalize(C)):i&&(C.shapeFlag|=yi(i)?8:16),Ro>0&&!u&&An&&(C.patchFlag>0||c&6)&&C.patchFlag!==32&&An.push(C),C}const Ot=wb;function wb(t,e=null,i=null,s=0,o=null,c=!1){if((!t||t===Gg)&&(t=cs),Ar(t)){const x=aa(t,e,!0);return i&&kc(x,i),Ro>0&&!c&&An&&(x.shapeFlag&6?An[An.indexOf(t)]=x:An.push(x)),x.patchFlag|=-2,x}if(Ob(t)&&(t=t.__vccOpts),e){e=kb(e);let{class:x,style:C}=e;x&&!yi(x)&&(e.class=Ds(x)),ii(C)&&(Ng(C)&&!rt(C)&&(C=xi({},C)),e.style=Hn(C))}const u=yi(t)?1:Hv(t)?128:Cb(t)?64:ii(t)?4:kt(t)?2:0;return J(t,e,i,s,o,u,c,!0)}function kb(t){return t?Ng(t)||df(t)?xi({},t):t:null}function aa(t,e,i=!1){const{props:s,ref:o,patchFlag:c,children:u}=t,x=e?fl(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&bf(x),ref:e&&e.ref?i&&o?rt(o)?o.concat(fr(e)):[o,fr(e)]:fr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ni?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&aa(t.ssContent),ssFallback:t.ssFallback&&aa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function mi(t=" ",e=0){return Ot(gl,null,t,e)}function on(t="",e=!1){return e?(Be(),Qi(cs,null,t)):Ot(cs,null,t)}function Dn(t){return t==null||typeof t=="boolean"?Ot(cs):rt(t)?Ot(ni,null,t.slice()):typeof t=="object"?ws(t):Ot(gl,null,String(t))}function ws(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:aa(t)}function kc(t,e){let i=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(rt(e))i=16;else if(typeof e=="object")if(s&65){const o=e.default;o&&(o._c&&(o._d=!1),kc(t,o()),o._c&&(o._d=!0));return}else{i=32;const o=e._;!o&&!df(e)?e._ctx=wi:o===3&&wi&&(wi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else kt(e)?(e={default:e,_ctx:wi},i=32):(e=String(e),s&64?(i=16,e=[mi(e)]):i=8);t.children=e,t.shapeFlag|=i}function fl(...t){const e={};for(let i=0;i<t.length;i++){const s=t[i];for(const o in s)if(o==="class")e.class!==s.class&&(e.class=Ds([e.class,s.class]));else if(o==="style")e.style=Hn([e.style,s.style]);else if(sl(o)){const c=e[o],u=s[o];u&&c!==u&&!(rt(c)&&c.includes(u))&&(e[o]=c?[].concat(c,u):u)}else o!==""&&(e[o]=s[o])}return e}function Bn(t,e,i,s=null){gn(t,e,7,[i,s])}const Ab=lf();let Sb=0;function Mb(t,e,i){const s=t.type,o=(e?e.appContext:t.appContext)||Ab,c={uid:Sb++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new wg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pf(s,o),emitsOptions:Kg(s,o),emit:null,emitted:null,propsDefaults:si,inheritAttrs:s.inheritAttrs,ctx:si,data:si,props:si,attrs:si,slots:si,refs:si,setupState:si,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=e?e.root:c,c.emit=Bv.bind(null,c),t.ce&&t.ce(c),c}let Fi=null;const _f=()=>Fi||wi;let Sr,Rh;{const t=bg(),e=(i,s)=>{let o;return(o=t[i])||(o=t[i]=[]),o.push(s),c=>{o.length>1?o.forEach(u=>u(c)):o[0](c)}};Sr=e("__VUE_INSTANCE_SETTERS__",i=>Fi=i),Rh=e("__VUE_SSR_SETTERS__",i=>ml=i)}const Vo=t=>{const e=Fi;return Sr(t),t.scope.on(),()=>{t.scope.off(),Sr(e)}},pu=()=>{Fi&&Fi.scope.off(),Sr(null)};function Cf(t){return t.vnode.shapeFlag&4}let ml=!1;function Ib(t,e=!1){e&&Rh(e);const{props:i,children:s}=t.vnode,o=Cf(t);pb(t,i,o,e),mb(t,s);const c=o?Pb(t,e):void 0;return e&&Rh(!1),c}function Pb(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ab);const{setup:s}=i;if(s){const o=t.setupContext=s.length>1?Rb(t):null,c=Vo(t);Vs();const u=Os(s,t,0,[t.props,o]);if(Hs(),c(),mg(u)){if(u.then(pu,pu),e)return u.then(x=>{gu(t,x,e)}).catch(x=>{hl(x,t,0)});t.asyncDep=u}else gu(t,u,e)}else Tf(t,e)}function gu(t,e,i){kt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ii(e)&&(t.setupState=Ug(e)),Tf(t,i)}let fu;function Tf(t,e,i){const s=t.type;if(!t.render){if(!e&&fu&&!s.render){const o=s.template||Tc(t).template;if(o){const{isCustomElement:c,compilerOptions:u}=t.appContext.config,{delimiters:x,compilerOptions:C}=s,S=xi(xi({isCustomElement:c,delimiters:x},u),C);s.render=fu(o,S)}}t.render=s.render||pn}{const o=Vo(t);Vs();try{ob(t)}finally{Hs(),o()}}}const Eb={get(t,e){return en(t,"get",""),t[e]}};function Rb(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,Eb),slots:t.slots,emit:t.emit,expose:e}}function xl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ug(kv(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in xo)return xo[i](t)},has(e,i){return i in e||i in xo}}))}function Lb(t,e=!0){return kt(t)?t.displayName||t.name:t.name||e&&t.__name}function Ob(t){return kt(t)&&"__vccOpts"in t}const un=(t,e)=>Av(t,e,ml);function wf(t,e,i){const s=arguments.length;return s===2?ii(e)&&!rt(e)?Ar(e)?Ot(t,null,[e]):Ot(t,e):Ot(t,null,e):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&Ar(i)&&(i=[i]),Ot(t,e,i))}const Bb="3.4.25";/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fb="http://www.w3.org/2000/svg",Db="http://www.w3.org/1998/Math/MathML",ks=typeof document<"u"?document:null,mu=ks&&ks.createElement("template"),Nb={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,s)=>{const o=e==="svg"?ks.createElementNS(Fb,t):e==="mathml"?ks.createElementNS(Db,t):ks.createElement(t,i?{is:i}:void 0);return t==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:t=>ks.createTextNode(t),createComment:t=>ks.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ks.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,s,o,c){const u=i?i.previousSibling:e.lastChild;if(o&&(o===c||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),i),!(o===c||!(o=o.nextSibling)););else{mu.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const x=mu.content;if(s==="svg"||s==="mathml"){const C=x.firstChild;for(;C.firstChild;)x.appendChild(C.firstChild);x.removeChild(C)}e.insertBefore(x,i)}return[u?u.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},ys="transition",ro="animation",Wa=Symbol("_vtc"),kf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vb=xi({},jv,kf),$s=(t,e=[])=>{rt(t)?t.forEach(i=>i(...e)):t&&t(...e)},xu=t=>t?rt(t)?t.some(e=>e.length>1):t.length>1:!1;function Hb(t){const e={};for(const ze in t)ze in kf||(e[ze]=t[ze]);if(t.css===!1)return e;const{name:i="v",type:s,duration:o,enterFromClass:c=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:x=`${i}-enter-to`,appearFromClass:C=c,appearActiveClass:S=u,appearToClass:b=x,leaveFromClass:L=`${i}-leave-from`,leaveActiveClass:B=`${i}-leave-active`,leaveToClass:U=`${i}-leave-to`}=t,q=Wb(o),ne=q&&q[0],ce=q&&q[1],{onBeforeEnter:ke,onEnter:pe,onEnterCancelled:Pe,onLeave:Ee,onLeaveCancelled:De,onBeforeAppear:me=ke,onAppear:We=pe,onAppearCancelled:Ae=Pe}=e,tt=(ze,Le,Rt)=>{_s(ze,Le?b:x),_s(ze,Le?S:u),Rt&&Rt()},st=(ze,Le)=>{ze._isLeaving=!1,_s(ze,L),_s(ze,U),_s(ze,B),Le&&Le()},et=ze=>(Le,Rt)=>{const Gt=ze?We:pe,_t=()=>tt(Le,ze,Rt);$s(Gt,[Le,_t]),yu(()=>{_s(Le,ze?C:c),es(Le,ze?b:x),xu(Gt)||vu(Le,s,ne,_t)})};return xi(e,{onBeforeEnter(ze){$s(ke,[ze]),es(ze,c),es(ze,u)},onBeforeAppear(ze){$s(me,[ze]),es(ze,C),es(ze,S)},onEnter:et(!1),onAppear:et(!0),onLeave(ze,Le){ze._isLeaving=!0;const Rt=()=>st(ze,Le);es(ze,L),es(ze,B),Sf(),yu(()=>{ze._isLeaving&&(_s(ze,L),es(ze,U),xu(Ee)||vu(ze,s,ce,Rt))}),$s(Ee,[ze,Rt])},onEnterCancelled(ze){tt(ze,!1),$s(Pe,[ze])},onAppearCancelled(ze){tt(ze,!0),$s(Ae,[ze])},onLeaveCancelled(ze){st(ze),$s(De,[ze])}})}function Wb(t){if(t==null)return null;if(ii(t))return[Ul(t.enter),Ul(t.leave)];{const e=Ul(t);return[e,e]}}function Ul(t){return Gy(t)}function es(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[Wa]||(t[Wa]=new Set)).add(e)}function _s(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const i=t[Wa];i&&(i.delete(e),i.size||(t[Wa]=void 0))}function yu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ub=0;function vu(t,e,i,s){const o=t._endId=++Ub,c=()=>{o===t._endId&&s()};if(i)return setTimeout(c,i);const{type:u,timeout:x,propCount:C}=Af(t,e);if(!u)return s();const S=u+"end";let b=0;const L=()=>{t.removeEventListener(S,B),c()},B=U=>{U.target===t&&++b>=C&&L()};setTimeout(()=>{b<C&&L()},x+1),t.addEventListener(S,B)}function Af(t,e){const i=window.getComputedStyle(t),s=q=>(i[q]||"").split(", "),o=s(`${ys}Delay`),c=s(`${ys}Duration`),u=bu(o,c),x=s(`${ro}Delay`),C=s(`${ro}Duration`),S=bu(x,C);let b=null,L=0,B=0;e===ys?u>0&&(b=ys,L=u,B=c.length):e===ro?S>0&&(b=ro,L=S,B=C.length):(L=Math.max(u,S),b=L>0?u>S?ys:ro:null,B=b?b===ys?c.length:C.length:0);const U=b===ys&&/\b(transform|all)(,|$)/.test(s(`${ys}Property`).toString());return{type:b,timeout:L,propCount:B,hasTransform:U}}function bu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,s)=>_u(i)+_u(t[s])))}function _u(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Sf(){return document.body.offsetHeight}function zb(t,e,i){const s=t[Wa];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const Cu=Symbol("_vod"),Yb=Symbol("_vsh"),Xb=Symbol(""),jb=/(^|;)\s*display\s*:/;function Kb(t,e,i){const s=t.style,o=yi(i);let c=!1;if(i&&!o){if(e)if(yi(e))for(const u of e.split(";")){const x=u.slice(0,u.indexOf(":")).trim();i[x]==null&&mr(s,x,"")}else for(const u in e)i[u]==null&&mr(s,u,"");for(const u in i)u==="display"&&(c=!0),mr(s,u,i[u])}else if(o){if(e!==i){const u=s[Xb];u&&(i+=";"+u),s.cssText=i,c=jb.test(i)}}else e&&t.removeAttribute("style");Cu in t&&(t[Cu]=c?s.display:"",t[Yb]&&(s.display="none"))}const Tu=/\s*!important$/;function mr(t,e,i){if(rt(i))i.forEach(s=>mr(t,e,s));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const s=$b(t,e);Tu.test(i)?t.setProperty(eo(s),i.replace(Tu,""),"important"):t[s]=i}}const wu=["Webkit","Moz","ms"],zl={};function $b(t,e){const i=zl[e];if(i)return i;let s=$n(e);if(s!=="filter"&&s in t)return zl[e]=s;s=rl(s);for(let o=0;o<wu.length;o++){const c=wu[o]+s;if(c in t)return zl[e]=c}return e}const ku="http://www.w3.org/1999/xlink";function Gb(t,e,i,s,o){if(s&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(ku,e.slice(6,e.length)):t.setAttributeNS(ku,e,i);else{const c=tv(e);i==null||c&&!_g(i)?t.removeAttribute(e):t.setAttribute(e,c?"":i)}}function Jb(t,e,i,s,o,c,u){if(e==="innerHTML"||e==="textContent"){s&&u(s,o,c),t[e]=i??"";return}const x=t.tagName;if(e==="value"&&x!=="PROGRESS"&&!x.includes("-")){const S=x==="OPTION"?t.getAttribute("value")||"":t.value,b=i??"";(S!==b||!("_value"in t))&&(t.value=b),i==null&&t.removeAttribute(e),t._value=i;return}let C=!1;if(i===""||i==null){const S=typeof t[e];S==="boolean"?i=_g(i):i==null&&S==="string"?(i="",C=!0):S==="number"&&(i=0,C=!0)}try{t[e]=i}catch{}C&&t.removeAttribute(e)}function Es(t,e,i,s){t.addEventListener(e,i,s)}function Qb(t,e,i,s){t.removeEventListener(e,i,s)}const Au=Symbol("_vei");function qb(t,e,i,s,o=null){const c=t[Au]||(t[Au]={}),u=c[e];if(s&&u)u.value=s;else{const[x,C]=Zb(e);if(s){const S=c[e]=i0(s,o);Es(t,x,S,C)}else u&&(Qb(t,x,u,C),c[e]=void 0)}}const Su=/(?:Once|Passive|Capture)$/;function Zb(t){let e;if(Su.test(t)){e={};let s;for(;s=t.match(Su);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):eo(t.slice(2)),e]}let Yl=0;const e0=Promise.resolve(),t0=()=>Yl||(e0.then(()=>Yl=0),Yl=Date.now());function i0(t,e){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;gn(n0(s,i.value),e,5,[s])};return i.value=t,i.attached=t0(),i}function n0(t,e){if(rt(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(s=>o=>!o._stopped&&s&&s(o))}else return e}const Mu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s0=(t,e,i,s,o,c,u,x,C)=>{const S=o==="svg";e==="class"?zb(t,s,S):e==="style"?Kb(t,i,s):sl(e)?lc(e)||qb(t,e,i,s,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):a0(t,e,s,S))?Jb(t,e,s,c,u,x,C):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Gb(t,e,s,S))};function a0(t,e,i,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mu(e)&&kt(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Mu(e)&&yi(i)?!1:e in t}const Mf=new WeakMap,If=new WeakMap,Mr=Symbol("_moveCb"),Iu=Symbol("_enterCb"),Pf={name:"TransitionGroup",props:xi({},Vb,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=_f(),s=Xv();let o,c;return nf(()=>{if(!o.length)return;const u=t.moveClass||`${t.name||"v"}-move`;if(!d0(o[0].el,i.vnode.el,u))return;o.forEach(l0),o.forEach(h0);const x=o.filter(c0);Sf(),x.forEach(C=>{const S=C.el,b=S.style;es(S,u),b.transform=b.webkitTransform=b.transitionDuration="";const L=S[Mr]=B=>{B&&B.target!==S||(!B||/transform$/.test(B.propertyName))&&(S.removeEventListener("transitionend",L),S[Mr]=null,_s(S,u))};S.addEventListener("transitionend",L)})}),()=>{const u=Ht(t),x=Hb(u);let C=u.tag||ni;if(o=[],c)for(let S=0;S<c.length;S++){const b=c[S];b.el&&b.el instanceof Element&&(o.push(b),Ah(b,kh(b,x,s,i)),Mf.set(b,b.el.getBoundingClientRect()))}c=e.default?Zg(e.default()):[];for(let S=0;S<c.length;S++){const b=c[S];b.key!=null&&Ah(b,kh(b,x,s,i))}return Ot(C,null,c)}}},o0=t=>delete t.mode;Pf.props;const r0=Pf;function l0(t){const e=t.el;e[Mr]&&e[Mr](),e[Iu]&&e[Iu]()}function h0(t){If.set(t,t.el.getBoundingClientRect())}function c0(t){const e=Mf.get(t),i=If.get(t),s=e.left-i.left,o=e.top-i.top;if(s||o){const c=t.el.style;return c.transform=c.webkitTransform=`translate(${s}px,${o}px)`,c.transitionDuration="0s",t}}function d0(t,e,i){const s=t.cloneNode(),o=t[Wa];o&&o.forEach(x=>{x.split(/\s+/).forEach(C=>C&&s.classList.remove(C))}),i.split(/\s+/).forEach(x=>x&&s.classList.add(x)),s.style.display="none";const c=e.nodeType===1?e:e.parentNode;c.appendChild(s);const{hasTransform:u}=Af(s);return c.removeChild(s),u}const Ua=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?i=>ur(e,i):e};function u0(t){t.target.composing=!0}function Pu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const os=Symbol("_assign"),Wn={created(t,{modifiers:{lazy:e,trim:i,number:s}},o){t[os]=Ua(o);const c=s||o.props&&o.props.type==="number";Es(t,e?"change":"input",u=>{if(u.target.composing)return;let x=t.value;i&&(x=x.trim()),c&&(x=vh(x)),t[os](x)}),i&&Es(t,"change",()=>{t.value=t.value.trim()}),e||(Es(t,"compositionstart",u0),Es(t,"compositionend",Pu),Es(t,"change",Pu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:s,number:o}},c){if(t[os]=Ua(c),t.composing)return;const u=(o||t.type==="number")&&!/^0\d/.test(t.value)?vh(t.value):t.value,x=e??"";u!==x&&(document.activeElement===t&&t.type!=="range"&&(i||s&&t.value.trim()===x)||(t.value=x))}},Ac={deep:!0,created(t,e,i){t[os]=Ua(i),Es(t,"change",()=>{const s=t._modelValue,o=Ef(t),c=t.checked,u=t[os];if(rt(s)){const x=Cg(s,o),C=x!==-1;if(c&&!C)u(s.concat(o));else if(!c&&C){const S=[...s];S.splice(x,1),u(S)}}else if(al(s)){const x=new Set(s);c?x.add(o):x.delete(o),u(x)}else u(Rf(t,c))})},mounted:Eu,beforeUpdate(t,e,i){t[os]=Ua(i),Eu(t,e,i)}};function Eu(t,{value:e,oldValue:i},s){t._modelValue=e,rt(e)?t.checked=Cg(e,s.props.value)>-1:al(e)?t.checked=e.has(s.props.value):e!==i&&(t.checked=Ha(e,Rf(t,!0)))}const Fa={created(t,{value:e},i){t.checked=Ha(e,i.props.value),t[os]=Ua(i),Es(t,"change",()=>{t[os](Ef(t))})},beforeUpdate(t,{value:e,oldValue:i},s){t[os]=Ua(s),e!==i&&(t.checked=Ha(e,s.props.value))}};function Ef(t){return"_value"in t?t._value:t.value}function Rf(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const p0=["ctrl","shift","alt","meta"],g0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>p0.some(i=>t[`${i}Key`]&&!e.includes(i))},da=(t,e)=>{const i=t._withMods||(t._withMods={}),s=e.join(".");return i[s]||(i[s]=(o,...c)=>{for(let u=0;u<e.length;u++){const x=g0[e[u]];if(x&&x(o,e))return}return t(o,...c)})},f0=xi({patchProp:s0},Nb);let Ru;function m0(){return Ru||(Ru=yb(f0))}const Lf=(...t)=>{const e=m0().createApp(...t),{mount:i}=e;return e.mount=s=>{const o=y0(s);if(!o)return;const c=e._component;!kt(c)&&!c.render&&!c.template&&(c.template=o.innerHTML),o.innerHTML="";const u=i(o,!1,x0(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},e};function x0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function y0(t){return yi(t)?document.querySelector(t):t}function v0(){return Of().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Of(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const b0=typeof Proxy=="function",_0="devtools-plugin:setup",C0="plugin:settings:set";let va,Lh;function T0(){var t;return va!==void 0||(typeof window<"u"&&window.performance?(va=!0,Lh=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(va=!0,Lh=globalThis.perf_hooks.performance):va=!1),va}function w0(){return T0()?Lh.now():Date.now()}class k0{constructor(e,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=i;const s={};if(e.settings)for(const u in e.settings){const x=e.settings[u];s[u]=x.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let c=Object.assign({},s);try{const u=localStorage.getItem(o),x=JSON.parse(u);Object.assign(c,x)}catch{}this.fallbacks={getSettings(){return c},setSettings(u){try{localStorage.setItem(o,JSON.stringify(u))}catch{}c=u},now(){return w0()}},i&&i.on(C0,(u,x)=>{u===this.plugin.id&&this.fallbacks.setSettings(x)}),this.proxiedOn=new Proxy({},{get:(u,x)=>this.target?this.target.on[x]:(...C)=>{this.onQueue.push({method:x,args:C})}}),this.proxiedTarget=new Proxy({},{get:(u,x)=>this.target?this.target[x]:x==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(x)?(...C)=>(this.targetQueue.push({method:x,args:C,resolve:()=>{}}),this.fallbacks[x](...C)):(...C)=>new Promise(S=>{this.targetQueue.push({method:x,args:C,resolve:S})})})}async setRealTarget(e){this.target=e;for(const i of this.onQueue)this.target.on[i.method](...i.args);for(const i of this.targetQueue)i.resolve(await this.target[i.method](...i.args))}}function A0(t,e){const i=t,s=Of(),o=v0(),c=b0&&i.enableEarlyProxy;if(o&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!c))o.emit(_0,t,e);else{const u=c?new k0(i,o):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:e,proxy:u}),u&&e(u.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ka=typeof document<"u";function S0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const $t=Object.assign;function Xl(t,e){const i={};for(const s in e){const o=e[s];i[s]=Pn(o)?o.map(t):t(o)}return i}const bo=()=>{},Pn=Array.isArray,Bf=/#/g,M0=/&/g,I0=/\//g,P0=/=/g,E0=/\?/g,Ff=/\+/g,R0=/%5B/g,L0=/%5D/g,Df=/%5E/g,O0=/%60/g,Nf=/%7B/g,B0=/%7C/g,Vf=/%7D/g,F0=/%20/g;function Sc(t){return encodeURI(""+t).replace(B0,"|").replace(R0,"[").replace(L0,"]")}function D0(t){return Sc(t).replace(Nf,"{").replace(Vf,"}").replace(Df,"^")}function Oh(t){return Sc(t).replace(Ff,"%2B").replace(F0,"+").replace(Bf,"%23").replace(M0,"%26").replace(O0,"`").replace(Nf,"{").replace(Vf,"}").replace(Df,"^")}function N0(t){return Oh(t).replace(P0,"%3D")}function V0(t){return Sc(t).replace(Bf,"%23").replace(E0,"%3F")}function H0(t){return t==null?"":V0(t).replace(I0,"%2F")}function Lo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const W0=/\/$/,U0=t=>t.replace(W0,"");function jl(t,e,i="/"){let s,o={},c="",u="";const x=e.indexOf("#");let C=e.indexOf("?");return x<C&&x>=0&&(C=-1),C>-1&&(s=e.slice(0,C),c=e.slice(C+1,x>-1?x:e.length),o=t(c)),x>-1&&(s=s||e.slice(0,x),u=e.slice(x,e.length)),s=j0(s??e,i),{fullPath:s+(c&&"?")+c+u,path:s,query:o,hash:Lo(u)}}function z0(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function Lu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Y0(t,e,i){const s=e.matched.length-1,o=i.matched.length-1;return s>-1&&s===o&&za(e.matched[s],i.matched[o])&&Hf(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function za(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Hf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!X0(t[i],e[i]))return!1;return!0}function X0(t,e){return Pn(t)?Ou(t,e):Pn(e)?Ou(e,t):t===e}function Ou(t,e){return Pn(e)?t.length===e.length&&t.every((i,s)=>i===e[s]):t.length===1&&t[0]===e}function j0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),s=t.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let c=i.length-1,u,x;for(u=0;u<s.length;u++)if(x=s[u],x!==".")if(x==="..")c>1&&c--;else break;return i.slice(0,c).join("/")+"/"+s.slice(u).join("/")}var Oo;(function(t){t.pop="pop",t.push="push"})(Oo||(Oo={}));var _o;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_o||(_o={}));function K0(t){if(!t)if(ka){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),U0(t)}const $0=/^[^#]+#/;function G0(t,e){return t.replace($0,"#")+e}function J0(t,e){const i=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-i.left-(e.left||0),top:s.top-i.top-(e.top||0)}}const yl=()=>({left:window.scrollX,top:window.scrollY});function Q0(t){let e;if("el"in t){const i=t.el,s=typeof i=="string"&&i.startsWith("#"),o=typeof i=="string"?s?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;e=J0(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Bu(t,e){return(history.state?history.state.position-e:-1)+t}const Bh=new Map;function q0(t,e){Bh.set(t,e)}function Z0(t){const e=Bh.get(t);return Bh.delete(t),e}let e_=()=>location.protocol+"//"+location.host;function Wf(t,e){const{pathname:i,search:s,hash:o}=e,c=t.indexOf("#");if(c>-1){let x=o.includes(t.slice(c))?t.slice(c).length:1,C=o.slice(x);return C[0]!=="/"&&(C="/"+C),Lu(C,"")}return Lu(i,t)+s+o}function t_(t,e,i,s){let o=[],c=[],u=null;const x=({state:B})=>{const U=Wf(t,location),q=i.value,ne=e.value;let ce=0;if(B){if(i.value=U,e.value=B,u&&u===q){u=null;return}ce=ne?B.position-ne.position:0}else s(U);o.forEach(ke=>{ke(i.value,q,{delta:ce,type:Oo.pop,direction:ce?ce>0?_o.forward:_o.back:_o.unknown})})};function C(){u=i.value}function S(B){o.push(B);const U=()=>{const q=o.indexOf(B);q>-1&&o.splice(q,1)};return c.push(U),U}function b(){const{history:B}=window;B.state&&B.replaceState($t({},B.state,{scroll:yl()}),"")}function L(){for(const B of c)B();c=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:C,listen:S,destroy:L}}function Fu(t,e,i,s=!1,o=!1){return{back:t,current:e,forward:i,replaced:s,position:window.history.length,scroll:o?yl():null}}function i_(t){const{history:e,location:i}=window,s={value:Wf(t,i)},o={value:e.state};o.value||c(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function c(C,S,b){const L=t.indexOf("#"),B=L>-1?(i.host&&document.querySelector("base")?t:t.slice(L))+C:e_()+t+C;try{e[b?"replaceState":"pushState"](S,"",B),o.value=S}catch(U){console.error(U),i[b?"replace":"assign"](B)}}function u(C,S){const b=$t({},e.state,Fu(o.value.back,C,o.value.forward,!0),S,{position:o.value.position});c(C,b,!0),s.value=C}function x(C,S){const b=$t({},o.value,e.state,{forward:C,scroll:yl()});c(b.current,b,!0);const L=$t({},Fu(s.value,C,null),{position:b.position+1},S);c(C,L,!1),s.value=C}return{location:s,state:o,push:x,replace:u}}function n_(t){t=K0(t);const e=i_(t),i=t_(t,e.state,e.location,e.replace);function s(c,u=!0){u||i.pauseListeners(),history.go(c)}const o=$t({location:"",base:t,go:s,createHref:G0.bind(null,t)},e,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function s_(t){return typeof t=="string"||t&&typeof t=="object"}function Uf(t){return typeof t=="string"||typeof t=="symbol"}const vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},zf=Symbol("");var Du;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Du||(Du={}));function Ya(t,e){return $t(new Error,{type:t,[zf]:!0},e)}function qn(t,e){return t instanceof Error&&zf in t&&(e==null||!!(t.type&e))}const Nu="[^/]+?",a_={sensitive:!1,strict:!1,start:!0,end:!0},o_=/[.+*?^${}()[\]/\\]/g;function r_(t,e){const i=$t({},a_,e),s=[];let o=i.start?"^":"";const c=[];for(const S of t){const b=S.length?[]:[90];i.strict&&!S.length&&(o+="/");for(let L=0;L<S.length;L++){const B=S[L];let U=40+(i.sensitive?.25:0);if(B.type===0)L||(o+="/"),o+=B.value.replace(o_,"\\$&"),U+=40;else if(B.type===1){const{value:q,repeatable:ne,optional:ce,regexp:ke}=B;c.push({name:q,repeatable:ne,optional:ce});const pe=ke||Nu;if(pe!==Nu){U+=10;try{new RegExp(`(${pe})`)}catch(Ee){throw new Error(`Invalid custom RegExp for param "${q}" (${pe}): `+Ee.message)}}let Pe=ne?`((?:${pe})(?:/(?:${pe}))*)`:`(${pe})`;L||(Pe=ce&&S.length<2?`(?:/${Pe})`:"/"+Pe),ce&&(Pe+="?"),o+=Pe,U+=20,ce&&(U+=-8),ne&&(U+=-20),pe===".*"&&(U+=-50)}b.push(U)}s.push(b)}if(i.strict&&i.end){const S=s.length-1;s[S][s[S].length-1]+=.7000000000000001}i.strict||(o+="/?"),i.end?o+="$":i.strict&&(o+="(?:/|$)");const u=new RegExp(o,i.sensitive?"":"i");function x(S){const b=S.match(u),L={};if(!b)return null;for(let B=1;B<b.length;B++){const U=b[B]||"",q=c[B-1];L[q.name]=U&&q.repeatable?U.split("/"):U}return L}function C(S){let b="",L=!1;for(const B of t){(!L||!b.endsWith("/"))&&(b+="/"),L=!1;for(const U of B)if(U.type===0)b+=U.value;else if(U.type===1){const{value:q,repeatable:ne,optional:ce}=U,ke=q in S?S[q]:"";if(Pn(ke)&&!ne)throw new Error(`Provided param "${q}" is an array but it is not repeatable (* or + modifiers)`);const pe=Pn(ke)?ke.join("/"):ke;if(!pe)if(ce)B.length<2&&(b.endsWith("/")?b=b.slice(0,-1):L=!0);else throw new Error(`Missing required param "${q}"`);b+=pe}}return b||"/"}return{re:u,score:s,keys:c,parse:x,stringify:C}}function l_(t,e){let i=0;for(;i<t.length&&i<e.length;){const s=e[i]-t[i];if(s)return s;i++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function h_(t,e){let i=0;const s=t.score,o=e.score;for(;i<s.length&&i<o.length;){const c=l_(s[i],o[i]);if(c)return c;i++}if(Math.abs(o.length-s.length)===1){if(Vu(s))return 1;if(Vu(o))return-1}return o.length-s.length}function Vu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const c_={type:0,value:""},d_=/[a-zA-Z0-9_]/;function u_(t){if(!t)return[[]];if(t==="/")return[[c_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(U){throw new Error(`ERR (${i})/"${S}": ${U}`)}let i=0,s=i;const o=[];let c;function u(){c&&o.push(c),c=[]}let x=0,C,S="",b="";function L(){S&&(i===0?c.push({type:0,value:S}):i===1||i===2||i===3?(c.length>1&&(C==="*"||C==="+")&&e(`A repeatable param (${S}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:S,regexp:b,repeatable:C==="*"||C==="+",optional:C==="*"||C==="?"})):e("Invalid state to consume buffer"),S="")}function B(){S+=C}for(;x<t.length;){if(C=t[x++],C==="\\"&&i!==2){s=i,i=4;continue}switch(i){case 0:C==="/"?(S&&L(),u()):C===":"?(L(),i=1):B();break;case 4:B(),i=s;break;case 1:C==="("?i=2:d_.test(C)?B():(L(),i=0,C!=="*"&&C!=="?"&&C!=="+"&&x--);break;case 2:C===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+C:i=3:b+=C;break;case 3:L(),i=0,C!=="*"&&C!=="?"&&C!=="+"&&x--,b="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${S}"`),L(),u(),o}function p_(t,e,i){const s=r_(u_(t.path),i),o=$t(s,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function g_(t,e){const i=[],s=new Map;e=Uu({strict:!1,end:!0,sensitive:!1},e);function o(b){return s.get(b)}function c(b,L,B){const U=!B,q=f_(b);q.aliasOf=B&&B.record;const ne=Uu(e,b),ce=[q];if("alias"in b){const Pe=typeof b.alias=="string"?[b.alias]:b.alias;for(const Ee of Pe)ce.push($t({},q,{components:B?B.record.components:q.components,path:Ee,aliasOf:B?B.record:q}))}let ke,pe;for(const Pe of ce){const{path:Ee}=Pe;if(L&&Ee[0]!=="/"){const De=L.record.path,me=De[De.length-1]==="/"?"":"/";Pe.path=L.record.path+(Ee&&me+Ee)}if(ke=p_(Pe,L,ne),B?B.alias.push(ke):(pe=pe||ke,pe!==ke&&pe.alias.push(ke),U&&b.name&&!Wu(ke)&&u(b.name)),q.children){const De=q.children;for(let me=0;me<De.length;me++)c(De[me],ke,B&&B.children[me])}B=B||ke,(ke.record.components&&Object.keys(ke.record.components).length||ke.record.name||ke.record.redirect)&&C(ke)}return pe?()=>{u(pe)}:bo}function u(b){if(Uf(b)){const L=s.get(b);L&&(s.delete(b),i.splice(i.indexOf(L),1),L.children.forEach(u),L.alias.forEach(u))}else{const L=i.indexOf(b);L>-1&&(i.splice(L,1),b.record.name&&s.delete(b.record.name),b.children.forEach(u),b.alias.forEach(u))}}function x(){return i}function C(b){let L=0;for(;L<i.length&&h_(b,i[L])>=0&&(b.record.path!==i[L].record.path||!Yf(b,i[L]));)L++;i.splice(L,0,b),b.record.name&&!Wu(b)&&s.set(b.record.name,b)}function S(b,L){let B,U={},q,ne;if("name"in b&&b.name){if(B=s.get(b.name),!B)throw Ya(1,{location:b});ne=B.record.name,U=$t(Hu(L.params,B.keys.filter(pe=>!pe.optional).concat(B.parent?B.parent.keys.filter(pe=>pe.optional):[]).map(pe=>pe.name)),b.params&&Hu(b.params,B.keys.map(pe=>pe.name))),q=B.stringify(U)}else if(b.path!=null)q=b.path,B=i.find(pe=>pe.re.test(q)),B&&(U=B.parse(q),ne=B.record.name);else{if(B=L.name?s.get(L.name):i.find(pe=>pe.re.test(L.path)),!B)throw Ya(1,{location:b,currentLocation:L});ne=B.record.name,U=$t({},L.params,b.params),q=B.stringify(U)}const ce=[];let ke=B;for(;ke;)ce.unshift(ke.record),ke=ke.parent;return{name:ne,path:q,params:U,matched:ce,meta:x_(ce)}}return t.forEach(b=>c(b)),{addRoute:c,resolve:S,removeRoute:u,getRoutes:x,getRecordMatcher:o}}function Hu(t,e){const i={};for(const s of e)s in t&&(i[s]=t[s]);return i}function f_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:m_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function m_(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const s in t.components)e[s]=typeof i=="object"?i[s]:i;return e}function Wu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function x_(t){return t.reduce((e,i)=>$t(e,i.meta),{})}function Uu(t,e){const i={};for(const s in t)i[s]=s in e?e[s]:t[s];return i}function Yf(t,e){return e.children.some(i=>i===t||Yf(t,i))}function y_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<s.length;++o){const c=s[o].replace(Ff," "),u=c.indexOf("="),x=Lo(u<0?c:c.slice(0,u)),C=u<0?null:Lo(c.slice(u+1));if(x in e){let S=e[x];Pn(S)||(S=e[x]=[S]),S.push(C)}else e[x]=C}return e}function zu(t){let e="";for(let i in t){const s=t[i];if(i=N0(i),s==null){s!==void 0&&(e+=(e.length?"&":"")+i);continue}(Pn(s)?s.map(c=>c&&Oh(c)):[s&&Oh(s)]).forEach(c=>{c!==void 0&&(e+=(e.length?"&":"")+i,c!=null&&(e+="="+c))})}return e}function v_(t){const e={};for(const i in t){const s=t[i];s!==void 0&&(e[i]=Pn(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return e}const b_=Symbol(""),Yu=Symbol(""),Mc=Symbol(""),Xf=Symbol(""),Fh=Symbol("");function lo(){let t=[];function e(s){return t.push(s),()=>{const o=t.indexOf(s);o>-1&&t.splice(o,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function As(t,e,i,s,o,c=u=>u()){const u=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((x,C)=>{const S=B=>{B===!1?C(Ya(4,{from:i,to:e})):B instanceof Error?C(B):s_(B)?C(Ya(2,{from:e,to:B})):(u&&s.enterCallbacks[o]===u&&typeof B=="function"&&u.push(B),x())},b=c(()=>t.call(s&&s.instances[o],e,i,S));let L=Promise.resolve(b);t.length<3&&(L=L.then(S)),L.catch(B=>C(B))})}function Kl(t,e,i,s,o=c=>c()){const c=[];for(const u of t)for(const x in u.components){let C=u.components[x];if(!(e!=="beforeRouteEnter"&&!u.instances[x]))if(__(C)){const b=(C.__vccOpts||C)[e];b&&c.push(As(b,i,s,u,x,o))}else{let S=C();c.push(()=>S.then(b=>{if(!b)return Promise.reject(new Error(`Couldn't resolve component "${x}" at "${u.path}"`));const L=S0(b)?b.default:b;u.components[x]=L;const U=(L.__vccOpts||L)[e];return U&&As(U,i,s,u,x,o)()}))}}return c}function __(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Xu(t){const e=Yn(Mc),i=Yn(Xf),s=un(()=>{const C=Ls(t.to);return e.resolve(C)}),o=un(()=>{const{matched:C}=s.value,{length:S}=C,b=C[S-1],L=i.matched;if(!b||!L.length)return-1;const B=L.findIndex(za.bind(null,b));if(B>-1)return B;const U=ju(C[S-2]);return S>1&&ju(b)===U&&L[L.length-1].path!==U?L.findIndex(za.bind(null,C[S-2])):B}),c=un(()=>o.value>-1&&k_(i.params,s.value.params)),u=un(()=>o.value>-1&&o.value===i.matched.length-1&&Hf(i.params,s.value.params));function x(C={}){return w_(C)?e[Ls(t.replace)?"replace":"push"](Ls(t.to)).catch(bo):Promise.resolve()}return{route:s,href:un(()=>s.value.href),isActive:c,isExactActive:u,navigate:x}}const C_=ps({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xu,setup(t,{slots:e}){const i=to(Xu(t)),{options:s}=Yn(Mc),o=un(()=>({[Ku(t.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[Ku(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const c=e.default&&e.default(i);return t.custom?c:wf("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},c)}}}),T_=C_;function w_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function k_(t,e){for(const i in e){const s=e[i],o=t[i];if(typeof s=="string"){if(s!==o)return!1}else if(!Pn(o)||o.length!==s.length||s.some((c,u)=>c!==o[u]))return!1}return!0}function ju(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ku=(t,e,i)=>t??e??i,A_=ps({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const s=Yn(Fh),o=un(()=>t.route||s.value),c=Yn(Yu,0),u=un(()=>{let S=Ls(c);const{matched:b}=o.value;let L;for(;(L=b[S])&&!L.components;)S++;return S}),x=un(()=>o.value.matched[u.value]);gr(Yu,un(()=>u.value+1)),gr(b_,x),gr(Fh,o);const C=yc();return Ba(()=>[C.value,x.value,t.name],([S,b,L],[B,U,q])=>{b&&(b.instances[L]=S,U&&U!==b&&S&&S===B&&(b.leaveGuards.size||(b.leaveGuards=U.leaveGuards),b.updateGuards.size||(b.updateGuards=U.updateGuards))),S&&b&&(!U||!za(b,U)||!B)&&(b.enterCallbacks[L]||[]).forEach(ne=>ne(S))},{flush:"post"}),()=>{const S=o.value,b=t.name,L=x.value,B=L&&L.components[b];if(!B)return $u(i.default,{Component:B,route:S});const U=L.props[b],q=U?U===!0?S.params:typeof U=="function"?U(S):U:null,ce=wf(B,$t({},q,e,{onVnodeUnmounted:ke=>{ke.component.isUnmounted&&(L.instances[b]=null)},ref:C}));return $u(i.default,{Component:ce,route:S})||ce}}});function $u(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const jf=A_;function S_(t){const e=g_(t.routes,t),i=t.parseQuery||y_,s=t.stringifyQuery||zu,o=t.history,c=lo(),u=lo(),x=lo(),C=Sv(vs);let S=vs;ka&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Xl.bind(null,z=>""+z),L=Xl.bind(null,H0),B=Xl.bind(null,Lo);function U(z,ee){let Z,_e;return Uf(z)?(Z=e.getRecordMatcher(z),_e=ee):_e=z,e.addRoute(_e,Z)}function q(z){const ee=e.getRecordMatcher(z);ee&&e.removeRoute(ee)}function ne(){return e.getRoutes().map(z=>z.record)}function ce(z){return!!e.getRecordMatcher(z)}function ke(z,ee){if(ee=$t({},ee||C.value),typeof z=="string"){const H=jl(i,z,ee.path),K=e.resolve({path:H.path},ee),de=o.createHref(H.fullPath);return $t(H,K,{params:B(K.params),hash:Lo(H.hash),redirectedFrom:void 0,href:de})}let Z;if(z.path!=null)Z=$t({},z,{path:jl(i,z.path,ee.path).path});else{const H=$t({},z.params);for(const K in H)H[K]==null&&delete H[K];Z=$t({},z,{params:L(H)}),ee.params=L(ee.params)}const _e=e.resolve(Z,ee),Ke=z.hash||"";_e.params=b(B(_e.params));const ht=z0(s,$t({},z,{hash:D0(Ke),path:_e.path})),F=o.createHref(ht);return $t({fullPath:ht,hash:Ke,query:s===zu?v_(z.query):z.query||{}},_e,{redirectedFrom:void 0,href:F})}function pe(z){return typeof z=="string"?jl(i,z,C.value.path):$t({},z)}function Pe(z,ee){if(S!==z)return Ya(8,{from:ee,to:z})}function Ee(z){return We(z)}function De(z){return Ee($t(pe(z),{replace:!0}))}function me(z){const ee=z.matched[z.matched.length-1];if(ee&&ee.redirect){const{redirect:Z}=ee;let _e=typeof Z=="function"?Z(z):Z;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=pe(_e):{path:_e},_e.params={}),$t({query:z.query,hash:z.hash,params:_e.path!=null?{}:z.params},_e)}}function We(z,ee){const Z=S=ke(z),_e=C.value,Ke=z.state,ht=z.force,F=z.replace===!0,H=me(Z);if(H)return We($t(pe(H),{state:typeof H=="object"?$t({},Ke,H.state):Ke,force:ht,replace:F}),ee||Z);const K=Z;K.redirectedFrom=ee;let de;return!ht&&Y0(s,_e,Z)&&(de=Ya(16,{to:K,from:_e}),X(_e,_e,!0,!1)),(de?Promise.resolve(de):st(K,_e)).catch(se=>qn(se)?qn(se,2)?se:Yt(se):mt(se,K,_e)).then(se=>{if(se){if(qn(se,2))return We($t({replace:F},pe(se.to),{state:typeof se.to=="object"?$t({},Ke,se.to.state):Ke,force:ht}),ee||K)}else se=ze(K,_e,!0,F,Ke);return et(K,_e,se),se})}function Ae(z,ee){const Z=Pe(z,ee);return Z?Promise.reject(Z):Promise.resolve()}function tt(z){const ee=O.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(z):z()}function st(z,ee){let Z;const[_e,Ke,ht]=M_(z,ee);Z=Kl(_e.reverse(),"beforeRouteLeave",z,ee);for(const H of _e)H.leaveGuards.forEach(K=>{Z.push(As(K,z,ee))});const F=Ae.bind(null,z,ee);return Z.push(F),oe(Z).then(()=>{Z=[];for(const H of c.list())Z.push(As(H,z,ee));return Z.push(F),oe(Z)}).then(()=>{Z=Kl(Ke,"beforeRouteUpdate",z,ee);for(const H of Ke)H.updateGuards.forEach(K=>{Z.push(As(K,z,ee))});return Z.push(F),oe(Z)}).then(()=>{Z=[];for(const H of ht)if(H.beforeEnter)if(Pn(H.beforeEnter))for(const K of H.beforeEnter)Z.push(As(K,z,ee));else Z.push(As(H.beforeEnter,z,ee));return Z.push(F),oe(Z)}).then(()=>(z.matched.forEach(H=>H.enterCallbacks={}),Z=Kl(ht,"beforeRouteEnter",z,ee,tt),Z.push(F),oe(Z))).then(()=>{Z=[];for(const H of u.list())Z.push(As(H,z,ee));return Z.push(F),oe(Z)}).catch(H=>qn(H,8)?H:Promise.reject(H))}function et(z,ee,Z){x.list().forEach(_e=>tt(()=>_e(z,ee,Z)))}function ze(z,ee,Z,_e,Ke){const ht=Pe(z,ee);if(ht)return ht;const F=ee===vs,H=ka?history.state:{};Z&&(_e||F?o.replace(z.fullPath,$t({scroll:F&&H&&H.scroll},Ke)):o.push(z.fullPath,Ke)),C.value=z,X(z,ee,Z,F),Yt()}let Le;function Rt(){Le||(Le=o.listen((z,ee,Z)=>{if(!Q.listening)return;const _e=ke(z),Ke=me(_e);if(Ke){We($t(Ke,{replace:!0}),_e).catch(bo);return}S=_e;const ht=C.value;ka&&q0(Bu(ht.fullPath,Z.delta),yl()),st(_e,ht).catch(F=>qn(F,12)?F:qn(F,2)?(We(F.to,_e).then(H=>{qn(H,20)&&!Z.delta&&Z.type===Oo.pop&&o.go(-1,!1)}).catch(bo),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),mt(F,_e,ht))).then(F=>{F=F||ze(_e,ht,!1),F&&(Z.delta&&!qn(F,8)?o.go(-Z.delta,!1):Z.type===Oo.pop&&qn(F,20)&&o.go(-1,!1)),et(_e,ht,F)}).catch(bo)}))}let Gt=lo(),_t=lo(),ct;function mt(z,ee,Z){Yt(z);const _e=_t.list();return _e.length?_e.forEach(Ke=>Ke(z,ee,Z)):console.error(z),Promise.reject(z)}function pi(){return ct&&C.value!==vs?Promise.resolve():new Promise((z,ee)=>{Gt.add([z,ee])})}function Yt(z){return ct||(ct=!z,Rt(),Gt.list().forEach(([ee,Z])=>z?Z(z):ee()),Gt.reset()),z}function X(z,ee,Z,_e){const{scrollBehavior:Ke}=t;if(!ka||!Ke)return Promise.resolve();const ht=!Z&&Z0(Bu(z.fullPath,0))||(_e||!Z)&&history.state&&history.state.scroll||null;return bc().then(()=>Ke(z,ee,ht)).then(F=>F&&Q0(F)).catch(F=>mt(F,z,ee))}const Bt=z=>o.go(z);let Je;const O=new Set,Q={currentRoute:C,listening:!0,addRoute:U,removeRoute:q,hasRoute:ce,getRoutes:ne,resolve:ke,options:t,push:Ee,replace:De,go:Bt,back:()=>Bt(-1),forward:()=>Bt(1),beforeEach:c.add,beforeResolve:u.add,afterEach:x.add,onError:_t.add,isReady:pi,install(z){const ee=this;z.component("RouterLink",T_),z.component("RouterView",jf),z.config.globalProperties.$router=ee,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>Ls(C)}),ka&&!Je&&C.value===vs&&(Je=!0,Ee(o.location).catch(Ke=>{}));const Z={};for(const Ke in vs)Object.defineProperty(Z,Ke,{get:()=>C.value[Ke],enumerable:!0});z.provide(Mc,ee),z.provide(Xf,Fg(Z)),z.provide(Fh,C);const _e=z.unmount;O.add(z),z.unmount=function(){O.delete(z),O.size<1&&(S=vs,Le&&Le(),Le=null,C.value=vs,Je=!1,ct=!1),_e()}}};function oe(z){return z.reduce((ee,Z)=>ee.then(()=>tt(Z)),Promise.resolve())}return Q}function M_(t,e){const i=[],s=[],o=[],c=Math.max(e.matched.length,t.matched.length);for(let u=0;u<c;u++){const x=e.matched[u];x&&(t.matched.find(S=>za(S,x))?s.push(x):i.push(x));const C=t.matched[u];C&&(e.matched.find(S=>za(S,C))||o.push(C))}return[i,s,o]}var I_=function(){function t(e,i){i===void 0&&(i=[]),this._eventType=e,this._eventFunctions=i}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(i){typeof window<"u"&&window.addEventListener(e._eventType,i)})},t}(),P_=function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}return t.prototype.addInstance=function(e,i,s,o){if(o===void 0&&(o=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][s]&&!o){console.warn("Flowbite: Instance with ID ".concat(s," already exists."));return}o&&this._instances[e][s]&&this._instances[e][s].destroyAndRemoveInstance(),this._instances[e][s||this._generateRandomId()]=i},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,i){if(this._componentAndInstanceCheck(e,i)){if(!this._instances[e][i]){console.warn("Flowbite: Instance with ID ".concat(i," does not exist."));return}return this._instances[e][i]}},t.prototype.destroyAndRemoveInstance=function(e,i){this._componentAndInstanceCheck(e,i)&&(this.destroyInstanceObject(e,i),this.removeInstance(e,i))},t.prototype.removeInstance=function(e,i){this._componentAndInstanceCheck(e,i)&&delete this._instances[e][i]},t.prototype.destroyInstanceObject=function(e,i){this._componentAndInstanceCheck(e,i)&&this._instances[e][i].destroy()},t.prototype.instanceExists=function(e,i){return!(!this._instances[e]||!this._instances[e][i])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,i){return this._instances[e]?this._instances[e][i]?!0:(console.warn("Flowbite: Instance with ID ".concat(i," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}(),Pt=new P_;typeof window<"u"&&(window.FlowbiteInstances=Pt);var Ir=function(){return Ir=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ir.apply(this,arguments)},Pr={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},E_={id:null,override:!0},Kf=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=[]),s===void 0&&(s=Pr),o===void 0&&(o=E_),this._instanceId=o.id?o.id:e.id,this._accordionEl=e,this._items=i,this._options=Ir(Ir({},Pr),s),this._initialized=!1,this.init(),Pt.addInstance("Accordion",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(i){i.active&&e.open(i.id);var s=function(){e.toggle(i.id)};i.triggerEl.addEventListener("click",s),i.clickHandler=s}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(i){return i.id===e})[0]},t.prototype.open=function(e){var i,s,o=this,c=this.getItem(e);this._options.alwaysOpen||this._items.map(function(u){var x,C;u!==c&&((x=u.triggerEl.classList).remove.apply(x,o._options.activeClasses.split(" ")),(C=u.triggerEl.classList).add.apply(C,o._options.inactiveClasses.split(" ")),u.targetEl.classList.add("hidden"),u.triggerEl.setAttribute("aria-expanded","false"),u.active=!1,u.iconEl&&u.iconEl.classList.add("rotate-180"))}),(i=c.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(s=c.triggerEl.classList).remove.apply(s,this._options.inactiveClasses.split(" ")),c.triggerEl.setAttribute("aria-expanded","true"),c.targetEl.classList.remove("hidden"),c.active=!0,c.iconEl&&c.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,c)},t.prototype.toggle=function(e){var i=this.getItem(e);i.active?this.close(e):this.open(e),this._options.onToggle(this,i)},t.prototype.close=function(e){var i,s,o=this.getItem(e);(i=o.triggerEl.classList).remove.apply(i,this._options.activeClasses.split(" ")),(s=o.triggerEl.classList).add.apply(s,this._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.add("rotate-180"),this._options.onClose(this,o)},t.prototype.updateOnOpen=function(e){this._options.onOpen=e},t.prototype.updateOnClose=function(e){this._options.onClose=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ic(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),i=t.getAttribute("data-active-classes"),s=t.getAttribute("data-inactive-classes"),o=[];t.querySelectorAll("[data-accordion-target]").forEach(function(c){if(c.closest("[data-accordion]")===t){var u={id:c.getAttribute("data-accordion-target"),triggerEl:c,targetEl:document.querySelector(c.getAttribute("data-accordion-target")),iconEl:c.querySelector("[data-accordion-icon]"),active:c.getAttribute("aria-expanded")==="true"};o.push(u)}}),new Kf(t,o,{alwaysOpen:e==="open",activeClasses:i||Pr.activeClasses,inactiveClasses:s||Pr.inactiveClasses})})}typeof window<"u"&&(window.Accordion=Kf,window.initAccordions=Ic);var Er=function(){return Er=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Er.apply(this,arguments)},Gu={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},R_={id:null,override:!0},Dh=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=Gu),o===void 0&&(o=R_),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._triggerEl=i,this._options=Er(Er({},Gu),s),this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Collapse",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(e){this._options.onCollapse=e},t.prototype.updateOnExpand=function(e){this._options.onExpand=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Pc(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),i=document.getElementById(e);i?Pt.instanceExists("Collapse",i.getAttribute("id"))?new Dh(i,t,{},{id:i.getAttribute("id")+"_"+Pt._generateRandomId()}):new Dh(i,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Dh,window.initCollapses=Pc);var Qs=function(){return Qs=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Qs.apply(this,arguments)},xr={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},L_={id:null,override:!0},$f=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=[]),s===void 0&&(s=xr),o===void 0&&(o=L_),this._instanceId=o.id?o.id:e.id,this._carouselEl=e,this._items=i,this._options=Qs(Qs(Qs({},xr),s),{indicators:Qs(Qs({},xr.indicators),s.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Pt.addInstance("Carousel",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(i){i.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(i,s){i.el.addEventListener("click",function(){e.slideTo(s)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var i=this._items[e],s={left:i.position===0?this._items[this._items.length-1]:this._items[i.position-1],middle:i,right:i.position===this._items.length-1?this._items[0]:this._items[i.position+1]};this._rotate(s),this._setActiveItem(i),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this.getActiveItem(),i=null;e.position===this._items.length-1?i=this._items[0]:i=this._items[e.position+1],this.slideTo(i.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this.getActiveItem(),i=null;e.position===0?i=this._items[this._items.length-1]:i=this._items[e.position-1],this.slideTo(i.position),this._options.onPrev(this)},t.prototype._rotate=function(e){if(this._items.map(function(i){i.el.classList.add("hidden")}),this._items.length===1){e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20");return}e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-30"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),e.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var i,s,o=this;this._activeItem=e;var c=e.position;this._indicators.length&&(this._indicators.map(function(u){var x,C;u.el.setAttribute("aria-current","false"),(x=u.el.classList).remove.apply(x,o._options.indicators.activeClasses.split(" ")),(C=u.el.classList).add.apply(C,o._options.indicators.inactiveClasses.split(" "))}),(i=this._indicators[c].el.classList).add.apply(i,this._options.indicators.activeClasses.split(" ")),(s=this._indicators[c].el.classList).remove.apply(s,this._options.indicators.inactiveClasses.split(" ")),this._indicators[c].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(e){this._options.onNext=e},t.prototype.updateOnPrev=function(e){this._options.onPrev=e},t.prototype.updateOnChange=function(e){this._options.onChange=e},t}();function Ec(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),i=t.getAttribute("data-carousel")==="slide",s=[],o=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(S,b){s.push({position:b,el:S}),S.getAttribute("data-carousel-item")==="active"&&(o=b)});var c=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(S){c.push({position:parseInt(S.getAttribute("data-carousel-slide-to")),el:S})});var u=new $f(t,s,{defaultPosition:o,indicators:{items:c},interval:e||xr.interval});i&&u.cycle();var x=t.querySelector("[data-carousel-next]"),C=t.querySelector("[data-carousel-prev]");x&&x.addEventListener("click",function(){u.next()}),C&&C.addEventListener("click",function(){u.prev()})})}typeof window<"u"&&(window.Carousel=$f,window.initCarousels=Ec);var Rr=function(){return Rr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Rr.apply(this,arguments)},Ju={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},O_={id:null,override:!0},Gf=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=Ju),o===void 0&&(o=O_),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._triggerEl=i,this._options=Rr(Rr({},Ju),s),this._initialized=!1,this.init(),Pt.addInstance("Dismiss",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function Rc(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),i=document.querySelector(e);i?new Gf(i,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=Gf,window.initDismisses=Rc);var qi="top",yn="bottom",vn="right",Zi="left",Lc="auto",Ho=[qi,yn,vn,Zi],Xa="start",Bo="end",B_="clippingParents",Jf="viewport",ho="popper",F_="reference",Qu=Ho.reduce(function(t,e){return t.concat([e+"-"+Xa,e+"-"+Bo])},[]),Qf=[].concat(Ho,[Lc]).reduce(function(t,e){return t.concat([e,e+"-"+Xa,e+"-"+Bo])},[]),D_="beforeRead",N_="read",V_="afterRead",H_="beforeMain",W_="main",U_="afterMain",z_="beforeWrite",Y_="write",X_="afterWrite",j_=[D_,N_,V_,H_,W_,U_,z_,Y_,X_];function Gn(t){return t?(t.nodeName||"").toLowerCase():null}function hn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oa(t){var e=hn(t).Element;return t instanceof e||t instanceof Element}function xn(t){var e=hn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Oc(t){if(typeof ShadowRoot>"u")return!1;var e=hn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function K_(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var s=e.styles[i]||{},o=e.attributes[i]||{},c=e.elements[i];!xn(c)||!Gn(c)||(Object.assign(c.style,s),Object.keys(o).forEach(function(u){var x=o[u];x===!1?c.removeAttribute(u):c.setAttribute(u,x===!0?"":x)}))})}function $_(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(s){var o=e.elements[s],c=e.attributes[s]||{},u=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:i[s]),x=u.reduce(function(C,S){return C[S]="",C},{});!xn(o)||!Gn(o)||(Object.assign(o.style,x),Object.keys(c).forEach(function(C){o.removeAttribute(C)}))})}}const G_={name:"applyStyles",enabled:!0,phase:"write",fn:K_,effect:$_,requires:["computeStyles"]};function Xn(t){return t.split("-")[0]}var sa=Math.max,Lr=Math.min,ja=Math.round;function Nh(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qf(){return!/^((?!chrome|android).)*safari/i.test(Nh())}function Ka(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var s=t.getBoundingClientRect(),o=1,c=1;e&&xn(t)&&(o=t.offsetWidth>0&&ja(s.width)/t.offsetWidth||1,c=t.offsetHeight>0&&ja(s.height)/t.offsetHeight||1);var u=oa(t)?hn(t):window,x=u.visualViewport,C=!qf()&&i,S=(s.left+(C&&x?x.offsetLeft:0))/o,b=(s.top+(C&&x?x.offsetTop:0))/c,L=s.width/o,B=s.height/c;return{width:L,height:B,top:b,right:S+L,bottom:b+B,left:S,x:S,y:b}}function Bc(t){var e=Ka(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function Zf(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Oc(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ds(t){return hn(t).getComputedStyle(t)}function J_(t){return["table","td","th"].indexOf(Gn(t))>=0}function zs(t){return((oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function vl(t){return Gn(t)==="html"?t:t.assignedSlot||t.parentNode||(Oc(t)?t.host:null)||zs(t)}function qu(t){return!xn(t)||ds(t).position==="fixed"?null:t.offsetParent}function Q_(t){var e=/firefox/i.test(Nh()),i=/Trident/i.test(Nh());if(i&&xn(t)){var s=ds(t);if(s.position==="fixed")return null}var o=vl(t);for(Oc(o)&&(o=o.host);xn(o)&&["html","body"].indexOf(Gn(o))<0;){var c=ds(o);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||e&&c.willChange==="filter"||e&&c.filter&&c.filter!=="none")return o;o=o.parentNode}return null}function Wo(t){for(var e=hn(t),i=qu(t);i&&J_(i)&&ds(i).position==="static";)i=qu(i);return i&&(Gn(i)==="html"||Gn(i)==="body"&&ds(i).position==="static")?e:i||Q_(t)||e}function Fc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Co(t,e,i){return sa(t,Lr(e,i))}function q_(t,e,i){var s=Co(t,e,i);return s>i?i:s}function em(){return{top:0,right:0,bottom:0,left:0}}function tm(t){return Object.assign({},em(),t)}function im(t,e){return e.reduce(function(i,s){return i[s]=t,i},{})}var Z_=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,tm(typeof e!="number"?e:im(e,Ho))};function eC(t){var e,i=t.state,s=t.name,o=t.options,c=i.elements.arrow,u=i.modifiersData.popperOffsets,x=Xn(i.placement),C=Fc(x),S=[Zi,vn].indexOf(x)>=0,b=S?"height":"width";if(!(!c||!u)){var L=Z_(o.padding,i),B=Bc(c),U=C==="y"?qi:Zi,q=C==="y"?yn:vn,ne=i.rects.reference[b]+i.rects.reference[C]-u[C]-i.rects.popper[b],ce=u[C]-i.rects.reference[C],ke=Wo(c),pe=ke?C==="y"?ke.clientHeight||0:ke.clientWidth||0:0,Pe=ne/2-ce/2,Ee=L[U],De=pe-B[b]-L[q],me=pe/2-B[b]/2+Pe,We=Co(Ee,me,De),Ae=C;i.modifiersData[s]=(e={},e[Ae]=We,e.centerOffset=We-me,e)}}function tC(t){var e=t.state,i=t.options,s=i.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Zf(e.elements.popper,o)&&(e.elements.arrow=o))}const iC={name:"arrow",enabled:!0,phase:"main",fn:eC,effect:tC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $a(t){return t.split("-")[1]}var nC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sC(t,e){var i=t.x,s=t.y,o=e.devicePixelRatio||1;return{x:ja(i*o)/o||0,y:ja(s*o)/o||0}}function Zu(t){var e,i=t.popper,s=t.popperRect,o=t.placement,c=t.variation,u=t.offsets,x=t.position,C=t.gpuAcceleration,S=t.adaptive,b=t.roundOffsets,L=t.isFixed,B=u.x,U=B===void 0?0:B,q=u.y,ne=q===void 0?0:q,ce=typeof b=="function"?b({x:U,y:ne}):{x:U,y:ne};U=ce.x,ne=ce.y;var ke=u.hasOwnProperty("x"),pe=u.hasOwnProperty("y"),Pe=Zi,Ee=qi,De=window;if(S){var me=Wo(i),We="clientHeight",Ae="clientWidth";if(me===hn(i)&&(me=zs(i),ds(me).position!=="static"&&x==="absolute"&&(We="scrollHeight",Ae="scrollWidth")),me=me,o===qi||(o===Zi||o===vn)&&c===Bo){Ee=yn;var tt=L&&me===De&&De.visualViewport?De.visualViewport.height:me[We];ne-=tt-s.height,ne*=C?1:-1}if(o===Zi||(o===qi||o===yn)&&c===Bo){Pe=vn;var st=L&&me===De&&De.visualViewport?De.visualViewport.width:me[Ae];U-=st-s.width,U*=C?1:-1}}var et=Object.assign({position:x},S&&nC),ze=b===!0?sC({x:U,y:ne},hn(i)):{x:U,y:ne};if(U=ze.x,ne=ze.y,C){var Le;return Object.assign({},et,(Le={},Le[Ee]=pe?"0":"",Le[Pe]=ke?"0":"",Le.transform=(De.devicePixelRatio||1)<=1?"translate("+U+"px, "+ne+"px)":"translate3d("+U+"px, "+ne+"px, 0)",Le))}return Object.assign({},et,(e={},e[Ee]=pe?ne+"px":"",e[Pe]=ke?U+"px":"",e.transform="",e))}function aC(t){var e=t.state,i=t.options,s=i.gpuAcceleration,o=s===void 0?!0:s,c=i.adaptive,u=c===void 0?!0:c,x=i.roundOffsets,C=x===void 0?!0:x,S={placement:Xn(e.placement),variation:$a(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zu(Object.assign({},S,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:C})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zu(Object.assign({},S,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:C})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aC,data:{}};var tr={passive:!0};function rC(t){var e=t.state,i=t.instance,s=t.options,o=s.scroll,c=o===void 0?!0:o,u=s.resize,x=u===void 0?!0:u,C=hn(e.elements.popper),S=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&S.forEach(function(b){b.addEventListener("scroll",i.update,tr)}),x&&C.addEventListener("resize",i.update,tr),function(){c&&S.forEach(function(b){b.removeEventListener("scroll",i.update,tr)}),x&&C.removeEventListener("resize",i.update,tr)}}const lC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rC,data:{}};var hC={left:"right",right:"left",bottom:"top",top:"bottom"};function yr(t){return t.replace(/left|right|bottom|top/g,function(e){return hC[e]})}var cC={start:"end",end:"start"};function ep(t){return t.replace(/start|end/g,function(e){return cC[e]})}function Dc(t){var e=hn(t),i=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:i,scrollTop:s}}function Nc(t){return Ka(zs(t)).left+Dc(t).scrollLeft}function dC(t,e){var i=hn(t),s=zs(t),o=i.visualViewport,c=s.clientWidth,u=s.clientHeight,x=0,C=0;if(o){c=o.width,u=o.height;var S=qf();(S||!S&&e==="fixed")&&(x=o.offsetLeft,C=o.offsetTop)}return{width:c,height:u,x:x+Nc(t),y:C}}function uC(t){var e,i=zs(t),s=Dc(t),o=(e=t.ownerDocument)==null?void 0:e.body,c=sa(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=sa(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),x=-s.scrollLeft+Nc(t),C=-s.scrollTop;return ds(o||i).direction==="rtl"&&(x+=sa(i.clientWidth,o?o.clientWidth:0)-c),{width:c,height:u,x,y:C}}function Vc(t){var e=ds(t),i=e.overflow,s=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+s)}function nm(t){return["html","body","#document"].indexOf(Gn(t))>=0?t.ownerDocument.body:xn(t)&&Vc(t)?t:nm(vl(t))}function To(t,e){var i;e===void 0&&(e=[]);var s=nm(t),o=s===((i=t.ownerDocument)==null?void 0:i.body),c=hn(s),u=o?[c].concat(c.visualViewport||[],Vc(s)?s:[]):s,x=e.concat(u);return o?x:x.concat(To(vl(u)))}function Vh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pC(t,e){var i=Ka(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function tp(t,e,i){return e===Jf?Vh(dC(t,i)):oa(e)?pC(e,i):Vh(uC(zs(t)))}function gC(t){var e=To(vl(t)),i=["absolute","fixed"].indexOf(ds(t).position)>=0,s=i&&xn(t)?Wo(t):t;return oa(s)?e.filter(function(o){return oa(o)&&Zf(o,s)&&Gn(o)!=="body"}):[]}function fC(t,e,i,s){var o=e==="clippingParents"?gC(t):[].concat(e),c=[].concat(o,[i]),u=c[0],x=c.reduce(function(C,S){var b=tp(t,S,s);return C.top=sa(b.top,C.top),C.right=Lr(b.right,C.right),C.bottom=Lr(b.bottom,C.bottom),C.left=sa(b.left,C.left),C},tp(t,u,s));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function sm(t){var e=t.reference,i=t.element,s=t.placement,o=s?Xn(s):null,c=s?$a(s):null,u=e.x+e.width/2-i.width/2,x=e.y+e.height/2-i.height/2,C;switch(o){case qi:C={x:u,y:e.y-i.height};break;case yn:C={x:u,y:e.y+e.height};break;case vn:C={x:e.x+e.width,y:x};break;case Zi:C={x:e.x-i.width,y:x};break;default:C={x:e.x,y:e.y}}var S=o?Fc(o):null;if(S!=null){var b=S==="y"?"height":"width";switch(c){case Xa:C[S]=C[S]-(e[b]/2-i[b]/2);break;case Bo:C[S]=C[S]+(e[b]/2-i[b]/2);break}}return C}function Fo(t,e){e===void 0&&(e={});var i=e,s=i.placement,o=s===void 0?t.placement:s,c=i.strategy,u=c===void 0?t.strategy:c,x=i.boundary,C=x===void 0?B_:x,S=i.rootBoundary,b=S===void 0?Jf:S,L=i.elementContext,B=L===void 0?ho:L,U=i.altBoundary,q=U===void 0?!1:U,ne=i.padding,ce=ne===void 0?0:ne,ke=tm(typeof ce!="number"?ce:im(ce,Ho)),pe=B===ho?F_:ho,Pe=t.rects.popper,Ee=t.elements[q?pe:B],De=fC(oa(Ee)?Ee:Ee.contextElement||zs(t.elements.popper),C,b,u),me=Ka(t.elements.reference),We=sm({reference:me,element:Pe,strategy:"absolute",placement:o}),Ae=Vh(Object.assign({},Pe,We)),tt=B===ho?Ae:me,st={top:De.top-tt.top+ke.top,bottom:tt.bottom-De.bottom+ke.bottom,left:De.left-tt.left+ke.left,right:tt.right-De.right+ke.right},et=t.modifiersData.offset;if(B===ho&&et){var ze=et[o];Object.keys(st).forEach(function(Le){var Rt=[vn,yn].indexOf(Le)>=0?1:-1,Gt=[qi,yn].indexOf(Le)>=0?"y":"x";st[Le]+=ze[Gt]*Rt})}return st}function mC(t,e){e===void 0&&(e={});var i=e,s=i.placement,o=i.boundary,c=i.rootBoundary,u=i.padding,x=i.flipVariations,C=i.allowedAutoPlacements,S=C===void 0?Qf:C,b=$a(s),L=b?x?Qu:Qu.filter(function(q){return $a(q)===b}):Ho,B=L.filter(function(q){return S.indexOf(q)>=0});B.length===0&&(B=L);var U=B.reduce(function(q,ne){return q[ne]=Fo(t,{placement:ne,boundary:o,rootBoundary:c,padding:u})[Xn(ne)],q},{});return Object.keys(U).sort(function(q,ne){return U[q]-U[ne]})}function xC(t){if(Xn(t)===Lc)return[];var e=yr(t);return[ep(t),e,ep(e)]}function yC(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var o=i.mainAxis,c=o===void 0?!0:o,u=i.altAxis,x=u===void 0?!0:u,C=i.fallbackPlacements,S=i.padding,b=i.boundary,L=i.rootBoundary,B=i.altBoundary,U=i.flipVariations,q=U===void 0?!0:U,ne=i.allowedAutoPlacements,ce=e.options.placement,ke=Xn(ce),pe=ke===ce,Pe=C||(pe||!q?[yr(ce)]:xC(ce)),Ee=[ce].concat(Pe).reduce(function(O,Q){return O.concat(Xn(Q)===Lc?mC(e,{placement:Q,boundary:b,rootBoundary:L,padding:S,flipVariations:q,allowedAutoPlacements:ne}):Q)},[]),De=e.rects.reference,me=e.rects.popper,We=new Map,Ae=!0,tt=Ee[0],st=0;st<Ee.length;st++){var et=Ee[st],ze=Xn(et),Le=$a(et)===Xa,Rt=[qi,yn].indexOf(ze)>=0,Gt=Rt?"width":"height",_t=Fo(e,{placement:et,boundary:b,rootBoundary:L,altBoundary:B,padding:S}),ct=Rt?Le?vn:Zi:Le?yn:qi;De[Gt]>me[Gt]&&(ct=yr(ct));var mt=yr(ct),pi=[];if(c&&pi.push(_t[ze]<=0),x&&pi.push(_t[ct]<=0,_t[mt]<=0),pi.every(function(O){return O})){tt=et,Ae=!1;break}We.set(et,pi)}if(Ae)for(var Yt=q?3:1,X=function(Q){var oe=Ee.find(function(z){var ee=We.get(z);if(ee)return ee.slice(0,Q).every(function(Z){return Z})});if(oe)return tt=oe,"break"},Bt=Yt;Bt>0;Bt--){var Je=X(Bt);if(Je==="break")break}e.placement!==tt&&(e.modifiersData[s]._skip=!0,e.placement=tt,e.reset=!0)}}const vC={name:"flip",enabled:!0,phase:"main",fn:yC,requiresIfExists:["offset"],data:{_skip:!1}};function ip(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function np(t){return[qi,vn,yn,Zi].some(function(e){return t[e]>=0})}function bC(t){var e=t.state,i=t.name,s=e.rects.reference,o=e.rects.popper,c=e.modifiersData.preventOverflow,u=Fo(e,{elementContext:"reference"}),x=Fo(e,{altBoundary:!0}),C=ip(u,s),S=ip(x,o,c),b=np(C),L=np(S);e.modifiersData[i]={referenceClippingOffsets:C,popperEscapeOffsets:S,isReferenceHidden:b,hasPopperEscaped:L},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":L})}const _C={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bC};function CC(t,e,i){var s=Xn(t),o=[Zi,qi].indexOf(s)>=0?-1:1,c=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,u=c[0],x=c[1];return u=u||0,x=(x||0)*o,[Zi,vn].indexOf(s)>=0?{x,y:u}:{x:u,y:x}}function TC(t){var e=t.state,i=t.options,s=t.name,o=i.offset,c=o===void 0?[0,0]:o,u=Qf.reduce(function(b,L){return b[L]=CC(L,e.rects,c),b},{}),x=u[e.placement],C=x.x,S=x.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=C,e.modifiersData.popperOffsets.y+=S),e.modifiersData[s]=u}const wC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:TC};function kC(t){var e=t.state,i=t.name;e.modifiersData[i]=sm({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const AC={name:"popperOffsets",enabled:!0,phase:"read",fn:kC,data:{}};function SC(t){return t==="x"?"y":"x"}function MC(t){var e=t.state,i=t.options,s=t.name,o=i.mainAxis,c=o===void 0?!0:o,u=i.altAxis,x=u===void 0?!1:u,C=i.boundary,S=i.rootBoundary,b=i.altBoundary,L=i.padding,B=i.tether,U=B===void 0?!0:B,q=i.tetherOffset,ne=q===void 0?0:q,ce=Fo(e,{boundary:C,rootBoundary:S,padding:L,altBoundary:b}),ke=Xn(e.placement),pe=$a(e.placement),Pe=!pe,Ee=Fc(ke),De=SC(Ee),me=e.modifiersData.popperOffsets,We=e.rects.reference,Ae=e.rects.popper,tt=typeof ne=="function"?ne(Object.assign({},e.rects,{placement:e.placement})):ne,st=typeof tt=="number"?{mainAxis:tt,altAxis:tt}:Object.assign({mainAxis:0,altAxis:0},tt),et=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ze={x:0,y:0};if(me){if(c){var Le,Rt=Ee==="y"?qi:Zi,Gt=Ee==="y"?yn:vn,_t=Ee==="y"?"height":"width",ct=me[Ee],mt=ct+ce[Rt],pi=ct-ce[Gt],Yt=U?-Ae[_t]/2:0,X=pe===Xa?We[_t]:Ae[_t],Bt=pe===Xa?-Ae[_t]:-We[_t],Je=e.elements.arrow,O=U&&Je?Bc(Je):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:em(),oe=Q[Rt],z=Q[Gt],ee=Co(0,We[_t],O[_t]),Z=Pe?We[_t]/2-Yt-ee-oe-st.mainAxis:X-ee-oe-st.mainAxis,_e=Pe?-We[_t]/2+Yt+ee+z+st.mainAxis:Bt+ee+z+st.mainAxis,Ke=e.elements.arrow&&Wo(e.elements.arrow),ht=Ke?Ee==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,F=(Le=et==null?void 0:et[Ee])!=null?Le:0,H=ct+Z-F-ht,K=ct+_e-F,de=Co(U?Lr(mt,H):mt,ct,U?sa(pi,K):pi);me[Ee]=de,ze[Ee]=de-ct}if(x){var se,Ie=Ee==="x"?qi:Zi,Ne=Ee==="x"?yn:vn,Ce=me[De],Fe=De==="y"?"height":"width",Te=Ce+ce[Ie],Qe=Ce-ce[Ne],it=[qi,Zi].indexOf(ke)!==-1,at=(se=et==null?void 0:et[De])!=null?se:0,Ge=it?Te:Ce-We[Fe]-Ae[Fe]-at+st.altAxis,Ct=it?Ce+We[Fe]+Ae[Fe]-at-st.altAxis:Qe,Ft=U&&it?q_(Ge,Ce,Ct):Co(U?Ge:Te,Ce,U?Ct:Qe);me[De]=Ft,ze[De]=Ft-Ce}e.modifiersData[s]=ze}}const IC={name:"preventOverflow",enabled:!0,phase:"main",fn:MC,requiresIfExists:["offset"]};function PC(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function EC(t){return t===hn(t)||!xn(t)?Dc(t):PC(t)}function RC(t){var e=t.getBoundingClientRect(),i=ja(e.width)/t.offsetWidth||1,s=ja(e.height)/t.offsetHeight||1;return i!==1||s!==1}function LC(t,e,i){i===void 0&&(i=!1);var s=xn(e),o=xn(e)&&RC(e),c=zs(e),u=Ka(t,o,i),x={scrollLeft:0,scrollTop:0},C={x:0,y:0};return(s||!s&&!i)&&((Gn(e)!=="body"||Vc(c))&&(x=EC(e)),xn(e)?(C=Ka(e,!0),C.x+=e.clientLeft,C.y+=e.clientTop):c&&(C.x=Nc(c))),{x:u.left+x.scrollLeft-C.x,y:u.top+x.scrollTop-C.y,width:u.width,height:u.height}}function OC(t){var e=new Map,i=new Set,s=[];t.forEach(function(c){e.set(c.name,c)});function o(c){i.add(c.name);var u=[].concat(c.requires||[],c.requiresIfExists||[]);u.forEach(function(x){if(!i.has(x)){var C=e.get(x);C&&o(C)}}),s.push(c)}return t.forEach(function(c){i.has(c.name)||o(c)}),s}function BC(t){var e=OC(t);return j_.reduce(function(i,s){return i.concat(e.filter(function(o){return o.phase===s}))},[])}function FC(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function DC(t){var e=t.reduce(function(i,s){var o=i[s.name];return i[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,i},{});return Object.keys(e).map(function(i){return e[i]})}var sp={placement:"bottom",modifiers:[],strategy:"absolute"};function ap(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function NC(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,s=i===void 0?[]:i,o=e.defaultOptions,c=o===void 0?sp:o;return function(x,C,S){S===void 0&&(S=c);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},sp,c),modifiersData:{},elements:{reference:x,popper:C},attributes:{},styles:{}},L=[],B=!1,U={state:b,setOptions:function(ke){var pe=typeof ke=="function"?ke(b.options):ke;ne(),b.options=Object.assign({},c,b.options,pe),b.scrollParents={reference:oa(x)?To(x):x.contextElement?To(x.contextElement):[],popper:To(C)};var Pe=BC(DC([].concat(s,b.options.modifiers)));return b.orderedModifiers=Pe.filter(function(Ee){return Ee.enabled}),q(),U.update()},forceUpdate:function(){if(!B){var ke=b.elements,pe=ke.reference,Pe=ke.popper;if(ap(pe,Pe)){b.rects={reference:LC(pe,Wo(Pe),b.options.strategy==="fixed"),popper:Bc(Pe)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(st){return b.modifiersData[st.name]=Object.assign({},st.data)});for(var Ee=0;Ee<b.orderedModifiers.length;Ee++){if(b.reset===!0){b.reset=!1,Ee=-1;continue}var De=b.orderedModifiers[Ee],me=De.fn,We=De.options,Ae=We===void 0?{}:We,tt=De.name;typeof me=="function"&&(b=me({state:b,options:Ae,name:tt,instance:U})||b)}}}},update:FC(function(){return new Promise(function(ce){U.forceUpdate(),ce(b)})}),destroy:function(){ne(),B=!0}};if(!ap(x,C))return U;U.setOptions(S).then(function(ce){!B&&S.onFirstUpdate&&S.onFirstUpdate(ce)});function q(){b.orderedModifiers.forEach(function(ce){var ke=ce.name,pe=ce.options,Pe=pe===void 0?{}:pe,Ee=ce.effect;if(typeof Ee=="function"){var De=Ee({state:b,name:ke,instance:U,options:Pe}),me=function(){};L.push(De||me)}})}function ne(){L.forEach(function(ce){return ce()}),L=[]}return U}}var VC=[lC,AC,oC,G_,wC,vC,IC,iC,_C],Hc=NC({defaultModifiers:VC}),Ss=function(){return Ss=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ss.apply(this,arguments)},ir=function(t,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return t.concat(c||Array.prototype.slice.call(e))},Ms={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},HC={id:null,override:!0},am=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=Ms),o===void 0&&(o=HC),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._triggerEl=i,this._options=Ss(Ss({},Ms),s),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Dropdown",this,this._instanceId,o.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,i=this._getTriggerEvents();this._options.triggerType==="click"&&i.showEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._clickHandler)}),this._options.triggerType==="hover"&&(i.showEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(s,e._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._hoverHideHandler),e._targetEl.removeEventListener(s,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){Pt.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,i=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&i.showEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._clickHandler)}),this._hoverShowTriggerElHandler=function(s){s.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(i.showEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(s,e._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._hoverHideHandler),e._targetEl.addEventListener(s,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return Hc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(i){e._handleClickOutside(i,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,i){var s=e.target,o=this._options.ignoreClickOutsideClass,c=!1;if(o){var u=document.querySelectorAll(".".concat(o));u.forEach(function(x){if(x.contains(s)){c=!0;return}})}s!==i&&!i.contains(s)&&!this._triggerEl.contains(s)&&!c&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return Ss(Ss({},e),{modifiers:ir(ir([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return Ss(Ss({},e),{modifiers:ir(ir([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Wc(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),i=document.getElementById(e);if(i){var s=t.getAttribute("data-dropdown-placement"),o=t.getAttribute("data-dropdown-offset-skidding"),c=t.getAttribute("data-dropdown-offset-distance"),u=t.getAttribute("data-dropdown-trigger"),x=t.getAttribute("data-dropdown-delay"),C=t.getAttribute("data-dropdown-ignore-click-outside-class");new am(i,t,{placement:s||Ms.placement,triggerType:u||Ms.triggerType,offsetSkidding:o?parseInt(o):Ms.offsetSkidding,offsetDistance:c?parseInt(c):Ms.offsetDistance,delay:x?parseInt(x):Ms.delay,ignoreClickOutsideClass:C||Ms.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=am,window.initDropdowns=Wc);var Or=function(){return Or=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Or.apply(this,arguments)},Br={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},WC={id:null,override:!0},om=function(){function t(e,i,s){e===void 0&&(e=null),i===void 0&&(i=Br),s===void 0&&(s=WC),this._eventListenerInstances=[],this._instanceId=s.id?s.id:e.id,this._targetEl=e,this._options=Or(Or({},Br),i),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Pt.addInstance("Modal",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(i){e._targetEl.classList.add(i)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var i=document.createElement("div");i.setAttribute("modal-backdrop",""),(e=i.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),this._backdropEl=i}},t.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(i){e._handleOutsideClick(i.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(i){i.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,i,s){this._eventListenerInstances.push({element:e,type:i,handler:s})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Uc(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),i=document.getElementById(e);if(i){var s=i.getAttribute("data-modal-placement"),o=i.getAttribute("data-modal-backdrop");new om(i,{placement:s||Br.placement,backdrop:o||Br.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Modal",e);if(s){var o=function(){s.toggle()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Modal",e);if(s){var o=function(){s.show()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Modal",e);if(s){var o=function(){s.hide()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=om,window.initModals=Uc);var Fr=function(){return Fr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Fr.apply(this,arguments)},qs={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},UC={id:null,override:!0},rm=function(){function t(e,i,s){e===void 0&&(e=null),i===void 0&&(i=qs),s===void 0&&(s=UC),this._eventListenerInstances=[],this._instanceId=s.id?s.id:e.id,this._targetEl=e,this._options=Fr(Fr({},qs),i),this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Drawer",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(i){e._targetEl.classList.add(i)}),this._handleEscapeKey=function(i){i.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){e._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){e._targetEl.classList.add(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){e._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){e._targetEl.classList.add(i)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){e._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){e._targetEl.classList.remove(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){e._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){e._targetEl.classList.remove(i)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,i=this;if(!this._visible){var s=document.createElement("div");s.setAttribute("drawer-backdrop",""),(e=s.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(s),s.addEventListener("click",function(){i.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,i,s){this._eventListenerInstances.push({element:e,type:i,handler:s})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function zc(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),i=document.getElementById(e);if(i){var s=t.getAttribute("data-drawer-placement"),o=t.getAttribute("data-drawer-body-scrolling"),c=t.getAttribute("data-drawer-backdrop"),u=t.getAttribute("data-drawer-edge"),x=t.getAttribute("data-drawer-edge-offset");new rm(i,{placement:s||qs.placement,bodyScrolling:o?o==="true":qs.bodyScrolling,backdrop:c?c==="true":qs.backdrop,edge:u?u==="true":qs.edge,edgeOffset:x||qs.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Drawer",e);if(s){var o=function(){s.toggle()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Drawer",e);if(s){var o=function(){s.hide()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show"),i=document.getElementById(e);if(i){var s=Pt.getInstance("Drawer",e);if(s){var o=function(){s.show()};t.addEventListener("click",o),s.addEventListenerInstance(t,"click",o)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=rm,window.initDrawers=zc);var Dr=function(){return Dr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Dr.apply(this,arguments)},Nr={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},zC={id:null,override:!0},lm=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=[]),s===void 0&&(s=Nr),o===void 0&&(o=zC),this._instanceId=o.id?o.id:e.id,this._tabsEl=e,this._items=i,this._activeTab=s?this.getTab(s.defaultTabId):null,this._options=Dr(Dr({},Nr),s),this._initialized=!1,this.init(),Pt.addInstance("Tabs",this,this._tabsEl.id,!0),Pt.addInstance("Tabs",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(i){i.triggerEl.addEventListener("click",function(s){s.preventDefault(),e.show(i.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),Pt.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(i){return i.id===e})[0]},t.prototype.show=function(e,i){var s,o,c=this;i===void 0&&(i=!1);var u=this.getTab(e);u===this._activeTab&&!i||(this._items.map(function(x){var C,S;x!==u&&((C=x.triggerEl.classList).remove.apply(C,c._options.activeClasses.split(" ")),(S=x.triggerEl.classList).add.apply(S,c._options.inactiveClasses.split(" ")),x.targetEl.classList.add("hidden"),x.triggerEl.setAttribute("aria-selected","false"))}),(s=u.triggerEl.classList).add.apply(s,this._options.activeClasses.split(" ")),(o=u.triggerEl.classList).remove.apply(o,this._options.inactiveClasses.split(" ")),u.triggerEl.setAttribute("aria-selected","true"),u.targetEl.classList.remove("hidden"),this.setActiveTab(u),this._options.onShow(this,u))},t.prototype.updateOnShow=function(e){this._options.onShow=e},t}();function Yc(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],i=t.getAttribute("data-tabs-active-classes"),s=t.getAttribute("data-tabs-inactive-classes"),o=null;t.querySelectorAll('[role="tab"]').forEach(function(c){var u=c.getAttribute("aria-selected")==="true",x={id:c.getAttribute("data-tabs-target"),triggerEl:c,targetEl:document.querySelector(c.getAttribute("data-tabs-target"))};e.push(x),u&&(o=x.id)}),new lm(t,e,{defaultTabId:o,activeClasses:i||Nr.activeClasses,inactiveClasses:s||Nr.inactiveClasses})})}typeof window<"u"&&(window.Tabs=lm,window.initTabs=Yc);var Is=function(){return Is=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Is.apply(this,arguments)},nr=function(t,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return t.concat(c||Array.prototype.slice.call(e))},Vr={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},YC={id:null,override:!0},hm=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=Vr),o===void 0&&(o=YC),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._triggerEl=i,this._options=Is(Is({},Vr),s),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Tooltip",this,this._instanceId,o.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._showHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Pt.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,i=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},i.showEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._showHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Hc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(i){i.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(i){e._handleClickOutside(i,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,i){var s=e.target;s!==i&&!i.contains(s)&&!this._triggerEl.contains(s)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Is(Is({},e),{modifiers:nr(nr([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Is(Is({},e),{modifiers:nr(nr([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Xc(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),i=document.getElementById(e);if(i){var s=t.getAttribute("data-tooltip-trigger"),o=t.getAttribute("data-tooltip-placement");new hm(i,t,{placement:o||Vr.placement,triggerType:s||Vr.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=hm,window.initTooltips=Xc);var Ps=function(){return Ps=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ps.apply(this,arguments)},sr=function(t,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return t.concat(c||Array.prototype.slice.call(e))},wo={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},XC={id:null,override:!0},cm=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=wo),o===void 0&&(o=XC),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._triggerEl=i,this._options=Ps(Ps({},wo),s),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Popover",this,o.id?o.id:this._targetEl.id,o.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._showHandler),e._targetEl.removeEventListener(s,e._showHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._hideHandler),e._targetEl.removeEventListener(s,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Pt.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,i=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},i.showEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._showHandler),e._targetEl.addEventListener(s,e._showHandler)}),i.hideEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._hideHandler),e._targetEl.addEventListener(s,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Hc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(i){i.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(i){e._handleClickOutside(i,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,i){var s=e.target;s!==i&&!i.contains(s)&&!this._triggerEl.contains(s)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Ps(Ps({},e),{modifiers:sr(sr([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Ps(Ps({},e),{modifiers:sr(sr([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function jc(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),i=document.getElementById(e);if(i){var s=t.getAttribute("data-popover-trigger"),o=t.getAttribute("data-popover-placement"),c=t.getAttribute("data-popover-offset");new cm(i,t,{placement:o||wo.placement,offset:c?parseInt(c):wo.offset,triggerType:s||wo.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=cm,window.initPopovers=jc);var Hr=function(){return Hr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Hr.apply(this,arguments)},Hh={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},jC={id:null,override:!0},dm=function(){function t(e,i,s,o,c){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=null),o===void 0&&(o=Hh),c===void 0&&(c=jC),this._instanceId=c.id?c.id:s.id,this._parentEl=e,this._triggerEl=i,this._targetEl=s,this._options=Hr(Hr({},Hh),o),this._visible=!1,this._initialized=!1,this.init(),Pt.addInstance("Dial",this,this._instanceId,c.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},i.showEvents.forEach(function(s){e._triggerEl.addEventListener(s,e._showEventHandler),e._targetEl.addEventListener(s,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},i.hideEvents.forEach(function(s){e._parentEl.addEventListener(s,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);i.showEvents.forEach(function(s){e._triggerEl.removeEventListener(s,e._showEventHandler),e._targetEl.removeEventListener(s,e._showEventHandler)}),i.hideEvents.forEach(function(s){e._parentEl.removeEventListener(s,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){Pt.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Kc(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var i=e.getAttribute("data-dial-toggle"),s=document.getElementById(i);if(s){var o=e.getAttribute("data-dial-trigger");new dm(t,e,s,{triggerType:o||Hh.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=dm,window.initDials=Kc);var Wr=function(){return Wr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wr.apply(this,arguments)},op={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},KC={id:null,override:!0},um=function(){function t(e,i,s,o,c){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=null),o===void 0&&(o=op),c===void 0&&(c=KC),this._instanceId=c.id?c.id:e.id,this._targetEl=e,this._incrementEl=i,this._decrementEl=s,this._options=Wr(Wr({},op),o),this._initialized=!1,this.init(),Pt.addInstance("InputCounter",this,this._instanceId,c.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(i){{var s=i.target;/^\d*$/.test(s.value)||(s.value=s.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(s.value)>e._options.maxValue&&(s.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(s.value)<e._options.minValue&&(s.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(e){this._options.onIncrement=e},t.prototype.updateOnDecrement=function(e){this._options.onDecrement=e},t}();function $c(){document.querySelectorAll("[data-input-counter]").forEach(function(t){var e=t.id,i=document.querySelector('[data-input-counter-increment="'+e+'"]'),s=document.querySelector('[data-input-counter-decrement="'+e+'"]'),o=t.getAttribute("data-input-counter-min"),c=t.getAttribute("data-input-counter-max");t?Pt.instanceExists("InputCounter",t.getAttribute("id"))||new um(t,i||null,s||null,{minValue:o?parseInt(o):null,maxValue:c?parseInt(c):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=um,window.initInputCounters=$c);var Ur=function(){return Ur=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ur.apply(this,arguments)},zr={htmlEntities:!1,contentType:"input",onCopy:function(){}},$C={id:null,override:!0},pm=function(){function t(e,i,s,o){e===void 0&&(e=null),i===void 0&&(i=null),s===void 0&&(s=zr),o===void 0&&(o=$C),this._instanceId=o.id?o.id:i.id,this._triggerEl=e,this._targetEl=i,this._options=Ur(Ur({},zr),s),this._initialized=!1,this.init(),Pt.addInstance("CopyClipboard",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){e.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Pt.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},t.prototype.copy=function(){var e=this.getTargetValue();this._options.htmlEntities&&(e=this.decodeHTML(e));var i=document.createElement("textarea");return i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),this._options.onCopy(this),e},t.prototype.decodeHTML=function(e){var i=document.createElement("textarea");return i.innerHTML=e,i.textContent},t.prototype.updateOnCopyCallback=function(e){this._options.onCopy=e},t}();function Gc(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(e),s=t.getAttribute("data-copy-to-clipboard-content-type"),o=t.getAttribute("data-copy-to-clipboard-html-entities");i?Pt.instanceExists("CopyClipboard",i.getAttribute("id"))||new pm(t,i,{htmlEntities:o&&o==="true"?!0:zr.htmlEntities,contentType:s||zr.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=pm,window.initClipboards=Gc);function gm(){Ic(),Pc(),Ec(),Rc(),Wc(),Uc(),zc(),Yc(),Xc(),jc(),Kc(),$c(),Gc()}typeof window<"u"&&(window.initFlowbite=gm);var GC=new I_("load",[Ic,Pc,Ec,Rc,Wc,Uc,zc,Yc,Xc,jc,Kc,$c,Gc]);GC.init();/*! @azure/msal-common v14.9.0 2024-04-11 */const ue={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ar={SUCCESS_RANGE_START:200,SUCCESS:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599},io=[ue.OPENID_SCOPE,ue.PROFILE_SCOPE,ue.OFFLINE_ACCESS_SCOPE],rp=[...io,ue.EMAIL_SCOPE],Un={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Pi={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Bs={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},or={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ei={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},lp={PLAIN:"plain",S256:"S256"},Uo={QUERY:"query",FRAGMENT:"fragment"},JC={...Uo,FORM_POST:"form_post"},fm={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},rr={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Wi={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},dt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Jc="appmetadata",QC="client_info",ko="1",Yr={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},sn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Li={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Qt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ao={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},hp={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},cp={username:"username",password:"password"},lr={httpSuccess:200,httpBadRequest:400},ba={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},$l={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Cs={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},qC={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},ZC=300;/*! @azure/msal-common v14.9.0 2024-04-11 */const Qc="unexpected_error",eT="post_request_failed";/*! @azure/msal-common v14.9.0 2024-04-11 */const dp={[Qc]:"Unexpected error in authentication.",[eT]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class ui extends Error{constructor(e,i,s){const o=i?`${e}: ${i}`:e;super(o),Object.setPrototypeOf(this,ui.prototype),this.errorCode=e||ue.EMPTY_STRING,this.errorMessage=i||ue.EMPTY_STRING,this.subError=s||ue.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function mm(t,e){return new ui(t,e?`${dp[t]} ${e}`:dp[t])}/*! @azure/msal-common v14.9.0 2024-04-11 */const qc="client_info_decoding_error",xm="client_info_empty_error",Zc="token_parsing_error",ym="null_or_empty_token",ts="endpoints_resolution_error",vm="network_error",bm="openid_config_error",_m="hash_not_deserialized",Ga="invalid_state",Cm="state_mismatch",Xr="state_not_found",Tm="nonce_mismatch",ed="auth_time_not_found",wm="max_age_transpired",tT="multiple_matching_tokens",iT="multiple_matching_accounts",km="multiple_matching_appMetadata",Am="request_cannot_be_made",Sm="cannot_remove_empty_scope",Mm="cannot_append_scopeset",Wh="empty_input_scopeset",nT="device_code_polling_cancelled",sT="device_code_expired",aT="device_code_unknown_error",td="no_account_in_silent_request",Im="invalid_cache_record",id="invalid_cache_environment",Uh="no_account_found",zh="no_crypto_object",Yh="unexpected_credential_type",oT="invalid_assertion",rT="invalid_client_credential",ns="token_refresh_required",lT="user_timeout_reached",Pm="token_claims_cnf_required_for_signedjwt",Em="authorization_code_missing_from_server_response",Rm="binding_key_not_removed",Lm="end_session_endpoint_not_supported",nd="key_id_missing",hT="no_network_connectivity",cT="user_canceled",dT="missing_tenant_id_error",It="method_not_implemented",uT="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.9.0 2024-04-11 */const up={[qc]:"The client info could not be parsed/decoded correctly",[xm]:"The client info was empty",[Zc]:"Token cannot be parsed",[ym]:"The token is null or empty",[ts]:"Endpoints cannot be resolved",[vm]:"Network request failed",[bm]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[_m]:"The hash parameters could not be deserialized",[Ga]:"State was not the expected format",[Cm]:"State mismatch error",[Xr]:"State not found",[Tm]:"Nonce mismatch error",[ed]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[wm]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[tT]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[iT]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[km]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Am]:"Token request cannot be made without authorization code or refresh token.",[Sm]:"Cannot remove null or empty scope from ScopeSet",[Mm]:"Cannot append ScopeSet",[Wh]:"Empty input ScopeSet cannot be processed",[nT]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[sT]:"Device code is expired.",[aT]:"Device code stopped polling for unknown reasons.",[td]:"Please pass an account object, silent flow is not supported without account information",[Im]:"Cache record object was null or undefined.",[id]:"Invalid environment when attempting to create cache entry",[Uh]:"No account found in cache for given key.",[zh]:"No crypto object detected.",[Yh]:"Unexpected credential type.",[oT]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[rT]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ns]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[lT]:"User defined timeout for device code polling reached",[Pm]:"Cannot generate a POP jwt if the token_claims are not populated",[Em]:"Server response does not contain an authorization code to proceed",[Rm]:"Could not remove the credential's binding key from storage.",[Lm]:"The provided authority does not support logout",[nd]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[hT]:"No network connectivity. Check your internet connection.",[cT]:"User cancelled the flow.",[dT]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[It]:"This method has not been implemented",[uT]:"The nested app auth bridge is disabled"};class bl extends ui{constructor(e,i){super(e,i?`${up[e]}: ${i}`:up[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,bl.prototype)}}function Me(t,e){return new bl(t,e)}/*! @azure/msal-common v14.9.0 2024-04-11 */const jr={createNewGuid:()=>{throw Me(It)},base64Decode:()=>{throw Me(It)},base64Encode:()=>{throw Me(It)},async getPublicKeyThumbprint(){throw Me(It)},async removeTokenBindingKey(){throw Me(It)},async clearKeystore(){throw Me(It)},async signJwt(){throw Me(It)},async hashString(){throw Me(It)}};/*! @azure/msal-common v14.9.0 2024-04-11 */var ri;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ri||(ri={}));class ra{constructor(e,i,s){this.level=ri.Info;const o=()=>{},c=e||ra.createDefaultLoggerOptions();this.localCallback=c.loggerCallback||o,this.piiLoggingEnabled=c.piiLoggingEnabled||!1,this.level=typeof c.logLevel=="number"?c.logLevel:ri.Info,this.correlationId=c.correlationId||ue.EMPTY_STRING,this.packageName=i||ue.EMPTY_STRING,this.packageVersion=s||ue.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ri.Info}}clone(e,i,s){return new ra({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:s||this.correlationId},e,i)}logMessage(e,i){if(i.logLevel>this.level||!this.piiLoggingEnabled&&i.containsPii)return;const c=`${`[${new Date().toUTCString()}] : [${i.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ri[i.logLevel]} - ${e}`;this.executeCallback(i.logLevel,c,i.containsPii||!1)}executeCallback(e,i,s){this.localCallback&&this.localCallback(e,i,s)}error(e,i){this.logMessage(e,{logLevel:ri.Error,containsPii:!1,correlationId:i||ue.EMPTY_STRING})}errorPii(e,i){this.logMessage(e,{logLevel:ri.Error,containsPii:!0,correlationId:i||ue.EMPTY_STRING})}warning(e,i){this.logMessage(e,{logLevel:ri.Warning,containsPii:!1,correlationId:i||ue.EMPTY_STRING})}warningPii(e,i){this.logMessage(e,{logLevel:ri.Warning,containsPii:!0,correlationId:i||ue.EMPTY_STRING})}info(e,i){this.logMessage(e,{logLevel:ri.Info,containsPii:!1,correlationId:i||ue.EMPTY_STRING})}infoPii(e,i){this.logMessage(e,{logLevel:ri.Info,containsPii:!0,correlationId:i||ue.EMPTY_STRING})}verbose(e,i){this.logMessage(e,{logLevel:ri.Verbose,containsPii:!1,correlationId:i||ue.EMPTY_STRING})}verbosePii(e,i){this.logMessage(e,{logLevel:ri.Verbose,containsPii:!0,correlationId:i||ue.EMPTY_STRING})}trace(e,i){this.logMessage(e,{logLevel:ri.Trace,containsPii:!1,correlationId:i||ue.EMPTY_STRING})}tracePii(e,i){this.logMessage(e,{logLevel:ri.Trace,containsPii:!0,correlationId:i||ue.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Om="@azure/msal-common",sd="14.9.0";/*! @azure/msal-common v14.9.0 2024-04-11 */const ad={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.9.0 2024-04-11 */function ua(t,e){const i=pT(t);try{const s=e(i);return JSON.parse(s)}catch{throw Me(Zc)}}function pT(t){if(!t)throw Me(ym);const i=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!i||i.length<4)throw Me(Zc);return i[2]}function Bm(t,e){if(e===0||Date.now()-3e5>t+e)throw Me(wm)}/*! @azure/msal-common v14.9.0 2024-04-11 */function Jn(){return Math.round(new Date().getTime()/1e3)}function Xh(t,e){const i=Number(t)||0;return Jn()+e>i}function gT(t){return Number(t)>Jn()}/*! @azure/msal-common v14.9.0 2024-04-11 */function Pa(t){return[fT(t),mT(t),xT(t),yT(t),vT(t)].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}function _l(t,e,i,s,o){return{credentialType:dt.ID_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:i,realm:o}}function Cl(t,e,i,s,o,c,u,x,C,S,b,L,B,U,q){var ce,ke;const ne={homeAccountId:t,credentialType:dt.ACCESS_TOKEN,secret:i,cachedAt:Jn().toString(),expiresOn:u.toString(),extendedExpiresOn:x.toString(),environment:e,clientId:s,realm:o,target:c,tokenType:b||Qt.BEARER};if(L&&(ne.userAssertionHash=L),S&&(ne.refreshOn=S.toString()),U&&(ne.requestedClaims=U,ne.requestedClaimsHash=q),((ce=ne.tokenType)==null?void 0:ce.toLowerCase())!==Qt.BEARER.toLowerCase())switch(ne.credentialType=dt.ACCESS_TOKEN_WITH_AUTH_SCHEME,ne.tokenType){case Qt.POP:const pe=ua(i,C);if(!((ke=pe==null?void 0:pe.cnf)!=null&&ke.kid))throw Me(Pm);ne.keyId=pe.cnf.kid;break;case Qt.SSH:ne.keyId=B}return ne}function Fm(t,e,i,s,o,c,u){const x={credentialType:dt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:i};return c&&(x.userAssertionHash=c),o&&(x.familyId=o),u&&(x.expiresOn=u.toString()),x}function od(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function pp(t){return t?od(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===dt.ACCESS_TOKEN||t.credentialType===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function gp(t){return t?od(t)&&t.hasOwnProperty("realm")&&t.credentialType===dt.ID_TOKEN:!1}function fp(t){return t?od(t)&&t.credentialType===dt.REFRESH_TOKEN:!1}function fT(t){return[t.homeAccountId,t.environment].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}function mT(t){const e=t.credentialType===dt.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}function xT(t){return(t.target||"").toLowerCase()}function yT(t){return(t.requestedClaimsHash||"").toLowerCase()}function vT(t){return t.tokenType&&t.tokenType.toLowerCase()!==Qt.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function bT(t,e){const i=t.indexOf(Li.CACHE_KEY)===0;let s=!0;return e&&(s=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),i&&s}function _T(t,e){let i=!1;t&&(i=t.indexOf(Ao.THROTTLING_PREFIX)===0);let s=!0;return e&&(s=e.hasOwnProperty("throttleTime")),i&&s}function CT({environment:t,clientId:e}){return[Jc,t,e].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}function TT(t,e){return e?t.indexOf(Jc)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function wT(t,e){return e?t.indexOf(Yr.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function mp(){return Jn()+Yr.REFRESH_TIME_SECONDS}function hr(t,e,i){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=i,t.jwks_uri=e.jwks_uri}function Gl(t,e,i){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=i}function xp(t){return t.expiresAt<=Jn()}/*! @azure/msal-common v14.9.0 2024-04-11 */const Dm="redirect_uri_empty",kT="claims_request_parsing_error",Nm="authority_uri_insecure",uo="url_parse_error",Vm="empty_url_error",Hm="empty_input_scopes_error",Wm="invalid_prompt_value",rd="invalid_claims",Um="token_request_empty",zm="logout_request_empty",Ym="invalid_code_challenge_method",ld="pkce_params_missing",hd="invalid_cloud_discovery_metadata",Xm="invalid_authority_metadata",jm="untrusted_authority",Tl="missing_ssh_jwk",Km="missing_ssh_kid",AT="missing_nonce_authentication_header",ST="invalid_authentication_header",$m="cannot_set_OIDCOptions",Gm="cannot_allow_native_broker",Jm="authority_mismatch";/*! @azure/msal-common v14.9.0 2024-04-11 */const MT={[Dm]:"A redirect URI is required for all calls, and none has been set.",[kT]:"Could not parse the given claims request object.",[Nm]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[uo]:"URL could not be parsed into appropriate segments.",[Vm]:"URL was empty or null.",[Hm]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Wm]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[rd]:"Given claims parameter must be a stringified JSON object.",[Um]:"Token request was empty and not found in cache.",[zm]:"The logout request was null or undefined.",[Ym]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[ld]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[hd]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Xm]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[jm]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Tl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Km]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[AT]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ST]:"Invalid authentication header provided",[$m]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Gm]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Jm]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class cd extends ui{constructor(e){super(e,MT[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,cd.prototype)}}function ti(t){return new cd(t)}/*! @azure/msal-common v14.9.0 2024-04-11 */class Mn{static isEmptyObj(e){if(e)try{const i=JSON.parse(e);return Object.keys(i).length===0}catch{}return!0}static startsWith(e,i){return e.indexOf(i)===0}static endsWith(e,i){return e.length>=i.length&&e.lastIndexOf(i)===e.length-i.length}static queryStringToObject(e){const i={},s=e.split("&"),o=c=>decodeURIComponent(c.replace(/\+/g," "));return s.forEach(c=>{if(c.trim()){const[u,x]=c.split(/=(.+)/g,2);u&&x&&(i[o(u)]=o(x))}}),i}static trimArrayEntries(e){return e.map(i=>i.trim())}static removeEmptyStringsFromArray(e){return e.filter(i=>!!i)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,i){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(i)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class bi{constructor(e){const i=e?Mn.trimArrayEntries([...e]):[],s=i?Mn.removeEmptyStringsFromArray(i):[];this.validateInputScopes(s),this.scopes=new Set,s.forEach(o=>this.scopes.add(o))}static fromString(e){const s=(e||ue.EMPTY_STRING).split(" ");return new bi(s)}static createSearchScopes(e){const i=new bi(e);return i.containsOnlyOIDCScopes()?i.removeScope(ue.OFFLINE_ACCESS_SCOPE):i.removeOIDCScopes(),i}validateInputScopes(e){if(!e||e.length<1)throw ti(Hm)}containsScope(e){const i=this.printScopesLowerCase().split(" "),s=new bi(i);return e?s.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(i=>this.containsScope(i))}containsOnlyOIDCScopes(){let e=0;return rp.forEach(i=>{this.containsScope(i)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(i=>this.appendScope(i))}catch{throw Me(Mm)}}removeScope(e){if(!e)throw Me(Sm);this.scopes.delete(e.trim())}removeOIDCScopes(){rp.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Me(Wh);const i=new Set;return e.scopes.forEach(s=>i.add(s.toLowerCase())),this.scopes.forEach(s=>i.add(s.toLowerCase())),i}intersectingScopeSets(e){if(!e)throw Me(Wh);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const i=this.unionScopeSets(e),s=e.getScopeCount(),o=this.getScopeCount();return i.size<o+s}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(i=>e.push(i)),e}printScopes(){return this.scopes?this.asArray().join(" "):ue.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.9.0 2024-04-11 */function Kr(t,e){if(!t)throw Me(xm);try{const i=e(t);return JSON.parse(i)}catch{throw Me(qc)}}function Ea(t){if(!t)throw Me(qc);const e=t.split(Wi.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?ue.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.9.0 2024-04-11 */function jh(t,e){return!!t&&!!e&&t===e.split(".")[1]}function dd(t,e){const{oid:i,sub:s,tid:o,name:c,tfp:u,acr:x}=e,C=o||u||x||"";return{tenantId:C,localAccountId:i||s||"",name:c,isHomeTenant:jh(C,t)}}function ud(t,e,i,s){let o=t;if(e){const{isHomeTenant:c,...u}=e;o={...t,...u}}if(i){const{isHomeTenant:c,...u}=dd(t.homeAccountId,i);return o={...o,...u,idTokenClaims:i,idToken:s},o}return o}/*! @azure/msal-common v14.9.0 2024-04-11 */const Tn={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.9.0 2024-04-11 */function Qm(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v14.9.0 2024-04-11 */const rs={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.9.0 2024-04-11 */class ki{generateAccountId(){return[this.homeAccountId,this.environment].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return ki.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const i=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",i||e.tenantId||""].join(Wi.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,i,s){const o=new ki;i.authorityType===Tn.Adfs?o.authorityType=rr.ADFS_ACCOUNT_TYPE:i.protocolMode===rs.AAD?o.authorityType=rr.MSSTS_ACCOUNT_TYPE:o.authorityType=rr.GENERIC_ACCOUNT_TYPE;let c;e.clientInfo&&s&&(c=Kr(e.clientInfo,s)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;const u=e.environment||i&&i.getPreferredCache();if(!u)throw Me(id);o.environment=u,o.realm=(c==null?void 0:c.utid)||Qm(e.idTokenClaims)||"",o.localAccountId=(c==null?void 0:c.uid)||e.idTokenClaims.oid||e.idTokenClaims.sub||"";const x=e.idTokenClaims.preferred_username||e.idTokenClaims.upn,C=e.idTokenClaims.emails?e.idTokenClaims.emails[0]:null;if(o.username=x||C||"",o.name=e.idTokenClaims.name,o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{const S=[];if(e.idTokenClaims){const b=dd(e.homeAccountId,e.idTokenClaims);S.push(b)}o.tenantProfiles=S}return o}static createFromAccountInfo(e,i,s){var c;const o=new ki;return o.authorityType=e.authorityType||rr.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=i,o.msGraphHost=s,o.tenantProfiles=Array.from(((c=e.tenantProfiles)==null?void 0:c.values())||[]),o}static generateHomeAccountId(e,i,s,o,c){if(!(i===Tn.Adfs||i===Tn.Dsts)){if(e)try{const u=Kr(e,o.base64Decode);if(u.uid&&u.utid)return`${u.uid}.${u.utid}`}catch{}s.warning("No client info in response")}return(c==null?void 0:c.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,i,s){if(!e||!i)return!1;let o=!0;if(s){const c=e.idTokenClaims||{},u=i.idTokenClaims||{};o=c.iat===u.iat&&c.nonce===u.nonce}return e.homeAccountId===i.homeAccountId&&e.localAccountId===i.localAccountId&&e.username===i.username&&e.tenantId===i.tenantId&&e.environment===i.environment&&e.nativeAccountId===i.nativeAccountId&&o}}/*! @azure/msal-common v14.9.0 2024-04-11 */function qm(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function $r(t){if(!t||t.indexOf("=")<0)return null;try{const e=qm(t),i=Object.fromEntries(new URLSearchParams(e));if(i.code||i.error||i.error_description||i.state)return i}catch{throw Me(_m)}return null}/*! @azure/msal-common v14.9.0 2024-04-11 */class Vt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw ti(Vm);e.includes("#")||(this._urlString=Vt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let i=e.toLowerCase();return Mn.endsWith(i,"?")?i=i.slice(0,-1):Mn.endsWith(i,"?/")&&(i=i.slice(0,-2)),Mn.endsWith(i,"/")||(i+="/"),i}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw ti(uo)}if(!e.HostNameAndPort||!e.PathSegments)throw ti(uo);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw ti(Nm)}static appendQueryString(e,i){return i?e.indexOf("?")<0?`${e}?${i}`:`${e}&${i}`:e}static removeHashFromUrl(e){return Vt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const i=this.getUrlComponents(),s=i.PathSegments;return e&&s.length!==0&&(s[0]===Bs.COMMON||s[0]===Bs.ORGANIZATIONS)&&(s[0]=e),Vt.constructAuthorityUriFromObject(i)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),i=this.urlString.match(e);if(!i)throw ti(uo);const s={Protocol:i[1],HostNameAndPort:i[4],AbsolutePath:i[5],QueryString:i[7]};let o=s.AbsolutePath.split("/");return o=o.filter(c=>c&&c.length>0),s.PathSegments=o,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(e){const i=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=e.match(i);if(!s)throw ti(uo);return s[2]}static getAbsoluteUrl(e,i){if(e[0]===ue.FORWARD_SLASH){const o=new Vt(i).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Vt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!$r(e)}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Zm={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},yp=Zm.endpointMetadata,pd=Zm.instanceDiscoveryMetadata,ex=new Set;pd.metadata.forEach(t=>{t.aliases.forEach(e=>{ex.add(e)})});function IT(t,e){var o;let i;const s=t.canonicalAuthority;if(s){const c=new Vt(s).getUrlComponents().HostNameAndPort;i=vp(c,(o=t.cloudDiscoveryMetadata)==null?void 0:o.metadata,sn.CONFIG,e)||vp(c,pd.metadata,sn.HARDCODED_VALUES,e)||t.knownAuthorities}return i||[]}function vp(t,e,i,s){if(s==null||s.trace(`getAliasesFromMetadata called with source: ${i}`),t&&e){const o=Gr(e,t);if(o)return s==null||s.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${i}, returning aliases`),o.aliases;s==null||s.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${i}`)}return null}function PT(t){return Gr(pd.metadata,t)}function Gr(t,e){for(let i=0;i<t.length;i++){const s=t[i];if(s.aliases.includes(e))return s}return null}/*! @azure/msal-common v14.9.0 2024-04-11 */const tx="cache_quota_exceeded",gd="cache_error_unknown";/*! @azure/msal-common v14.9.0 2024-04-11 */const Jl={[tx]:"Exceeded cache storage capacity.",[gd]:"Unexpected error occurred when using cache storage."};class Da extends Error{constructor(e,i){const s=i||(Jl[e]?Jl[e]:Jl[gd]);super(`${e}: ${s}`),Object.setPrototypeOf(this,Da.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=s}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Ja{constructor(e,i,s,o){this.clientId=e,this.cryptoImpl=i,this.commonLogger=s.clone(Om,sd),this.staticAuthorityOptions=o}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const i=this.getAllAccounts(e);return i.length>1?i.sort(o=>o.idTokenClaims?-1:1)[0]:i.length===1?i[0]:null}getBaseAccountInfo(e){const i=this.getAccountsFilteredBy(e);return i.length>0?i[0].getAccountInfo():null}buildTenantProfiles(e,i){return e.flatMap(s=>this.getAccountInfoForTenantProfiles(s,i))}getAccountInfoForTenantProfiles(e,i){return this.getTenantProfilesFromAccountEntity(e,i==null?void 0:i.tenantId,i)}getTenantedAccountInfoByFilter(e,i,s,o){let c=null,u;if(o&&!this.tenantProfileMatchesFilter(s,o))return null;const x=this.getIdToken(e,i,s.tenantId);return x&&(u=ua(x.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(u,o))?null:(c=ud(e,s,u,x==null?void 0:x.secret),c)}getTenantProfilesFromAccountEntity(e,i,s){const o=e.getAccountInfo();let c=o.tenantProfiles||new Map;const u=this.getTokenKeys();if(i){const C=c.get(i);if(C)c=new Map([[i,C]]);else return[]}const x=[];return c.forEach(C=>{const S=this.getTenantedAccountInfoByFilter(o,u,C,s);S&&x.push(S)}),x}tenantProfileMatchesFilter(e,i){return!(i.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,i.localAccountId)||i.name&&e.name!==i.name||i.isHomeTenant!==void 0&&e.isHomeTenant!==i.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,i){return!(i&&(i.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,i.localAccountId)||i.loginHint&&!this.matchLoginHintFromTokenClaims(e,i.loginHint)||i.username&&!this.matchUsername(e.preferred_username,i.username)||i.name&&!this.matchName(e,i.name)||i.sid&&!this.matchSid(e,i.sid)))}async saveCacheRecord(e,i,s){var o,c,u,x;if(!e)throw Me(Im);try{e.account&&this.setAccount(e.account),e.idToken&&(i==null?void 0:i.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(i==null?void 0:i.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(i==null?void 0:i.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(C){throw(o=this.commonLogger)==null||o.error("CacheManager.saveCacheRecord: failed"),C instanceof Error?((c=this.commonLogger)==null||c.errorPii(`CacheManager.saveCacheRecord: ${C.message}`,s),C.name==="QuotaExceededError"||C.name==="NS_ERROR_DOM_QUOTA_REACHED"||C.message.includes("exceeded the quota")?((u=this.commonLogger)==null||u.error("CacheManager.saveCacheRecord: exceeded storage quota",s),new Da(tx)):new Da(C.name,C.message)):((x=this.commonLogger)==null||x.errorPii(`CacheManager.saveCacheRecord: ${C}`,s),new Da(gd))}}async saveAccessToken(e){const i={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},s=this.getTokenKeys(),o=bi.fromString(e.target),c=[];s.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,i,!1))return;const x=this.getAccessTokenCredential(u);x&&this.credentialMatchesFilter(x,i)&&bi.fromString(x.target).intersectingScopeSets(o)&&c.push(this.removeAccessToken(u))}),await Promise.all(c),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const i=this.getAccountKeys(),s=[];return i.forEach(o=>{var C;if(!this.isAccountKey(o,e.homeAccountId))return;const c=this.getAccount(o,this.commonLogger);if(!c||e.homeAccountId&&!this.matchHomeAccountId(c,e.homeAccountId)||e.username&&!this.matchUsername(c.username,e.username)||e.environment&&!this.matchEnvironment(c,e.environment)||e.realm&&!this.matchRealm(c,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(c,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(c,e.authorityType))return;const u={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},x=(C=c.tenantProfiles)==null?void 0:C.filter(S=>this.tenantProfileMatchesFilter(S,u));x&&x.length===0||s.push(c)}),s}isAccountKey(e,i,s){return!(e.split(Wi.CACHE_KEY_SEPARATOR).length<3||i&&!e.toLowerCase().includes(i.toLowerCase())||s&&!e.toLowerCase().includes(s.toLowerCase()))}isCredentialKey(e){if(e.split(Wi.CACHE_KEY_SEPARATOR).length<6)return!1;const i=e.toLowerCase();if(i.indexOf(dt.ID_TOKEN.toLowerCase())===-1&&i.indexOf(dt.ACCESS_TOKEN.toLowerCase())===-1&&i.indexOf(dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&i.indexOf(dt.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(i.indexOf(dt.REFRESH_TOKEN.toLowerCase())>-1){const s=`${dt.REFRESH_TOKEN}${Wi.CACHE_KEY_SEPARATOR}${this.clientId}${Wi.CACHE_KEY_SEPARATOR}`,o=`${dt.REFRESH_TOKEN}${Wi.CACHE_KEY_SEPARATOR}${ko}${Wi.CACHE_KEY_SEPARATOR}`;if(i.indexOf(s.toLowerCase())===-1&&i.indexOf(o.toLowerCase())===-1)return!1}else if(i.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,i){return!(i.clientId&&!this.matchClientId(e,i.clientId)||i.userAssertionHash&&!this.matchUserAssertionHash(e,i.userAssertionHash)||typeof i.homeAccountId=="string"&&!this.matchHomeAccountId(e,i.homeAccountId)||i.environment&&!this.matchEnvironment(e,i.environment)||i.realm&&!this.matchRealm(e,i.realm)||i.credentialType&&!this.matchCredentialType(e,i.credentialType)||i.familyId&&!this.matchFamilyId(e,i.familyId)||i.target&&!this.matchTarget(e,i.target)||(i.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==i.requestedClaimsHash||e.credentialType===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(i.tokenType&&!this.matchTokenType(e,i.tokenType)||i.tokenType===Qt.SSH&&i.keyId&&!this.matchKeyId(e,i.keyId)))}getAppMetadataFilteredBy(e){const i=this.getKeys(),s={};return i.forEach(o=>{if(!this.isAppMetadata(o))return;const c=this.getAppMetadata(o);c&&(e.environment&&!this.matchEnvironment(c,e.environment)||e.clientId&&!this.matchClientId(c,e.clientId)||(s[o]=c))}),s}getAuthorityMetadataByAlias(e){const i=this.getAuthorityMetadataKeys();let s=null;return i.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;const c=this.getAuthorityMetadata(o);c&&c.aliases.indexOf(e)!==-1&&(s=c)}),s}async removeAllAccounts(){const e=this.getAccountKeys(),i=[];e.forEach(s=>{i.push(this.removeAccount(s))}),await Promise.all(i)}async removeAccount(e){const i=this.getAccount(e,this.commonLogger);i&&(await this.removeAccountContext(i),this.removeItem(e))}async removeAccountContext(e){const i=this.getTokenKeys(),s=e.generateAccountId(),o=[];i.idToken.forEach(c=>{c.indexOf(s)===0&&this.removeIdToken(c)}),i.accessToken.forEach(c=>{c.indexOf(s)===0&&o.push(this.removeAccessToken(c))}),i.refreshToken.forEach(c=>{c.indexOf(s)===0&&this.removeRefreshToken(c)}),await Promise.all(o)}updateOutdatedCachedAccount(e,i,s){var o;if(i&&i.isSingleTenant()){(o=this.commonLogger)==null||o.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const c=this.getAccountKeys().filter(b=>b.startsWith(i.homeAccountId)),u=[];c.forEach(b=>{const L=this.getCachedAccountEntity(b);L&&u.push(L)});const x=u.find(b=>jh(b.realm,b.homeAccountId))||u[0];x.tenantProfiles=u.map(b=>({tenantId:b.realm,localAccountId:b.localAccountId,name:b.name,isHomeTenant:jh(b.realm,b.homeAccountId)}));const C=Ja.toObject(new ki,{...x}),S=C.generateAccountKey();return c.forEach(b=>{b!==S&&this.removeOutdatedAccount(e)}),this.setAccount(C),s==null||s.verbose("Updated an outdated account entity in the cache"),C}return i}async removeAccessToken(e){const i=this.getAccessTokenCredential(e);if(i){if(i.credentialType.toLowerCase()===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&i.tokenType===Qt.POP){const o=i.keyId;if(o)try{await this.cryptoImpl.removeTokenBindingKey(o)}catch{throw Me(Rm)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(i=>{this.isAppMetadata(i)&&this.removeItem(i)}),!0}readAccountFromCache(e){const i=ki.generateAccountCacheKey(e);return this.getAccount(i,this.commonLogger)}getIdToken(e,i,s,o,c){this.commonLogger.trace("CacheManager - getIdToken called");const u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:dt.ID_TOKEN,clientId:this.clientId,realm:s},x=this.getIdTokensByFilter(u,i),C=x.size;if(C<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(C>1){let S=x;if(!s){const b=new Map;x.forEach((B,U)=>{B.realm===e.tenantId&&b.set(U,B)});const L=b.size;if(L<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),x.values().next().value;if(L===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),b.values().next().value;S=b}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),S.forEach((b,L)=>{this.removeIdToken(L)}),o&&c&&o.addFields({multiMatchedID:x.size},c),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),x.values().next().value}getIdTokensByFilter(e,i){const s=i&&i.idToken||this.getTokenKeys().idToken,o=new Map;return s.forEach(c=>{if(!this.idTokenKeyMatchesFilter(c,{clientId:this.clientId,...e}))return;const u=this.getIdTokenCredential(c);u&&this.credentialMatchesFilter(u,e)&&o.set(c,u)}),o}idTokenKeyMatchesFilter(e,i){const s=e.toLowerCase();return!(i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,i,s,o,c,u){this.commonLogger.trace("CacheManager - getAccessToken called");const x=bi.createSearchScopes(i.scopes),C=i.authenticationScheme||Qt.BEARER,S=C&&C.toLowerCase()!==Qt.BEARER.toLowerCase()?dt.ACCESS_TOKEN_WITH_AUTH_SCHEME:dt.ACCESS_TOKEN,b={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:S,clientId:this.clientId,realm:o||e.tenantId,target:x,tokenType:C,keyId:i.sshKid,requestedClaimsHash:i.requestedClaimsHash},L=s&&s.accessToken||this.getTokenKeys().accessToken,B=[];L.forEach(q=>{if(this.accessTokenKeyMatchesFilter(q,b,!0)){const ne=this.getAccessTokenCredential(q);ne&&this.credentialMatchesFilter(ne,b)&&B.push(ne)}});const U=B.length;return U<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):U>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),B.forEach(q=>{this.removeAccessToken(Pa(q))}),c&&u&&c.addFields({multiMatchedAT:B.length},u),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),B[0])}accessTokenKeyMatchesFilter(e,i,s){const o=e.toLowerCase();if(i.clientId&&o.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&o.indexOf(i.homeAccountId.toLowerCase())===-1||i.realm&&o.indexOf(i.realm.toLowerCase())===-1||i.requestedClaimsHash&&o.indexOf(i.requestedClaimsHash.toLowerCase())===-1)return!1;if(i.target){const c=i.target.asArray();for(let u=0;u<c.length;u++){if(s&&!o.includes(c[u].toLowerCase()))return!1;if(!s&&o.includes(c[u].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const i=this.getTokenKeys(),s=[];return i.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const c=this.getAccessTokenCredential(o);c&&this.credentialMatchesFilter(c,e)&&s.push(c)}),s}getRefreshToken(e,i,s,o,c){this.commonLogger.trace("CacheManager - getRefreshToken called");const u=i?ko:void 0,x={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:dt.REFRESH_TOKEN,clientId:this.clientId,familyId:u},C=s&&s.refreshToken||this.getTokenKeys().refreshToken,S=[];C.forEach(L=>{if(this.refreshTokenKeyMatchesFilter(L,x)){const B=this.getRefreshTokenCredential(L);B&&this.credentialMatchesFilter(B,x)&&S.push(B)}});const b=S.length;return b<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(b>1&&o&&c&&o.addFields({multiMatchedRT:b},c),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),S[0])}refreshTokenKeyMatchesFilter(e,i){const s=e.toLowerCase();return!(i.familyId&&s.indexOf(i.familyId.toLowerCase())===-1||!i.familyId&&i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const i={environment:e,clientId:this.clientId},s=this.getAppMetadataFilteredBy(i),o=Object.keys(s).map(u=>s[u]),c=o.length;if(c<1)return null;if(c>1)throw Me(km);return o[0]}isAppMetadataFOCI(e){const i=this.readAppMetadataFromCache(e);return!!(i&&i.familyId===ko)}matchHomeAccountId(e,i){return typeof e.homeAccountId=="string"&&i===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,i){const s=e.oid||e.sub;return i===s}matchLocalAccountIdFromTenantProfile(e,i){return e.localAccountId===i}matchName(e,i){var s;return i.toLowerCase()===((s=e.name)==null?void 0:s.toLowerCase())}matchUsername(e,i){return!!(e&&typeof e=="string"&&(i==null?void 0:i.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,i){return!!(e.userAssertionHash&&i===e.userAssertionHash)}matchEnvironment(e,i){if(this.staticAuthorityOptions){const o=IT(this.staticAuthorityOptions,this.commonLogger);if(o.includes(i)&&o.includes(e.environment))return!0}const s=this.getAuthorityMetadataByAlias(i);return!!(s&&s.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,i){return e.credentialType&&i.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,i){return!!(e.clientId&&i===e.clientId)}matchFamilyId(e,i){return!!(e.familyId&&i===e.familyId)}matchRealm(e,i){var s;return((s=e.realm)==null?void 0:s.toLowerCase())===i.toLowerCase()}matchNativeAccountId(e,i){return!!(e.nativeAccountId&&i===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,i){return e.login_hint===i||e.preferred_username===i||e.upn===i}matchSid(e,i){return e.sid===i}matchAuthorityType(e,i){return!!(e.authorityType&&i.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,i){return e.credentialType!==dt.ACCESS_TOKEN&&e.credentialType!==dt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:bi.fromString(e.target).containsScopeSet(i)}matchTokenType(e,i){return!!(e.tokenType&&e.tokenType===i)}matchKeyId(e,i){return!!(e.keyId&&e.keyId===i)}isAppMetadata(e){return e.indexOf(Jc)!==-1}isAuthorityMetadata(e){return e.indexOf(Yr.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Yr.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,i){for(const s in i)e[s]=i[s];return e}}class ET extends Ja{setAccount(){throw Me(It)}getAccount(){throw Me(It)}getCachedAccountEntity(){throw Me(It)}setIdTokenCredential(){throw Me(It)}getIdTokenCredential(){throw Me(It)}setAccessTokenCredential(){throw Me(It)}getAccessTokenCredential(){throw Me(It)}setRefreshTokenCredential(){throw Me(It)}getRefreshTokenCredential(){throw Me(It)}setAppMetadata(){throw Me(It)}getAppMetadata(){throw Me(It)}setServerTelemetry(){throw Me(It)}getServerTelemetry(){throw Me(It)}setAuthorityMetadata(){throw Me(It)}getAuthorityMetadata(){throw Me(It)}getAuthorityMetadataKeys(){throw Me(It)}setThrottlingCache(){throw Me(It)}getThrottlingCache(){throw Me(It)}removeItem(){throw Me(It)}getKeys(){throw Me(It)}getAccountKeys(){throw Me(It)}getTokenKeys(){throw Me(It)}async clear(){throw Me(It)}updateCredentialCacheKey(){throw Me(It)}removeOutdatedAccount(){throw Me(It)}}/*! @azure/msal-common v14.9.0 2024-04-11 */const ix={tokenRenewalOffsetSeconds:ZC,preventCorsPreflight:!1},RT={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ri.Info,correlationId:ue.EMPTY_STRING},LT={claimsBasedCachingEnabled:!1},OT={async sendGetRequestAsync(){throw Me(It)},async sendPostRequestAsync(){throw Me(It)}},BT={sku:ue.SKU,version:sd,cpu:ue.EMPTY_STRING,os:ue.EMPTY_STRING},FT={clientSecret:ue.EMPTY_STRING,clientAssertion:void 0},DT={azureCloudInstance:ad.None,tenant:`${ue.DEFAULT_COMMON_TENANT}`},NT={application:{appName:"",appVersion:""}};function VT({authOptions:t,systemOptions:e,loggerOptions:i,cacheOptions:s,storageInterface:o,networkInterface:c,cryptoInterface:u,clientCredentials:x,libraryInfo:C,telemetry:S,serverTelemetryManager:b,persistencePlugin:L,serializableCache:B}){const U={...RT,...i};return{authOptions:HT(t),systemOptions:{...ix,...e},loggerOptions:U,cacheOptions:{...LT,...s},storageInterface:o||new ET(t.clientId,jr,new ra(U)),networkInterface:c||OT,cryptoInterface:u||jr,clientCredentials:x||FT,libraryInfo:{...BT,...C},telemetry:{...NT,...S},serverTelemetryManager:b||null,persistencePlugin:L||null,serializableCache:B||null}}function HT(t){return{clientCapabilities:[],azureCloudOptions:DT,skipAuthorityMetadataCache:!1,...t}}function Kh(t){return t.authOptions.authority.options.protocolMode===rs.OIDC}/*! @azure/msal-common v14.9.0 2024-04-11 */class Ns extends ui{constructor(e,i,s){super(e,i,s),this.name="ServerError",Object.setPrototypeOf(this,Ns.prototype)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Vn{static generateThrottlingStorageKey(e){return`${Ao.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,i){var c;const s=Vn.generateThrottlingStorageKey(i),o=e.getThrottlingCache(s);if(o){if(o.throttleTime<Date.now()){e.removeItem(s);return}throw new Ns(((c=o.errorCodes)==null?void 0:c.join(" "))||ue.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,i,s){if(Vn.checkResponseStatus(s)||Vn.checkResponseForRetryAfter(s)){const o={throttleTime:Vn.calculateThrottleTime(parseInt(s.headers[Un.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};e.setThrottlingCache(Vn.generateThrottlingStorageKey(i),o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Un.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const i=e<=0?0:e,s=Date.now()/1e3;return Math.floor(Math.min(s+(i||Ao.DEFAULT_THROTTLE_TIME_SECONDS),s+Ao.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,i,s,o){const c={clientId:i,authority:s.authority,scopes:s.scopes,homeAccountIdentifier:o,claims:s.claims,authenticationScheme:s.authenticationScheme,resourceRequestMethod:s.resourceRequestMethod,resourceRequestUri:s.resourceRequestUri,shrClaims:s.shrClaims,sshKid:s.sshKid},u=this.generateThrottlingStorageKey(c);e.removeItem(u)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class WT{constructor(e,i){this.networkClient=e,this.cacheManager=i}async sendPostRequest(e,i,s){Vn.preProcess(this.cacheManager,e);let o;try{o=await this.networkClient.sendPostRequestAsync(i,s)}catch(c){throw c instanceof ui?c:Me(vm)}return Vn.postProcess(this.cacheManager,e,o),o}}/*! @azure/msal-common v14.9.0 2024-04-11 */const ln={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.9.0 2024-04-11 */const Qa="client_id",UT="redirect_uri",bp="response_type",zT="response_mode",YT="grant_type",XT="claims",jT="scope",KT="refresh_token",$T="state",GT="nonce",JT="prompt",QT="code",qT="code_challenge",ZT="code_challenge_method",ew="code_verifier",tw="client-request-id",iw="x-client-SKU",nw="x-client-VER",sw="x-client-OS",aw="x-client-CPU",ow="x-client-current-telemetry",rw="x-client-last-telemetry",lw="x-ms-lib-capability",hw="x-app-name",cw="x-app-ver",dw="post_logout_redirect_uri",uw="id_token_hint",pw="device_code",gw="client_secret",fw="client_assertion",mw="client_assertion_type",_p="token_type",Cp="req_cnf",xw="assertion",yw="requested_token_use",Tp="return_spa_code",vw="nativebroker",bw="logout_hint",_w="sid",Cw="login_hint",Tw="domain_hint";/*! @azure/msal-common v14.9.0 2024-04-11 */class Gs{static validateRedirectUri(e){if(!e)throw ti(Dm)}static validatePrompt(e){const i=[];for(const s in Ei)i.push(Ei[s]);if(i.indexOf(e)<0)throw ti(Wm)}static validateClaims(e){try{JSON.parse(e)}catch{throw ti(rd)}}static validateCodeChallengeParams(e,i){if(!e||!i)throw ti(ld);this.validateCodeChallengeMethod(i)}static validateCodeChallengeMethod(e){if([lp.PLAIN,lp.S256].indexOf(e)<0)throw ti(Ym)}static sanitizeEQParams(e,i){return e?(i.forEach((s,o)=>{e[o]&&delete e[o]}),Object.fromEntries(Object.entries(e).filter(s=>s[1]!==""))):{}}}/*! @azure/msal-common v14.9.0 2024-04-11 */class So{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(bp,encodeURIComponent(ue.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(bp,encodeURIComponent(`${ue.TOKEN_RESPONSE_TYPE} ${ue.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(zT,encodeURIComponent(e||JC.QUERY))}addNativeBroker(){this.parameters.set(vw,encodeURIComponent("1"))}addScopes(e,i=!0,s=io){i&&!s.includes("openid")&&!e.includes("openid")&&s.push("openid");const o=i?[...e||[],...s]:e||[],c=new bi(o);this.parameters.set(jT,encodeURIComponent(c.printScopes()))}addClientId(e){this.parameters.set(Qa,encodeURIComponent(e))}addRedirectUri(e){Gs.validateRedirectUri(e),this.parameters.set(UT,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Gs.validateRedirectUri(e),this.parameters.set(dw,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(uw,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(Tw,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(Cw,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Un.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Un.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(_w,encodeURIComponent(e))}addClaims(e,i){const s=this.addClientCapabilitiesToClaims(e,i);Gs.validateClaims(s),this.parameters.set(XT,encodeURIComponent(s))}addCorrelationId(e){this.parameters.set(tw,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(iw,e.sku),this.parameters.set(nw,e.version),e.os&&this.parameters.set(sw,e.os),e.cpu&&this.parameters.set(aw,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(hw,e.appName),e!=null&&e.appVersion&&this.parameters.set(cw,e.appVersion)}addPrompt(e){Gs.validatePrompt(e),this.parameters.set(`${JT}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set($T,encodeURIComponent(e))}addNonce(e){this.parameters.set(GT,encodeURIComponent(e))}addCodeChallengeParams(e,i){if(Gs.validateCodeChallengeParams(e,i),e&&i)this.parameters.set(qT,encodeURIComponent(e)),this.parameters.set(ZT,encodeURIComponent(i));else throw ti(ld)}addAuthorizationCode(e){this.parameters.set(QT,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(pw,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(KT,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(ew,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(gw,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(fw,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(mw,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(xw,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(yw,encodeURIComponent(e))}addGrantType(e){this.parameters.set(YT,encodeURIComponent(e))}addClientInfo(){this.parameters.set(QC,"1")}addExtraQueryParameters(e){const i=Gs.sanitizeEQParams(e,this.parameters);Object.keys(i).forEach(s=>{this.parameters.set(s,e[s])})}addClientCapabilitiesToClaims(e,i){let s;if(!e)s={};else try{s=JSON.parse(e)}catch{throw ti(rd)}return i&&i.length>0&&(s.hasOwnProperty(or.ACCESS_TOKEN)||(s[or.ACCESS_TOKEN]={}),s[or.ACCESS_TOKEN][or.XMS_CC]={values:i}),JSON.stringify(s)}addUsername(e){this.parameters.set(cp.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(cp.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(_p,Qt.POP),this.parameters.set(Cp,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(_p,Qt.SSH),this.parameters.set(Cp,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(ow,e.generateCurrentRequestHeaderValue()),this.parameters.set(rw,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(lw,Ao.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(bw,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach((i,s)=>{e.push(`${s}=${i}`)}),e.join("&")}}/*! @azure/msal-common v14.9.0 2024-04-11 */function ww(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.9.0 2024-04-11 */function kw(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v14.9.0 2024-04-11 */function Aw(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v14.9.0 2024-04-11 */const he={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Sw={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v14.9.0 2024-04-11 */const pa=(t,e,i,s,o)=>(...c)=>{i.trace(`Executing function ${e}`);const u=s==null?void 0:s.startMeasurement(e,o);if(o){const x=e+"CallCount";s==null||s.incrementFields({[x]:1},o)}try{const x=t(...c);return u==null||u.end({success:!0}),i.trace(`Returning result from ${e}`),x}catch(x){i.trace(`Error occurred in ${e}`);try{i.trace(JSON.stringify(x))}catch{i.trace("Unable to print error message.")}throw u==null||u.end({success:!1},x),x}},He=(t,e,i,s,o)=>(...c)=>{i.trace(`Executing function ${e}`);const u=s==null?void 0:s.startMeasurement(e,o);if(o){const x=e+"CallCount";s==null||s.incrementFields({[x]:1},o)}return s==null||s.setPreQueueTime(e,o),t(...c).then(x=>(i.trace(`Returning result from ${e}`),u==null||u.end({success:!0}),x)).catch(x=>{i.trace(`Error occurred in ${e}`);try{i.trace(JSON.stringify(x))}catch{i.trace("Unable to print error message.")}throw u==null||u.end({success:!1},x),x})};/*! @azure/msal-common v14.9.0 2024-04-11 */class wl{constructor(e,i,s,o){this.networkInterface=e,this.logger=i,this.performanceClient=s,this.correlationId=o}async detectRegion(e,i){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.RegionDiscoveryDetectRegion,this.correlationId);let s=e;if(s)i.region_source=ba.ENVIRONMENT_VARIABLE;else{const c=wl.IMDS_OPTIONS;try{const u=await He(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(ue.IMDS_VERSION,c);if(u.status===lr.httpSuccess&&(s=u.body,i.region_source=ba.IMDS),u.status===lr.httpBadRequest){const x=await He(this.getCurrentVersion.bind(this),he.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(c);if(!x)return i.region_source=ba.FAILED_AUTO_DETECTION,null;const C=await He(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(x,c);C.status===lr.httpSuccess&&(s=C.body,i.region_source=ba.IMDS)}}catch{return i.region_source=ba.FAILED_AUTO_DETECTION,null}}return s||(i.region_source=ba.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(e,i){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(he.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ue.IMDS_ENDPOINT}?api-version=${e}&format=text`,i,ue.IMDS_TIMEOUT)}async getCurrentVersion(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(he.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(`${ue.IMDS_ENDPOINT}?format=json`,e);return s.status===lr.httpBadRequest&&s.body&&s.body["newest-versions"]&&s.body["newest-versions"].length>0?s.body["newest-versions"][0]:null}catch{return null}}}wl.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.9.0 2024-04-11 */class Hi{constructor(e,i,s,o,c,u,x,C){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=i,this.cacheManager=s,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=c,this.performanceClient=x,this.correlationId=u,this.managedIdentity=C||!1,this.regionDiscovery=new wl(i,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ue.CIAM_AUTH_URL))return Tn.Ciam;const i=e.PathSegments;if(i.length)switch(i[0].toLowerCase()){case ue.ADFS:return Tn.Adfs;case ue.DSTS:return Tn.Dsts}return Tn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Vt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Me(ts)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Me(ts)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Me(ts)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Me(Lm);return this.replacePath(this.metadata.end_session_endpoint)}else throw Me(ts)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Me(ts)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Me(ts)}canReplaceTenant(e){return e.PathSegments.length===1&&!Hi.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Tn.Default&&this.protocolMode===rs.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let i=e;const o=new Vt(this.metadata.canonical_authority).getUrlComponents(),c=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((x,C)=>{let S=c[C];if(C===0&&this.canReplaceTenant(o)){const b=new Vt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];S!==b&&(this.logger.verbose(`Replacing tenant domain name ${S} with id ${b}`),S=b)}x!==S&&(i=i.replace(`/${S}/`,`/${x}/`))}),this.replaceTenant(i)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Tn.Adfs||this.protocolMode!==rs.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var o,c;(o=this.performanceClient)==null||o.addQueueMeasurement(he.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),i=await He(this.updateCloudDiscoveryMetadata.bind(this),he.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const s=await He(this.updateEndpointMetadata.bind(this),he.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,i,{source:s}),(c=this.performanceClient)==null||c.addFields({cloudDiscoverySource:i,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:mp(),jwks_uri:""}),e}updateCachedMetadata(e,i,s){i!==sn.CACHE&&(s==null?void 0:s.source)!==sn.CACHE&&(e.expiresAt=mp(),e.canonical_authority=this.canonicalAuthority);const o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){var o,c,u;(o=this.performanceClient)==null||o.addQueueMeasurement(he.AuthorityUpdateEndpointMetadata,this.correlationId);const i=this.updateEndpointMetadataFromLocalSources(e);if(i){if(i.source===sn.HARDCODED_VALUES&&(c=this.authorityOptions.azureRegionConfiguration)!=null&&c.azureRegion&&i.metadata){const x=await He(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(i.metadata);hr(e,x,!1),e.canonical_authority=this.canonicalAuthority}return i.source}let s=await He(this.getEndpointMetadataFromNetwork.bind(this),he.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return(u=this.authorityOptions.azureRegionConfiguration)!=null&&u.azureRegion&&(s=await He(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(s)),hr(e,s,!0),sn.NETWORK;throw Me(bm,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const i=this.getEndpointMetadataFromConfig();if(i)return this.logger.verbose("Found endpoint metadata in authority configuration"),hr(e,i,!1),{source:sn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const o=this.getEndpointMetadataFromHardcodedValues();if(o)return hr(e,o,!1),{source:sn.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const s=xp(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!s?(this.logger.verbose("Found endpoint metadata in the cache."),{source:sn.CACHE}):(s&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Vt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ti(Xm)}return null}async getEndpointMetadataFromNetwork(){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(he.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},i=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${i}`);try{const o=await this.networkInterface.sendGetRequestAsync(i,e);return ww(o.body)?o.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(o){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${o}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in yp?yp[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var s,o,c;(s=this.performanceClient)==null||s.addQueueMeasurement(he.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const i=(o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.azureRegion;if(i){if(i!==ue.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=$l.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=i,Hi.replaceWithRegionalInformation(e,i);const u=await He(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),he.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((c=this.authorityOptions.azureRegionConfiguration)==null?void 0:c.environmentRegion,this.regionDiscoveryMetadata);if(u)return this.regionDiscoveryMetadata.region_outcome=$l.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=u,Hi.replaceWithRegionalInformation(e,u);this.regionDiscoveryMetadata.region_outcome=$l.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const i=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(i)return i;const s=await He(this.getCloudDiscoveryMetadataFromNetwork.bind(this),he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return Gl(e,s,!0),sn.NETWORK;throw ti(jm)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ue.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ue.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ue.NOT_APPLICABLE}`);const i=this.getCloudDiscoveryMetadataFromConfig();if(i)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Gl(e,i,!1),sn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const o=PT(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Gl(e,o,!1),sn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const s=xp(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!s?(this.logger.verbose("Found cloud discovery metadata in the cache."),sn.CACHE):(s&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Tn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Hi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),i=Gr(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),i)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),i;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ti(hd)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Hi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${ue.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,i={};let s=null;try{const c=await this.networkInterface.sendGetRequestAsync(e,i);let u,x;if(kw(c.body))u=c.body,x=u.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${u.tenant_discovery_endpoint}`);else if(Aw(c.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${c.status}`),u=c.body,u.error===ue.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${u.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${u.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),x=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),s=Gr(x,this.hostnameAndPort)}catch(c){if(c instanceof ui)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${c.errorCode}
Error Description: ${c.errorMessage}`);else{const u=c;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${u.name}
Error Description: ${u.message}`)}return null}return s||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),s=Hi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(i=>i&&Vt.getDomainFromUrl(i).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,i){let s;if(i&&i.azureCloudInstance!==ad.None){const o=i.tenant?i.tenant:ue.DEFAULT_COMMON_TENANT;s=`${i.azureCloudInstance}/${o}/`}return s||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ue.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Me(ts)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ex.has(e)}static isPublicCloudAuthority(e){return ue.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,i,s){const o=new Vt(e);o.validateAsUri();const c=o.getUrlComponents();let u=`${i}.${c.HostNameAndPort}`;this.isPublicCloudAuthority(c.HostNameAndPort)&&(u=`${i}.${ue.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const x=Vt.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:u}).urlString;return s?`${x}?${s}`:x}static replaceWithRegionalInformation(e,i){const s={...e};return s.authorization_endpoint=Hi.buildRegionalAuthorityString(s.authorization_endpoint,i),s.token_endpoint=Hi.buildRegionalAuthorityString(s.token_endpoint,i),s.end_session_endpoint&&(s.end_session_endpoint=Hi.buildRegionalAuthorityString(s.end_session_endpoint,i)),s}static transformCIAMAuthority(e){let i=e;const o=new Vt(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(ue.CIAM_AUTH_URL)){const c=o.HostNameAndPort.split(".")[0];i=`${i}${c}${ue.AAD_TENANT_DOMAIN_SUFFIX}`}return i}}Hi.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Bs.COMMON,Bs.CONSUMERS,Bs.ORGANIZATIONS]);function Mw(t){var o;const s=(o=new Vt(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:o.toLowerCase();switch(s){case Bs.COMMON:case Bs.ORGANIZATIONS:case Bs.CONSUMERS:return;default:return s}}function nx(t){return t.endsWith(ue.FORWARD_SLASH)?t:`${t}${ue.FORWARD_SLASH}`}function Iw(t){const e=t.cloudDiscoveryMetadata;let i;if(e)try{i=JSON.parse(e)}catch{throw ti(hd)}return{canonicalAuthority:t.authority?nx(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:i}}/*! @azure/msal-common v14.9.0 2024-04-11 */async function sx(t,e,i,s,o,c,u){u==null||u.addQueueMeasurement(he.AuthorityFactoryCreateDiscoveredInstance,c);const x=Hi.transformCIAMAuthority(nx(t)),C=new Hi(x,e,i,s,o,c,u);try{return await He(C.resolveEndpointsAsync.bind(C),he.AuthorityResolveEndpointsAsync,o,u,c)(),C}catch{throw Me(ts)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class fd{constructor(e,i){this.config=VT(e),this.logger=new ra(this.config.loggerOptions,Om,sd),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new WT(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}createTokenRequestHeaders(e){const i={};if(i[Un.CONTENT_TYPE]=ue.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ln.HOME_ACCOUNT_ID:try{const s=Ea(e.credential);i[Un.CCS_HEADER]=`Oid:${s.uid}@${s.utid}`}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case ln.UPN:i[Un.CCS_HEADER]=`UPN: ${e.credential}`;break}return i}async executePostToTokenEndpoint(e,i,s,o,c,u){var C,S,b,L;u&&((C=this.performanceClient)==null||C.addQueueMeasurement(u,c));const x=await this.networkManager.sendPostRequest(o,e,{body:i,headers:s});return(L=this.performanceClient)==null||L.addFields({refreshTokenSize:((S=x.body.refresh_token)==null?void 0:S.length)||0,httpVerToken:((b=x.headers)==null?void 0:b[Un.X_MS_HTTP_VERSION])||""},c),this.config.serverTelemetryManager&&x.status<500&&x.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),x}async updateAuthority(e,i){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(he.UpdateTokenEndpointAuthority,i);const s=`https://${e}/${this.authority.tenant}/`,o=await sx(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,i,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const i=new So;return e.tokenQueryParameters&&i.addExtraQueryParameters(e.tokenQueryParameters),i.createQueryString()}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Jr="no_tokens_found",ax="native_account_unavailable",md="refresh_token_expired",Pw="interaction_required",Ew="consent_required",Rw="login_required",kl="bad_token";/*! @azure/msal-common v14.9.0 2024-04-11 */const wp=[Pw,Ew,Rw,kl],Lw=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ow={[Jr]:"No refresh token found in the cache. Please sign-in.",[ax]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[md]:"Refresh token has expired.",[kl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class En extends ui{constructor(e,i,s,o,c,u,x){super(e,i,s),Object.setPrototypeOf(this,En.prototype),this.timestamp=o||ue.EMPTY_STRING,this.traceId=c||ue.EMPTY_STRING,this.correlationId=u||ue.EMPTY_STRING,this.claims=x||ue.EMPTY_STRING,this.name="InteractionRequiredAuthError"}}function kp(t,e,i){const s=!!t&&wp.indexOf(t)>-1,o=!!i&&Lw.indexOf(i)>-1,c=!!e&&wp.some(u=>e.indexOf(u)>-1);return s||c||o}function $h(t){return new En(t,Ow[t])}/*! @azure/msal-common v14.9.0 2024-04-11 */class Na{constructor(e,i,s,o,c){this.account=e||null,this.idToken=i||null,this.accessToken=s||null,this.refreshToken=o||null,this.appMetadata=c||null}}/*! @azure/msal-common v14.9.0 2024-04-11 */class In{static setRequestState(e,i,s){const o=In.generateLibraryState(e,s);return i?`${o}${ue.RESOURCE_DELIM}${i}`:o}static generateLibraryState(e,i){if(!e)throw Me(zh);const s={id:e.createNewGuid()};i&&(s.meta=i);const o=JSON.stringify(s);return e.base64Encode(o)}static parseRequestState(e,i){if(!e)throw Me(zh);if(!i)throw Me(Ga);try{const s=i.split(ue.RESOURCE_DELIM),o=s[0],c=s.length>1?s.slice(1).join(ue.RESOURCE_DELIM):ue.EMPTY_STRING,u=e.base64Decode(o),x=JSON.parse(u);return{userRequestState:c||ue.EMPTY_STRING,libraryState:x}}catch{throw Me(Ga)}}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Bw={SW:"sw",UHW:"uhw"};class qa{constructor(e,i){this.cryptoUtils=e,this.performanceClient=i}async generateCnf(e,i){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(he.PopTokenGenerateCnf,e.correlationId);const s=await He(this.generateKid.bind(this),he.PopTokenGenerateCnf,i,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64Encode(JSON.stringify(s));return{kid:s.kid,reqCnfString:o,reqCnfHash:await this.cryptoUtils.hashString(o)}}async generateKid(e){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(he.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Bw.SW}}async signPopToken(e,i,s){return this.signPayload(e,i,s)}async signPayload(e,i,s,o){const{resourceRequestMethod:c,resourceRequestUri:u,shrClaims:x,shrNonce:C,shrOptions:S}=s,b=u?new Vt(u):void 0,L=b==null?void 0:b.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Jn(),m:c==null?void 0:c.toUpperCase(),u:L==null?void 0:L.HostNameAndPort,nonce:C||this.cryptoUtils.createNewGuid(),p:L==null?void 0:L.AbsolutePath,q:L!=null&&L.QueryString?[[],L.QueryString]:void 0,client_claims:x||void 0,...o},i,S,s.correlationId)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Fw{constructor(e,i){this.cache=e,this.hasChanged=i}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.9.0 2024-04-11 */class la{constructor(e,i,s,o,c,u,x){this.clientId=e,this.cacheStorage=i,this.cryptoObj=s,this.logger=o,this.serializableCache=c,this.persistencePlugin=u,this.performanceClient=x}validateServerAuthorizationCodeResponse(e,i){if(!e.state||!i)throw e.state?Me(Xr,"Cached State"):Me(Xr,"Server State");let s,o;try{s=decodeURIComponent(e.state)}catch{throw Me(Ga,e.state)}try{o=decodeURIComponent(i)}catch{throw Me(Ga,e.state)}if(s!==o)throw Me(Cm);if(e.error||e.error_description||e.suberror)throw kp(e.error,e.error_description,e.suberror)?new En(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||""):new Ns(e.error||"",e.error_description,e.suberror)}validateTokenResponse(e,i){if(e.error||e.error_description||e.suberror){const s=`${e.error_codes} - [${e.timestamp}]: ${e.error_description} - Correlation ID: ${e.correlation_id} - Trace ID: ${e.trace_id}`,o=new Ns(e.error,s,e.suberror);if(i&&e.status&&e.status>=ar.SERVER_ERROR_RANGE_START&&e.status<=ar.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(i&&e.status&&e.status>=ar.CLIENT_ERROR_RANGE_START&&e.status<=ar.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw kp(e.error,e.error_description,e.suberror)?new En(e.error,e.error_description,e.suberror,e.timestamp||ue.EMPTY_STRING,e.trace_id||ue.EMPTY_STRING,e.correlation_id||ue.EMPTY_STRING,e.claims||ue.EMPTY_STRING):o}}async handleServerTokenResponse(e,i,s,o,c,u,x,C,S){var q;(q=this.performanceClient)==null||q.addQueueMeasurement(he.HandleServerTokenResponse,e.correlation_id);let b;if(e.id_token){if(b=ua(e.id_token||ue.EMPTY_STRING,this.cryptoObj.base64Decode),c&&c.nonce&&b.nonce!==c.nonce)throw Me(Tm);if(o.maxAge||o.maxAge===0){const ne=b.auth_time;if(!ne)throw Me(ed);Bm(ne,o.maxAge)}}this.homeAccountIdentifier=ki.generateHomeAccountId(e.client_info||ue.EMPTY_STRING,i.authorityType,this.logger,this.cryptoObj,b);let L;c&&c.state&&(L=In.parseRequestState(this.cryptoObj,c.state)),e.key_id=e.key_id||o.sshKid||void 0;const B=this.generateCacheRecord(e,i,s,o,b,u,c);let U;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),U=new Fw(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(U)),x&&!C&&B.account){const ne=B.account.generateAccountKey();if(!this.cacheStorage.getAccount(ne,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await la.generateAuthenticationResult(this.cryptoObj,i,B,!1,o,b,L,void 0,S)}await this.cacheStorage.saveCacheRecord(B,o.storeInCache,o.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&U&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(U))}return la.generateAuthenticationResult(this.cryptoObj,i,B,!1,o,b,L,e,S)}generateCacheRecord(e,i,s,o,c,u,x){const C=i.getPreferredCache();if(!C)throw Me(id);const S=Qm(c);let b,L;e.id_token&&c&&(b=_l(this.homeAccountIdentifier,C,e.id_token,this.clientId,S||""),L=xd(this.cacheStorage,i,this.homeAccountIdentifier,c,this.cryptoObj.base64Decode,e.client_info,C,S,x,void 0,this.logger));let B=null;if(e.access_token){const ne=e.scope?bi.fromString(e.scope):new bi(o.scopes||[]),ce=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,ke=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,pe=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,Pe=s+ce,Ee=Pe+ke,De=pe&&pe>0?s+pe:void 0;B=Cl(this.homeAccountIdentifier,C,e.access_token,this.clientId,S||i.tenant||"",ne.printScopes(),Pe,Ee,this.cryptoObj.base64Decode,De,e.token_type,u,e.key_id,o.claims,o.requestedClaimsHash)}let U=null;if(e.refresh_token){let ne;if(e.refresh_token_expires_in){const ce=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;ne=s+ce}U=Fm(this.homeAccountIdentifier,C,e.refresh_token,this.clientId,e.foci,u,ne)}let q=null;return e.foci&&(q={clientId:this.clientId,environment:C,familyId:e.foci}),new Na(L,b,B,U,q)}static async generateAuthenticationResult(e,i,s,o,c,u,x,C,S){var Pe,Ee,De,me,We;let b=ue.EMPTY_STRING,L=[],B=null,U,q,ne=ue.EMPTY_STRING;if(s.accessToken){if(s.accessToken.tokenType===Qt.POP){const Ae=new qa(e),{secret:tt,keyId:st}=s.accessToken;if(!st)throw Me(nd);b=await Ae.signPopToken(tt,st,c)}else b=s.accessToken.secret;L=bi.fromString(s.accessToken.target).asArray(),B=new Date(Number(s.accessToken.expiresOn)*1e3),U=new Date(Number(s.accessToken.extendedExpiresOn)*1e3),s.accessToken.refreshOn&&(q=new Date(Number(s.accessToken.refreshOn)*1e3))}s.appMetadata&&(ne=s.appMetadata.familyId===ko?ko:"");const ce=(u==null?void 0:u.oid)||(u==null?void 0:u.sub)||"",ke=(u==null?void 0:u.tid)||"";C!=null&&C.spa_accountid&&s.account&&(s.account.nativeAccountId=C==null?void 0:C.spa_accountid);const pe=s.account?ud(s.account.getAccountInfo(),void 0,u,(Pe=s.idToken)==null?void 0:Pe.secret):null;return{authority:i.canonicalAuthority,uniqueId:ce,tenantId:ke,scopes:L,account:pe,idToken:((Ee=s==null?void 0:s.idToken)==null?void 0:Ee.secret)||"",idTokenClaims:u||{},accessToken:b,fromCache:o,expiresOn:B,extExpiresOn:U,refreshOn:q,correlationId:c.correlationId,requestId:S||ue.EMPTY_STRING,familyId:ne,tokenType:((De=s.accessToken)==null?void 0:De.tokenType)||ue.EMPTY_STRING,state:x?x.userRequestState:ue.EMPTY_STRING,cloudGraphHostName:((me=s.account)==null?void 0:me.cloudGraphHostName)||ue.EMPTY_STRING,msGraphHost:((We=s.account)==null?void 0:We.msGraphHost)||ue.EMPTY_STRING,code:C==null?void 0:C.spa_code,fromNativeBroker:!1}}}function xd(t,e,i,s,o,c,u,x,C,S,b){b==null||b.verbose("setCachedAccount called");const B=t.getAccountKeys().find(ce=>ce.startsWith(i));let U=null;B&&(U=t.getAccount(B,b));const q=U||ki.createAccount({homeAccountId:i,idTokenClaims:s,clientInfo:c,environment:u,cloudGraphHostName:C==null?void 0:C.cloud_graph_host_name,msGraphHost:C==null?void 0:C.msgraph_host,nativeAccountId:S},e,o),ne=q.tenantProfiles||[];if(x&&!ne.find(ce=>ce.tenantId===x)){const ce=dd(i,s);ne.push(ce)}return q.tenantProfiles=ne,q}/*! @azure/msal-common v14.9.0 2024-04-11 */class ox extends fd{constructor(e,i){var s;super(e,i),this.includeRedirectUri=!0,this.oidcDefaultScopes=(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes}async getAuthCodeUrl(e){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(he.GetAuthCodeUrl,e.correlationId);const i=await He(this.createAuthCodeUrlQueryString.bind(this),he.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Vt.appendQueryString(this.authority.authorizationEndpoint,i)}async acquireToken(e,i){var x,C;if((x=this.performanceClient)==null||x.addQueueMeasurement(he.AuthClientAcquireToken,e.correlationId),!e.code)throw Me(Am);const s=Jn(),o=await He(this.executeTokenRequest.bind(this),he.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),c=(C=o.headers)==null?void 0:C[Un.X_MS_REQUEST_ID],u=new la(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return u.validateTokenResponse(o.body),He(u.handleServerTokenResponse.bind(u),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,s,e,i,void 0,void 0,void 0,c)}handleFragmentResponse(e,i){if(new la(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,i),!e.code)throw Me(Em);return e}getLogoutUri(e){if(!e)throw ti(zm);const i=this.createLogoutUrlQueryString(e);return Vt.appendQueryString(this.authority.endSessionEndpoint,i)}async executeTokenRequest(e,i){var S,b;(S=this.performanceClient)==null||S.addQueueMeasurement(he.AuthClientExecuteTokenRequest,i.correlationId);const s=this.createTokenQueryParameters(i),o=Vt.appendQueryString(e.tokenEndpoint,s),c=await He(this.createTokenRequestBody.bind(this),he.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,i.correlationId)(i);let u;if(i.clientInfo)try{const L=Kr(i.clientInfo,this.cryptoUtils.base64Decode);u={credential:`${L.uid}${Wi.CLIENT_INFO_SEPARATOR}${L.utid}`,type:ln.HOME_ACCOUNT_ID}}catch(L){this.logger.verbose("Could not parse client info for CCS Header: "+L)}const x=this.createTokenRequestHeaders(u||i.ccsCredential),C={clientId:((b=i.tokenBodyParameters)==null?void 0:b.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:i.scopes,claims:i.claims,authenticationScheme:i.authenticationScheme,resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,sshKid:i.sshKid};return He(this.executePostToTokenEndpoint.bind(this),he.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,i.correlationId)(o,c,x,C,i.correlationId,he.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var c,u;(c=this.performanceClient)==null||c.addQueueMeasurement(he.AuthClientCreateTokenRequestBody,e.correlationId);const i=new So;if(i.addClientId(((u=e.tokenBodyParameters)==null?void 0:u[Qa])||this.config.authOptions.clientId),this.includeRedirectUri?i.addRedirectUri(e.redirectUri):Gs.validateRedirectUri(e.redirectUri),i.addScopes(e.scopes,!0,this.oidcDefaultScopes),i.addAuthorizationCode(e.code),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&!Kh(this.config)&&i.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&i.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const x=this.config.clientCredentials.clientAssertion;i.addClientAssertion(x.assertion),i.addClientAssertionType(x.assertionType)}if(i.addGrantType(fm.AUTHORIZATION_CODE_GRANT),i.addClientInfo(),e.authenticationScheme===Qt.POP){const x=new qa(this.cryptoUtils,this.performanceClient),C=await He(x.generateCnf.bind(x),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);i.addPopToken(C.reqCnfString)}else if(e.authenticationScheme===Qt.SSH)if(e.sshJwk)i.addSshJwk(e.sshJwk);else throw ti(Tl);const s=e.correlationId||this.config.cryptoInterface.createNewGuid();i.addCorrelationId(s),(!Mn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities);let o;if(e.clientInfo)try{const x=Kr(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${x.uid}${Wi.CLIENT_INFO_SEPARATOR}${x.utid}`,type:ln.HOME_ACCOUNT_ID}}catch(x){this.logger.verbose("Could not parse client info for CCS Header: "+x)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case ln.HOME_ACCOUNT_ID:try{const x=Ea(o.credential);i.addCcsOid(x)}catch(x){this.logger.verbose("Could not parse home account ID for CCS Header: "+x)}break;case ln.UPN:i.addCcsUpn(o.credential);break}return e.tokenBodyParameters&&i.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Tp])&&i.addExtraQueryParameters({[Tp]:"1"}),i.createQueryString()}async createAuthCodeUrlQueryString(e){var c,u;(c=this.performanceClient)==null||c.addQueueMeasurement(he.AuthClientCreateQueryString,e.correlationId);const i=new So;i.addClientId(((u=e.extraQueryParameters)==null?void 0:u[Qa])||this.config.authOptions.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];i.addScopes(s,!0,this.oidcDefaultScopes),i.addRedirectUri(e.redirectUri);const o=e.correlationId||this.config.cryptoInterface.createNewGuid();if(i.addCorrelationId(o),i.addResponseMode(e.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),Kh(this.config)||i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&i.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&i.addPrompt(e.prompt),e.domainHint&&i.addDomainHint(e.domainHint),e.prompt!==Ei.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ei.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(e.sid);else if(e.account){const x=this.extractAccountSid(e.account);let C=this.extractLoginHint(e.account);if(C&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),C=null),C){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),i.addLoginHint(C);try{const S=Ea(e.account.homeAccountId);i.addCcsOid(S)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(x&&e.prompt===Ei.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(x);try{const S=Ea(e.account.homeAccountId);i.addCcsOid(S)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(e.account.username);try{const S=Ea(e.account.homeAccountId);i.addCcsOid(S)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&i.addNonce(e.nonce),e.state&&i.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&i.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(i.addNativeBroker(),e.authenticationScheme===Qt.POP)){const x=new qa(this.cryptoUtils),C=await He(x.generateCnf.bind(x),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);i.addPopToken(C.reqCnfHash)}return i.createQueryString()}createLogoutUrlQueryString(e){const i=new So;return e.postLogoutRedirectUri&&i.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&i.addCorrelationId(e.correlationId),e.idTokenHint&&i.addIdTokenHint(e.idTokenHint),e.state&&i.addState(e.state),e.logoutHint&&i.addLogoutHint(e.logoutHint),e.extraQueryParameters&&i.addExtraQueryParameters(e.extraQueryParameters),i.createQueryString()}extractAccountSid(e){var i;return((i=e.idTokenClaims)==null?void 0:i.sid)||null}extractLoginHint(e){var i;return((i=e.idTokenClaims)==null?void 0:i.login_hint)||null}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Dw=300;class Gh extends fd{constructor(e,i){super(e,i)}async acquireToken(e){var u,x;(u=this.performanceClient)==null||u.addQueueMeasurement(he.RefreshTokenClientAcquireToken,e.correlationId);const i=Jn(),s=await He(this.executeTokenRequest.bind(this),he.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=(x=s.headers)==null?void 0:x[Un.X_MS_REQUEST_ID],c=new la(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return c.validateTokenResponse(s.body),He(c.handleServerTokenResponse.bind(c),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,i,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){var s;if(!e)throw ti(Um);if((s=this.performanceClient)==null||s.addQueueMeasurement(he.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Me(td);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await He(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(o){const c=o instanceof En&&o.errorCode===Jr,u=o instanceof Ns&&o.errorCode===hp.INVALID_GRANT_ERROR&&o.subError===hp.CLIENT_MISMATCH_ERROR;if(c||u)return He(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw o}return He(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,i){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const s=pa(this.cacheManager.getRefreshToken.bind(this.cacheManager),he.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,i,void 0,this.performanceClient,e.correlationId);if(!s)throw $h(Jr);if(s.expiresOn&&Xh(s.expiresOn,e.refreshTokenExpirationOffsetSeconds||Dw))throw $h(md);const o={...e,refreshToken:s.secret,authenticationScheme:e.authenticationScheme||Qt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ln.HOME_ACCOUNT_ID}};try{return await He(this.acquireToken.bind(this),he.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(u){if(u instanceof En&&u.subError===kl){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const x=Pa(s);this.cacheManager.removeRefreshToken(x)}throw u}}async executeTokenRequest(e,i){var C,S;(C=this.performanceClient)==null||C.addQueueMeasurement(he.RefreshTokenClientExecuteTokenRequest,e.correlationId);const s=this.createTokenQueryParameters(e),o=Vt.appendQueryString(i.tokenEndpoint,s),c=await He(this.createTokenRequestBody.bind(this),he.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),u=this.createTokenRequestHeaders(e.ccsCredential),x={clientId:((S=e.tokenBodyParameters)==null?void 0:S.clientId)||this.config.authOptions.clientId,authority:i.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return He(this.executePostToTokenEndpoint.bind(this),he.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,c,u,x,e.correlationId,he.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,c,u;(o=this.performanceClient)==null||o.addQueueMeasurement(he.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const i=e.correlationId,s=new So;if(s.addClientId(((c=e.tokenBodyParameters)==null?void 0:c[Qa])||this.config.authOptions.clientId),e.redirectUri&&s.addRedirectUri(e.redirectUri),s.addScopes(e.scopes,!0,(u=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:u.defaultScopes),s.addGrantType(fm.REFRESH_TOKEN_GRANT),s.addClientInfo(),s.addLibraryInfo(this.config.libraryInfo),s.addApplicationTelemetry(this.config.telemetry.application),s.addThrottling(),this.serverTelemetryManager&&!Kh(this.config)&&s.addServerTelemetry(this.serverTelemetryManager),s.addCorrelationId(i),s.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&s.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const x=this.config.clientCredentials.clientAssertion;s.addClientAssertion(x.assertion),s.addClientAssertionType(x.assertionType)}if(e.authenticationScheme===Qt.POP){const x=new qa(this.cryptoUtils,this.performanceClient),C=await He(x.generateCnf.bind(x),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);s.addPopToken(C.reqCnfString)}else if(e.authenticationScheme===Qt.SSH)if(e.sshJwk)s.addSshJwk(e.sshJwk);else throw ti(Tl);if((!Mn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&s.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ln.HOME_ACCOUNT_ID:try{const x=Ea(e.ccsCredential.credential);s.addCcsOid(x)}catch(x){this.logger.verbose("Could not parse home account ID for CCS Header: "+x)}break;case ln.UPN:s.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&s.addExtraQueryParameters(e.tokenBodyParameters),s.createQueryString()}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Nw extends fd{constructor(e,i){super(e,i)}async acquireToken(e){var i;try{const[s,o]=await this.acquireCachedToken({...e,scopes:(i=e.scopes)!=null&&i.length?e.scopes:[...io]});return o===Cs.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Gh(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),s}catch(s){if(s instanceof bl&&s.errorCode===ns)return new Gh(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw s}}async acquireCachedToken(e){var C;(C=this.performanceClient)==null||C.addQueueMeasurement(he.SilentFlowClientAcquireCachedToken,e.correlationId);let i=Cs.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Mn.isEmptyObj(e.claims))throw this.setCacheOutcome(Cs.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Me(ns);if(!e.account)throw Me(td);const s=e.account.tenantId||Mw(e.authority),o=this.cacheManager.getTokenKeys(),c=this.cacheManager.getAccessToken(e.account,e,o,s,this.performanceClient,e.correlationId);if(c){if(gT(c.cachedAt)||Xh(c.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Cs.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Me(ns);c.refreshOn&&Xh(c.refreshOn,0)&&(i=Cs.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Cs.NO_CACHED_ACCESS_TOKEN,e.correlationId),Me(ns);const u=e.authority||this.authority.getPreferredCache(),x={account:this.cacheManager.readAccountFromCache(e.account),accessToken:c,idToken:this.cacheManager.getIdToken(e.account,o,s,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(u)};return this.setCacheOutcome(i,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await He(this.generateResultFromCacheRecord.bind(this),he.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(x,e),i]}setCacheOutcome(e,i){var s,o;(s=this.serverTelemetryManager)==null||s.setCacheOutcome(e),(o=this.performanceClient)==null||o.addFields({cacheOutcome:e},i),e!==Cs.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,i){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.SilentFlowClientGenerateResultFromCacheRecord,i.correlationId);let s;if(e.idToken&&(s=ua(e.idToken.secret,this.config.cryptoInterface.base64Decode)),i.maxAge||i.maxAge===0){const c=s==null?void 0:s.auth_time;if(!c)throw Me(ed);Bm(c,i.maxAge)}return la.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,i,s)}}/*! @azure/msal-common v14.9.0 2024-04-11 */const Vw={sendGetRequestAsync:()=>Promise.reject(Me(It)),sendPostRequestAsync:()=>Promise.reject(Me(It))};/*! @azure/msal-common v14.9.0 2024-04-11 */const rx="missing_kid_error",lx="missing_alg_error";/*! @azure/msal-common v14.9.0 2024-04-11 */const Hw={[rx]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[lx]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class yd extends ui{constructor(e,i){super(e,i),this.name="JoseHeaderError",Object.setPrototypeOf(this,yd.prototype)}}function Ap(t){return new yd(t,Hw[t])}/*! @azure/msal-common v14.9.0 2024-04-11 */class vd{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Ap(rx);if(!e.alg)throw Ap(lx);const i=new vd({typ:e.typ||qC.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(i)}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Qr{constructor(e,i){this.cacheOutcome=Cs.NOT_APPLICABLE,this.cacheManager=i,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ue.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ue.EMPTY_STRING,this.telemetryCacheKey=Li.CACHE_KEY+Wi.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Li.VALUE_SEPARATOR}${this.cacheOutcome}`,i=[this.wrapperSKU,this.wrapperVer].join(Li.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),o=[e,s].join(Li.VALUE_SEPARATOR);return[Li.SCHEMA_VERSION,o,i].join(Li.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),i=Qr.maxErrorsToSend(e),s=e.failedRequests.slice(0,2*i).join(Li.VALUE_SEPARATOR),o=e.errors.slice(0,i).join(Li.VALUE_SEPARATOR),c=e.errors.length,u=i<c?Li.OVERFLOW_TRUE:Li.OVERFLOW_FALSE,x=[c,u].join(Li.VALUE_SEPARATOR);return[Li.SCHEMA_VERSION,e.cacheHits,s,o,x].join(Li.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const i=this.getLastRequests();i.errors.length>=Li.MAX_CACHED_ERRORS&&(i.failedRequests.shift(),i.failedRequests.shift(),i.errors.shift()),i.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof ui?e.subError?i.errors.push(e.subError):e.errorCode?i.errors.push(e.errorCode):i.errors.push(e.toString()):i.errors.push(e.toString()):i.errors.push(Li.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),i=Qr.maxErrorsToSend(e),s=e.errors.length;if(i===s)this.cacheManager.removeItem(this.telemetryCacheKey);else{const o={failedRequests:e.failedRequests.slice(i*2),errors:e.errors.slice(i),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}}static maxErrorsToSend(e){let i,s=0,o=0;const c=e.errors.length;for(i=0;i<c;i++){const u=e.failedRequests[2*i]||ue.EMPTY_STRING,x=e.failedRequests[2*i+1]||ue.EMPTY_STRING,C=e.errors[i]||ue.EMPTY_STRING;if(o+=u.toString().length+x.toString().length+C.length+3,o<Li.MAX_LAST_HEADER_BYTES)s+=1;else break}return s}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||ue.EMPTY_STRING),e.push(this.regionSource||ue.EMPTY_STRING),e.push(this.regionOutcome||ue.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}}/*! @azure/msal-common v14.9.0 2024-04-11 */class Sp{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Ww{generateId(){return"callback-id"}startMeasurement(e,i){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Sw.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:i||""},measurement:new Sp}}startPerformanceMeasurement(){return new Sp}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const bd="pkce_not_created",hx="crypto_nonexistent",Al="empty_navigate_uri",cx="hash_empty_error",_d="no_state_in_hash",dx="hash_does_not_contain_known_properties",ux="unable_to_parse_state",px="state_interaction_type_mismatch",gx="interaction_in_progress",fx="popup_window_error",mx="empty_window_error",ha="user_cancelled",Uw="monitor_popup_timeout",xx="monitor_window_timeout",yx="redirect_in_iframe",vx="block_iframe_reload",bx="block_nested_popups",zw="iframe_closed_prematurely",Sl="silent_logout_unsupported",_x="no_account_error",Yw="silent_prompt_value_error",Cx="no_token_request_cache_error",Tx="unable_to_parse_token_request_cache_error",Cd="no_cached_authority_error",Xw="auth_request_not_set_error",jw="invalid_cache_type",wx="non_browser_environment",Aa="database_not_open",qr="no_network_connectivity",kx="post_request_failed",Ax="get_request_failed",Jh="failed_to_parse_response",_n="unable_to_load_token",Td="crypto_key_not_found",Sx="auth_code_required",Mx="auth_code_or_nativeAccountId_required",Ix="spa_code_and_nativeAccountId_present",wd="database_unavailable",Px="unable_to_acquire_token_from_native_platform",Ex="native_handshake_timeout",Rx="native_extension_not_installed",zo="native_connection_not_established",Lx="uninitialized_public_client_application",Ox="native_prompt_not_supported",Bx="invalid_base64_string";/*! @azure/msal-browser v3.13.0 2024-04-11 */const Zn="For more visit: aka.ms/msaljs/browser-errors",Kw={[bd]:"The PKCE code challenge and verifier could not be generated.",[hx]:"The crypto object or function is not available.",[Al]:"Navigation URI is empty. Please check stack trace for more info.",[cx]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Zn}`,[_d]:"Hash does not contain state. Please verify that the request originated from msal.",[dx]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Zn}`,[ux]:"Unable to parse state. Please verify that the request originated from msal.",[px]:"Hash contains state but the interaction type does not match the caller.",[gx]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Zn}`,[fx]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[mx]:"window.open returned null or undefined window object.",[ha]:"User cancelled the flow.",[Uw]:`Token acquisition in popup failed due to timeout.  ${Zn}`,[xx]:`Token acquisition in iframe failed due to timeout.  ${Zn}`,[yx]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[vx]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Zn}`,[bx]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[zw]:"The iframe being monitored was closed prematurely.",[Sl]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[_x]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Yw]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Cx]:"No token request found in cache.",[Tx]:"The cached token request could not be parsed.",[Cd]:"No cached authority found.",[Xw]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[jw]:"Invalid cache type",[wx]:"Login and token requests are not supported in non-browser environments.",[Aa]:"Database is not open!",[qr]:"No network connectivity. Check your internet connection.",[kx]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ax]:"Network request failed. Please check the network trace to determine root cause.",[Jh]:"Failed to parse network response. Check network trace.",[_n]:"Error loading token to cache.",[Td]:"Cryptographic Key or Keypair not found in browser storage.",[Sx]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Mx]:"An authorization code or nativeAccountId must be provided to this flow.",[Ix]:"Request cannot contain both spa code and native account id.",[wd]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Px]:`Unable to acquire token from native platform.  ${Zn}`,[Ex]:"Timed out while attempting to establish connection to browser extension",[Rx]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[zo]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Zn}`,[Lx]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Zn}`,[Ox]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Bx]:"Invalid base64 encoded string."};class Yo extends ui{constructor(e){super(e,Kw[e]),Object.setPrototypeOf(this,Yo.prototype),this.name="BrowserAuthError"}}function Ze(t){return new Yo(t)}/*! @azure/msal-browser v3.13.0 2024-04-11 */const wn={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},po={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},ea={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ti={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Mp={GET:"GET",POST:"POST"},Kt={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},bs={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},cr={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ai={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ot;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ot||(ot={}));const Ip={scopes:io},Fx="jwk",Qh="msal.db",$w=1,Gw=`${Qh}.keys`,an={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Jw=[an.Default,an.Skip,an.RefreshTokenAndNetwork],Qw="msal.browser.log.level",qw="msal.browser.log.pii";/*! @azure/msal-browser v3.13.0 2024-04-11 */function Ql(t){return encodeURIComponent(kd(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ml(t){return Dx(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kd(t){return Dx(new TextEncoder().encode(t))}function Dx(t){const e=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(e)}/*! @azure/msal-browser v3.13.0 2024-04-11 */const Zw="RSASSA-PKCS1-v1_5",Nx="SHA-256",ek=2048,tk=new Uint8Array([1,0,1]),Pp="0123456789abcdef",Ep=new Uint32Array(1),Ad={name:Zw,hash:Nx,modulusLength:ek,publicExponent:tk};function ik(t){if("crypto"in window)t.verbose("BrowserCrypto: modern crypto interface available");else throw t.error("BrowserCrypto: crypto interface is unavailable"),Ze(hx)}async function Vx(t,e,i){e==null||e.addQueueMeasurement(he.Sha256Digest,i);const o=new TextEncoder().encode(t);return window.crypto.subtle.digest(Nx,o)}function nk(t){return window.crypto.getRandomValues(t)}function ql(){return window.crypto.getRandomValues(Ep),Ep[0]}function us(){const t=Date.now(),e=ql()*1024+(ql()&1023),i=new Uint8Array(16),s=Math.trunc(e/2**30),o=e&2**30-1,c=ql();i[0]=t/2**40,i[1]=t/2**32,i[2]=t/2**24,i[3]=t/2**16,i[4]=t/2**8,i[5]=t,i[6]=112|s>>>8,i[7]=s,i[8]=128|o>>>24,i[9]=o>>>16,i[10]=o>>>8,i[11]=o,i[12]=c>>>24,i[13]=c>>>16,i[14]=c>>>8,i[15]=c;let u="";for(let x=0;x<i.length;x++)u+=Pp.charAt(i[x]>>>4),u+=Pp.charAt(i[x]&15),(x===3||x===5||x===7||x===9)&&(u+="-");return u}async function sk(t,e){return window.crypto.subtle.generateKey(Ad,t,e)}async function Zl(t){return window.crypto.subtle.exportKey(Fx,t)}async function ak(t,e,i){return window.crypto.subtle.importKey(Fx,t,Ad,e,i)}async function ok(t,e){return window.crypto.subtle.sign(Ad,t,e)}async function Hx(t){const e=await Vx(t),i=new Uint8Array(e);return Ml(i)}/*! @azure/msal-browser v3.13.0 2024-04-11 */const Zr="storage_not_supported",qh="stubbed_public_client_application_called",el="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.13.0 2024-04-11 */const vr={[Zr]:"Given storage configuration option was not supported.",[qh]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[el]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};vr[Zr],vr[qh],vr[el];class Sd extends ui{constructor(e,i){super(e,i),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Sd.prototype)}}function Wx(t){return new Sd(t,vr[t])}/*! @azure/msal-browser v3.13.0 2024-04-11 */function rk(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function lk(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Md(){return window.parent!==window}function hk(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${wn.POPUP_NAME_PREFIX}.`)===0}function ss(){return window.location.href.split("?")[0].split("#")[0]}function ck(){const e=new Vt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function dk(){if(Vt.hashContainsKnownProperties(window.location.hash)&&Md())throw Ze(vx)}function uk(t){if(Md()&&!t)throw Ze(yx)}function pk(){if(hk())throw Ze(bx)}function gk(){if(typeof window>"u")throw Ze(wx)}function Ux(t){if(!t)throw Ze(Lx)}function Sa(t){gk(),dk(),pk(),Ux(t)}function Rp(t,e){if(Sa(t),uk(e.system.allowRedirectInIframe),e.cache.cacheLocation===Ti.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Wx(el)}function zx(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}const fk="modulepreload",mk=function(t){return"/"+t},Lp={},xk=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.all(i.map(x=>{if(x=mk(x),x in Lp)return;Lp[x]=!0;const C=x.endsWith(".css"),S=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${S}`))return;const b=document.createElement("link");if(b.rel=C?"stylesheet":fk,C||(b.as="script",b.crossOrigin=""),b.href=x,u&&b.setAttribute("nonce",u),document.head.appendChild(b),C)return new Promise((L,B)=>{b.addEventListener("load",L),b.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${x}`)))})}))}return o.then(()=>e()).catch(c=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c})};/*! @azure/msal-browser v3.13.0 2024-04-11 */class tl{navigateInternal(e,i){return tl.defaultNavigateWindow(e,i)}navigateExternal(e,i){return tl.defaultNavigateWindow(e,i)}static defaultNavigateWindow(e,i){return i.noHistory?window.location.replace(e):window.location.assign(e),new Promise(s=>{setTimeout(()=>{s(!0)},i.timeout)})}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class yk{async sendGetRequestAsync(e,i){let s;try{s=await fetch(e,{method:Mp.GET,headers:this.getFetchHeaders(i)})}catch{throw window.navigator.onLine?Ze(Ax):Ze(qr)}try{return{headers:this.getHeaderDict(s.headers),body:await s.json(),status:s.status}}catch{throw Ze(Jh)}}async sendPostRequestAsync(e,i){const s=i&&i.body||ue.EMPTY_STRING;let o;try{o=await fetch(e,{method:Mp.POST,headers:this.getFetchHeaders(i),body:s})}catch{throw window.navigator.onLine?Ze(kx):Ze(qr)}try{return{headers:this.getHeaderDict(o.headers),body:await o.json(),status:o.status}}catch{throw Ze(Jh)}}getFetchHeaders(e){const i=new Headers;if(!(e&&e.headers))return i;const s=e.headers;return Object.keys(s).forEach(o=>{i.append(o,s[o])}),i}getHeaderDict(e){const i={};return e.forEach((s,o)=>{i[o]=s}),i}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const vk=6e4,Zh=1e4,bk=3e4,_k=2e3;function Ck({auth:t,cache:e,system:i,telemetry:s},o){const c={clientId:ue.EMPTY_STRING,authority:`${ue.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:ue.EMPTY_STRING,authorityMetadata:ue.EMPTY_STRING,redirectUri:ue.EMPTY_STRING,postLogoutRedirectUri:ue.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:rs.AAD,OIDCOptions:{serverResponseType:Uo.FRAGMENT,defaultScopes:[ue.OPENID_SCOPE,ue.PROFILE_SCOPE,ue.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ad.None,tenant:ue.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},u={cacheLocation:Ti.SessionStorage,temporaryCacheLocation:Ti.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Ti.LocalStorage),claimsBasedCachingEnabled:!1},x={loggerCallback:()=>{},logLevel:ri.Info,piiLoggingEnabled:!1},S={...{...ix,loggerOptions:x,networkClient:o?new yk:Vw,navigationClient:new tl,loadFrameTimeout:0,windowHashTimeout:(i==null?void 0:i.loadFrameTimeout)||vk,iframeHashTimeout:(i==null?void 0:i.loadFrameTimeout)||Zh,navigateFrameWait:0,redirectNavigationTimeout:bk,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(i==null?void 0:i.nativeBrokerHandshakeTimeout)||_k,pollIntervalMilliseconds:wn.DEFAULT_POLL_INTERVAL_MS},...i,loggerOptions:(i==null?void 0:i.loggerOptions)||x},b={application:{appName:ue.EMPTY_STRING,appVersion:ue.EMPTY_STRING},client:new Ww};if((t==null?void 0:t.protocolMode)!==rs.OIDC&&(t!=null&&t.OIDCOptions)&&new ra(S.loggerOptions).warning(JSON.stringify(ti($m))),t!=null&&t.protocolMode&&t.protocolMode!==rs.AAD&&(S!=null&&S.allowNativeBroker))throw ti(Gm);return{auth:{...c,...t,OIDCOptions:{...c.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...u,...e},system:S,telemetry:{...b,...s}}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const Tk="@azure/msal-browser",Id="3.13.0";/*! @azure/msal-browser v3.13.0 2024-04-11 */class Pd{static loggerCallback(e,i){switch(e){case ri.Error:console.error(i);return;case ri.Info:console.info(i);return;case ri.Verbose:console.debug(i);return;case ri.Warning:console.warn(i);return;default:console.log(i);return}}constructor(e){var C;this.browserEnvironment=typeof window<"u",this.config=Ck(e,this.browserEnvironment);let i;try{i=window[Ti.SessionStorage]}catch{}const s=i==null?void 0:i.getItem(Qw),o=(C=i==null?void 0:i.getItem(qw))==null?void 0:C.toLowerCase(),c=o==="true"?!0:o==="false"?!1:void 0,u={...this.config.system.loggerOptions},x=s&&Object.keys(ri).includes(s)?ri[s]:void 0;x&&(u.loggerCallback=Pd.loggerCallback,u.logLevel=x),c!==void 0&&(u.piiLoggingEnabled=c),this.logger=new ra(u,Tk,Id),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class ca extends Pd{getModuleName(){return ca.MODULE_NAME}getId(){return ca.ID}async initialize(){return this.available=typeof window<"u",this.available}}ca.MODULE_NAME="";ca.ID="StandardOperatingContext";async function wk(t){const e=new ca(t);return await e.initialize(),(await xk(()=>Promise.resolve().then(()=>sA),void 0)).StandardController.createController(e)}/*! @azure/msal-browser v3.13.0 2024-04-11 */function jn(t){return new TextDecoder().decode(kk(t))}function kk(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Ze(Bx)}const i=atob(e);return Uint8Array.from(i,s=>s.codePointAt(0)||0)}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Ak{constructor(){this.dbName=Qh,this.version=$w,this.tableName=Gw,this.dbOpen=!1}async open(){return new Promise((e,i)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",o=>{const c=o;this.db=c.target.result,this.dbOpen=!0,e()}),s.addEventListener("error",()=>i(Ze(wd)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Ze(Aa));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);u.addEventListener("success",x=>{const C=x;this.closeConnection(),i(C.target.result)}),u.addEventListener("error",x=>{this.closeConnection(),s(x)})})}async setItem(e,i){return await this.validateDbIsOpen(),new Promise((s,o)=>{if(!this.db)return o(Ze(Aa));const x=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(i,e);x.addEventListener("success",()=>{this.closeConnection(),s()}),x.addEventListener("error",C=>{this.closeConnection(),o(C)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Ze(Aa));const u=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);u.addEventListener("success",()=>{this.closeConnection(),i()}),u.addEventListener("error",x=>{this.closeConnection(),s(x)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,i)=>{if(!this.db)return i(Ze(Aa));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();c.addEventListener("success",u=>{const x=u;this.closeConnection(),e(x.target.result)}),c.addEventListener("error",u=>{this.closeConnection(),i(u)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Ze(Aa));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);u.addEventListener("success",x=>{const C=x;this.closeConnection(),i(C.target.result===1)}),u.addEventListener("error",x=>{this.closeConnection(),s(x)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,i)=>{const s=window.indexedDB.deleteDatabase(Qh),o=setTimeout(()=>i(!1),200);s.addEventListener("success",()=>(clearTimeout(o),e(!0))),s.addEventListener("blocked",()=>(clearTimeout(o),e(!0))),s.addEventListener("error",()=>(clearTimeout(o),i(!1)))})}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class ec{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,i){this.cache.set(e,i)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((i,s)=>{e.push(s)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Sk{constructor(e){this.inMemoryCache=new ec,this.indexedDBCache=new Ak,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Yo&&e.errorCode===wd)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const i=this.inMemoryCache.getItem(e);if(!i)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(s){this.handleDatabaseAccessError(s)}return i}async setItem(e,i){this.inMemoryCache.setItem(e,i);try{await this.indexedDBCache.setItem(e,i)}catch(s){this.handleDatabaseAccessError(s)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(i){this.handleDatabaseAccessError(i)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(i){this.handleDatabaseAccessError(i)}return e}async containsKey(e){const i=this.inMemoryCache.containsKey(e);if(!i)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(s){this.handleDatabaseAccessError(s)}return i}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Za{constructor(e,i){this.logger=e,ik(e),this.cache=new Sk(this.logger),this.performanceClient=i}createNewGuid(){return us()}base64Encode(e){return kd(e)}base64Decode(e){return jn(e)}async getPublicKeyThumbprint(e){var b;const i=(b=this.performanceClient)==null?void 0:b.startMeasurement(he.CryptoOptsGetPublicKeyThumbprint,e.correlationId),s=await sk(Za.EXTRACTABLE,Za.POP_KEY_USAGES),o=await Zl(s.publicKey),c={e:o.e,kty:o.kty,n:o.n},u=Op(c),x=await this.hashString(u),C=await Zl(s.privateKey),S=await ak(C,!1,["sign"]);return await this.cache.setItem(x,{privateKey:S,publicKey:s.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),i&&i.end({success:!0}),x}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,i,s,o){var Pe;const c=(Pe=this.performanceClient)==null?void 0:Pe.startMeasurement(he.CryptoOptsSignJwt,o),u=await this.cache.getItem(i);if(!u)throw Ze(Td);const x=await Zl(u.publicKey),C=Op(x),S=Ql(JSON.stringify({kid:i})),b=vd.getShrHeaderString({...s==null?void 0:s.header,alg:x.alg,kid:S}),L=Ql(b);e.cnf={jwk:JSON.parse(C)};const B=Ql(JSON.stringify(e)),U=`${L}.${B}`,ne=new TextEncoder().encode(U),ce=await ok(u.privateKey,ne),ke=Ml(new Uint8Array(ce)),pe=`${U}.${ke}`;return c&&c.end({success:!0}),pe}async hashString(e){return Hx(e)}}Za.POP_KEY_USAGES=["sign","verify"];Za.EXTRACTABLE=!0;function Op(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Bp{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==Ti.LocalStorage&&e!==Ti.SessionStorage||!window[e])throw Wx(Zr)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,i){this.windowStorage.setItem(e,i)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */function Yx(t,e){if(!e)return null;try{return In.parseRequestState(t,e).libraryState.meta}catch{throw Me(Ga)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class tc extends Ja{constructor(e,i,s,o,c,u){super(e,s,o,c),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=i,this.logger=o,this.internalStorage=new ec,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),i.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=u}setupBrowserStorage(e){switch(e){case Ti.LocalStorage:case Ti.SessionStorage:try{return new Bp(e)}catch(i){this.logger.verbose(i);break}}return this.cacheConfig.cacheLocation=Ti.MemoryStorage,new ec}setupTemporaryCacheStorage(e,i){switch(i){case Ti.LocalStorage:case Ti.SessionStorage:try{return new Bp(e||Ti.SessionStorage)}catch(s){return this.logger.verbose(s),this.internalStorage}case Ti.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${ue.CACHE_PREFIX}.${Pi.ID_TOKEN}`,i=`${ue.CACHE_PREFIX}.${Pi.CLIENT_INFO}`,s=`${ue.CACHE_PREFIX}.${Pi.ERROR}`,o=`${ue.CACHE_PREFIX}.${Pi.ERROR_DESC}`,c=this.browserStorage.getItem(e),u=this.browserStorage.getItem(i),x=this.browserStorage.getItem(s),C=this.browserStorage.getItem(o),S=[c,u,x,C];[Pi.ID_TOKEN,Pi.CLIENT_INFO,Pi.ERROR,Pi.ERROR_DESC].forEach((L,B)=>{const U=S[B];U&&this.setTemporaryCache(L,U,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(bs.ACCOUNT_KEYS),i=this.getItem(`${bs.TOKEN_KEYS}.${this.clientId}`);if(e&&i){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(o=>{if(this.isCredentialKey(o)){const c=this.getItem(o);if(c){const u=this.validateAndParseJson(c);if(u&&u.hasOwnProperty("credentialType"))switch(u.credentialType){case dt.ID_TOKEN:if(gp(u)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${o} found, saving key to token key map`);const x=u,C=this.updateCredentialCacheKey(o,x);this.addTokenKey(C,dt.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${o}`);break;case dt.ACCESS_TOKEN:case dt.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(pp(u)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${o} found, saving key to token key map`);const x=u,C=this.updateCredentialCacheKey(o,x);this.addTokenKey(C,dt.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${o}`);break;case dt.REFRESH_TOKEN:if(fp(u)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${o} found, saving key to token key map`);const x=u,C=this.updateCredentialCacheKey(o,x);this.addTokenKey(C,dt.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${o}`);break}}}if(this.isAccountKey(o)){const c=this.getItem(o);if(c){const u=this.validateAndParseJson(c);u&&ki.isAccountEntity(u)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${o} found, saving key to account key map`),this.addAccountKeyToMap(o))}}})}validateAndParseJson(e){try{const i=JSON.parse(e);return i&&typeof i=="object"?i:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,i){this.browserStorage.setItem(e,i)}getAccount(e,i){this.logger.trace("BrowserCacheManager.getAccount called");const s=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,s,i)}getCachedAccountEntity(e){const i=this.getItem(e);if(!i)return this.removeAccountKeyFromMap(e),null;const s=this.validateAndParseJson(i);return!s||!ki.isAccountEntity(s)?(this.removeAccountKeyFromMap(e),null):Ja.toObject(new ki,s)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const i=e.generateAccountKey();this.setItem(i,JSON.stringify(e)),this.addAccountKeyToMap(i)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(bs.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const i=this.getAccountKeys();i.indexOf(e)===-1?(i.push(e),this.setItem(bs.ACCOUNT_KEYS,JSON.stringify(i)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const i=this.getAccountKeys(),s=i.indexOf(e);s>-1?(i.splice(s,1),this.setItem(bs.ACCOUNT_KEYS,JSON.stringify(i)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,dt.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,dt.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,dt.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${bs.TOKEN_KEYS}.${this.clientId}`);if(e){const i=this.validateAndParseJson(e);if(i&&i.hasOwnProperty("idToken")&&i.hasOwnProperty("accessToken")&&i.hasOwnProperty("refreshToken"))return i;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,i){this.logger.trace("BrowserCacheManager addTokenKey called");const s=this.getTokenKeys();switch(i){case dt.ID_TOKEN:s.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),s.idToken.push(e));break;case dt.ACCESS_TOKEN:s.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),s.accessToken.push(e));break;case dt.REFRESH_TOKEN:s.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),s.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${i}`),Me(Yh)}this.setItem(`${bs.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(s))}removeTokenKey(e,i){this.logger.trace("BrowserCacheManager removeTokenKey called");const s=this.getTokenKeys();switch(i){case dt.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const o=s.idToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),s.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case dt.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const c=s.accessToken.indexOf(e);c>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),s.accessToken.splice(c,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case dt.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const u=s.refreshToken.indexOf(e);u>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),s.refreshToken.splice(u,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${i}`),Me(Yh)}this.setItem(`${bs.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(s))}getIdTokenCredential(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ID_TOKEN),null;const s=this.validateAndParseJson(i);return!s||!gp(s)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),s)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const i=Pa(e);this.setItem(i,JSON.stringify(e)),this.addTokenKey(i,dt.ID_TOKEN)}getAccessTokenCredential(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ACCESS_TOKEN),null;const s=this.validateAndParseJson(i);return!s||!pp(s)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),s)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const i=Pa(e);this.setItem(i,JSON.stringify(e)),this.addTokenKey(i,dt.ACCESS_TOKEN)}getRefreshTokenCredential(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.REFRESH_TOKEN),null;const s=this.validateAndParseJson(i);return!s||!fp(s)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),s)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const i=Pa(e);this.setItem(i,JSON.stringify(e)),this.addTokenKey(i,dt.REFRESH_TOKEN)}getAppMetadata(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(i);return!s||!TT(e,s)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),s)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const i=CT(e);this.setItem(i,JSON.stringify(e))}getServerTelemetry(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const s=this.validateAndParseJson(i);return!s||!bT(e,s)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),s)}setServerTelemetry(e,i){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(i))}getAuthorityMetadata(e){const i=this.internalStorage.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(i);return s&&wT(e,s)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),s):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(i=>this.isAuthorityMetadata(i))}setWrapperMetadata(e,i){this.internalStorage.setItem(cr.WRAPPER_SKU,e),this.internalStorage.setItem(cr.WRAPPER_VER,i)}getWrapperMetadata(){const e=this.internalStorage.getItem(cr.WRAPPER_SKU)||ue.EMPTY_STRING,i=this.internalStorage.getItem(cr.WRAPPER_VER)||ue.EMPTY_STRING;return[e,i]}setAuthorityMetadata(e,i){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(i))}getActiveAccount(){const e=this.generateCacheKey(Pi.ACTIVE_ACCOUNT_FILTERS),i=this.getItem(e);if(!i){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const o=this.generateCacheKey(Pi.ACTIVE_ACCOUNT),c=this.getItem(o);if(!c)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const u=this.getAccountInfoFilteredBy({localAccountId:c});return u?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(u),u):null}const s=this.validateAndParseJson(i);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId,tenantId:s.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const i=this.generateCacheKey(Pi.ACTIVE_ACCOUNT_FILTERS),s=this.generateCacheKey(Pi.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const o={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(i,JSON.stringify(o)),this.browserStorage.setItem(s,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(i),this.browserStorage.removeItem(s)}getThrottlingCache(e){const i=this.getItem(e);if(!i)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const s=this.validateAndParseJson(i);return!s||!_T(e,s)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),s)}setThrottlingCache(e,i){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(i))}getTemporaryCache(e,i){const s=i?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const c=this.getItemCookie(s);if(c)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),c}const o=this.temporaryCacheStorage.getItem(s);if(!o){if(this.cacheConfig.cacheLocation===Ti.LocalStorage){const c=this.browserStorage.getItem(s);if(c)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),c}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o}setTemporaryCache(e,i,s){const o=s?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,i),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(o,i))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(ue.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(ue.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e){e.addQueueMeasurement(he.ClearTokensAndKeysWithClaims);const i=this.getTokenKeys(),s=[];i.accessToken.forEach(o=>{const c=this.getAccessTokenCredential(o);c!=null&&c.requestedClaimsHash&&o.includes(c.requestedClaimsHash.toLowerCase())&&s.push(this.removeAccessToken(o))}),await Promise.all(s),s.length>0&&this.logger.warning(`${s.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,i,s){let o=`${encodeURIComponent(e)}=${encodeURIComponent(i)};path=/;SameSite=Lax;`;if(s){const c=this.getCookieExpirationTime(s);o+=`expires=${c};`}this.cacheConfig.secureCookies&&(o+="Secure;"),document.cookie=o}getItemCookie(e){const i=`${encodeURIComponent(e)}=`,s=document.cookie.split(";");for(let o=0;o<s.length;o++){let c=s[o];for(;c.charAt(0)===" ";)c=c.substring(1);if(c.indexOf(i)===0)return decodeURIComponent(c.substring(i.length,c.length))}return ue.EMPTY_STRING}clearMsalCookies(){const e=`${ue.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(s=>{for(;s.charAt(0)===" ";)s=s.substring(1);if(s.indexOf(e)===0){const o=s.split("=")[0];this.clearItemCookie(o)}})}clearItemCookie(e){this.setItemCookie(e,ue.EMPTY_STRING,-1)}getCookieExpirationTime(e){const i=new Date;return new Date(i.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Mn.startsWith(e,ue.CACHE_PREFIX)||Mn.startsWith(e,Pi.ADAL_ID_TOKEN)?e:`${ue.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:i}}=In.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Kt.AUTHORITY}.${i}`)}generateNonceKey(e){const{libraryState:{id:i}}=In.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Kt.NONCE_IDTOKEN}.${i}`)}generateStateKey(e){const{libraryState:{id:i}}=In.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Kt.REQUEST_STATE}.${i}`)}getCachedAuthority(e){const i=this.generateStateKey(e),s=this.getTemporaryCache(i);if(!s)return null;const o=this.generateAuthorityKey(s);return this.getTemporaryCache(o)}updateCacheEntries(e,i,s,o,c){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const u=this.generateStateKey(e);this.setTemporaryCache(u,e,!1);const x=this.generateNonceKey(e);this.setTemporaryCache(x,i,!1);const C=this.generateAuthorityKey(e);if(this.setTemporaryCache(C,s,!1),c){const S={credential:c.homeAccountId,type:ln.HOME_ACCOUNT_ID};this.setTemporaryCache(Kt.CCS_CREDENTIAL,JSON.stringify(S),!0)}else if(o){const S={credential:o,type:ln.UPN};this.setTemporaryCache(Kt.CCS_CREDENTIAL,JSON.stringify(S),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(i=>{i.indexOf(e)!==-1&&this.removeTemporaryItem(i)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Kt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Kt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Kt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Kt.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Kt.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Kt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const i=this.generateStateKey(e),s=this.temporaryCacheStorage.getItem(i);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${s}`),this.resetRequestCache(s||ue.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(i=>{if(i.indexOf(Kt.REQUEST_STATE)===-1)return;const s=this.temporaryCacheStorage.getItem(i);if(!s)return;const o=Yx(this.cryptoImpl,s);o&&o.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${s}`),this.resetRequestCache(s))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const i=kd(JSON.stringify(e));this.setTemporaryCache(Kt.REQUEST_PARAMS,i,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const i=this.getTemporaryCache(Kt.REQUEST_PARAMS,!0);if(!i)throw Ze(Cx);let s;try{s=JSON.parse(jn(i))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${i}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),Ze(Tx)}if(this.removeTemporaryItem(this.generateCacheKey(Kt.REQUEST_PARAMS)),!s.authority){const o=this.generateAuthorityKey(e),c=this.getTemporaryCache(o);if(!c)throw Ze(Cd);s.authority=c}return s}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Kt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const i=this.validateAndParseJson(e);return i||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const i=this.getInteractionInProgress();return e?i===this.clientId:!!i}getInteractionInProgress(){const e=`${ue.CACHE_PREFIX}.${Kt.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const i=`${ue.CACHE_PREFIX}.${Kt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw Ze(gx);this.setTemporaryCache(i,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(i)}getLegacyLoginHint(){const e=this.getTemporaryCache(Pi.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(Pi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const i=this.getTemporaryCache(Pi.ID_TOKEN,!0);i&&(this.browserStorage.removeItem(this.generateCacheKey(Pi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const s=i||e;if(s){const o=ua(s,jn);if(o.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),o.preferred_username;if(o.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),o.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,i){const s=Pa(i);if(e!==s){const o=this.getItem(e);if(o)return this.browserStorage.removeItem(e),this.setItem(s,o),this.logger.verbose(`Updated an outdated ${i.credentialType} cache key`),s;this.logger.error(`Attempted to update an outdated ${i.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,i){var x,C,S,b,L;const s=_l((x=e.account)==null?void 0:x.homeAccountId,(C=e.account)==null?void 0:C.environment,e.idToken,this.clientId,e.tenantId);let o;i.claims&&(o=await this.cryptoImpl.hashString(i.claims));const c=Cl((S=e.account)==null?void 0:S.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),((b=e.expiresOn)==null?void 0:b.getTime())||0,((L=e.extExpiresOn)==null?void 0:L.getTime())||0,jn,void 0,e.tokenType,void 0,i.sshKid,i.claims,o),u=new Na(void 0,s,c);return this.saveCacheRecord(u)}async saveCacheRecord(e,i,s){try{await super.saveCacheRecord(e,i,s)}catch(o){if(o instanceof Da&&this.performanceClient&&s)try{const c=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:c.refreshToken.length,cacheIdCount:c.idToken.length,cacheAtCount:c.accessToken.length},s)}catch{}throw o}}}const Mk=(t,e)=>{const i={cacheLocation:Ti.MemoryStorage,temporaryCacheLocation:Ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new tc(t,i,jr,e)};/*! @azure/msal-browser v3.13.0 2024-04-11 */const ft={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.13.0 2024-04-11 */class Ik{constructor(e,i){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=i,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){if(typeof window<"u"){const i=us();return this.eventCallbacks.set(i,e),this.logger.verbose(`Event callback registered with id: ${i}`),i}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(e,i,s,o){if(typeof window<"u"){const c={eventType:e,interactionType:i||null,payload:s||null,error:o||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach((u,x)=>{this.logger.verbose(`Emitting event to callback ${x}: ${e}`),u.apply(null,[c])})}}handleAccountCacheChange(e){var i;try{(i=e.key)!=null&&i.includes(Pi.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(ft.ACTIVE_ACCOUNT_CHANGED);const s=e.newValue||e.oldValue;if(!s)return;const o=JSON.parse(s);if(typeof o!="object"||!ki.isAccountEntity(o))return;const u=Ja.toObject(new ki,o).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(ft.ACCOUNT_ADDED,void 0,u)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(ft.ACCOUNT_REMOVED,void 0,u))}catch{return}}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Xx{constructor(e,i,s,o,c,u,x,C,S){this.config=e,this.browserStorage=i,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=c,this.navigationClient=u,this.nativeMessageHandler=C,this.correlationId=S||us(),this.logger=o.clone(wn.MSAL_SKU,Id,this.correlationId),this.performanceClient=x}async clearCacheOnLogout(e){if(e){ki.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(ki.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const i=e||this.config.auth.redirectUri||ss();return Vt.getAbsoluteUrl(i,ss())}initializeServerTelemetryManager(e,i){this.logger.verbose("initializeServerTelemetryManager called");const s={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:i||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Qr(s,this.browserStorage)}async getDiscoveredAuthority(e,i,s){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const o={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=e||this.config.auth.authority,u=Hi.generateAuthority(c,i||this.config.auth.azureCloudOptions),x=await He(sx,he.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(u,this.config.system.networkClient,this.browserStorage,o,this.logger,this.correlationId,this.performanceClient);if(s&&!x.isAlias(s.environment))throw ti(Jm);return x}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const Pk=32;async function Ek(t,e,i){t.addQueueMeasurement(he.GeneratePkceCodes,i);const s=pa(Rk,he.GenerateCodeVerifier,e,t,i)(t,e,i),o=await He(Lk,he.GenerateCodeChallengeFromVerifier,e,t,i)(s,t,e,i);return{verifier:s,challenge:o}}function Rk(t,e,i){try{const s=new Uint8Array(Pk);return pa(nk,he.GetRandomValues,e,t,i)(s),Ml(s)}catch{throw Ze(bd)}}async function Lk(t,e,i,s){e.addQueueMeasurement(he.GenerateCodeChallengeFromVerifier,s);try{const o=await He(Vx,he.Sha256Digest,i,e,s)(t,e,s);return Ml(new Uint8Array(o))}catch{throw Ze(bd)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */async function Ed(t,e,i,s){i.addQueueMeasurement(he.InitializeBaseRequest,t.correlationId);const o=t.authority||e.auth.authority,c=[...t&&t.scopes||[]],u={...t,correlationId:t.correlationId,authority:o,scopes:c};if(!u.authenticationScheme)u.authenticationScheme=Qt.BEARER,s.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(u.authenticationScheme===Qt.SSH){if(!t.sshJwk)throw ti(Tl);if(!t.sshKid)throw ti(Km)}s.verbose(`Authentication Scheme set to "${u.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Mn.isEmptyObj(t.claims)&&(u.requestedClaimsHash=await Hx(t.claims)),u}async function Ok(t,e,i,s,o){s.addQueueMeasurement(he.InitializeSilentRequest,t.correlationId);const c=await He(Ed,he.InitializeBaseRequest,o,s,t.correlationId)(t,i,s,o);return{...t,...c,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class no extends Xx{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const i=await He(Ek,he.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),s={...e,redirectUri:e.redirectUri,code:ue.EMPTY_STRING,codeVerifier:i.verifier};return e.codeChallenge=i.challenge,e.codeChallengeMethod=ue.S256_CODE_CHALLENGE_METHOD,s}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const i={correlationId:this.correlationId||us(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const s=this.getLogoutHintFromIdTokenClaims(e.account);s&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),i.logoutHint=s)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",i.correlationId),i.postLogoutRedirectUri=Vt.getAbsoluteUrl(e.postLogoutRedirectUri,ss())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",i.correlationId),i.postLogoutRedirectUri=Vt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ss())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",i.correlationId),i.postLogoutRedirectUri=Vt.getAbsoluteUrl(ss(),ss())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",i.correlationId),i}getLogoutHintFromIdTokenClaims(e){const i=e.idTokenClaims;if(i){if(i.login_hint)return i.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e,i,s,o){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const c=await He(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,i,s,o);return new ox(c,this.performanceClient)}async getClientConfiguration(e,i,s,o){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientGetClientConfiguration,this.correlationId);const c=await He(this.getDiscoveredAuthority.bind(this),he.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)(i,s,o),u=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:c,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:u.loggerCallback,piiLoggingEnabled:u.piiLoggingEnabled,logLevel:u.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:wn.MSAL_SKU,version:Id,cpu:ue.EMPTY_STRING,os:ue.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,i){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const s=this.getRedirectUri(e.redirectUri),o={interactionType:i},c=In.setRequestState(this.browserCrypto,e&&e.state||ue.EMPTY_STRING,o),x={...await He(Ed,he.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:s,state:c,nonce:e.nonce||us(),responseMode:this.config.auth.OIDCOptions.serverResponseType},C=e.account||this.browserStorage.getActiveAccount();if(C&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${C.homeAccountId}`,this.correlationId),x.account=C),!x.loginHint&&!C){const S=this.browserStorage.getLegacyLoginHint();S&&(x.loginHint=S)}return x}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const Bk="ContentError",jx="user_switch";/*! @azure/msal-browser v3.13.0 2024-04-11 */const Fk="USER_INTERACTION_REQUIRED",Dk="USER_CANCEL",Nk="NO_NETWORK",Vk="PERSISTENT_ERROR",Hk="DISABLED",Wk="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.13.0 2024-04-11 */const Uk=-2147186943,zk={[jx]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class is extends ui{constructor(e,i,s){super(e,i),Object.setPrototypeOf(this,is.prototype),this.name="NativeAuthError",this.ext=s}}function Ma(t){if(t.ext&&t.ext.status&&(t.ext.status===Vk||t.ext.status===Hk)||t.ext&&t.ext.error&&t.ext.error===Uk)return!0;switch(t.errorCode){case Bk:return!0;default:return!1}}function ic(t,e,i){if(i&&i.status)switch(i.status){case Wk:return $h(ax);case Fk:return new En(t,e);case Dk:return Ze(ha);case Nk:return Ze(qr)}return new is(t,zk[t]||e,i)}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Kx extends no{async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentCacheClientAcquireToken,e.correlationId);const i=this.initializeServerTelemetryManager(ai.acquireTokenSilent_silentFlow),s=await He(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(i,e.authority,e.azureCloudOptions,e.account),o=new Nw(s,this.performanceClient);this.logger.verbose("Silent auth client created");try{const u=(await He(o.acquireCachedToken.bind(o),he.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),u}catch(c){throw c instanceof Yo&&c.errorCode===Td&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),c}}logout(e){this.logger.verbose("logoutRedirect called");const i=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(i==null?void 0:i.account)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */const eh={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"};class Va extends Xx{constructor(e,i,s,o,c,u,x,C,S,b,L,B){super(e,i,s,o,c,u,C,S,B),this.apiId=x,this.accountId=b,this.nativeMessageHandler=S,this.nativeStorageManager=L,this.silentCacheClient=new Kx(e,this.nativeStorageManager,s,o,c,u,C,S,B)}async acquireToken(e){this.performanceClient.addQueueMeasurement(he.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const i=this.performanceClient.startMeasurement(he.NativeInteractionClientAcquireToken,e.correlationId),s=Jn(),o=await this.initializeNativeRequest(e);try{const C=await this.acquireTokensFromCache(this.accountId,o);return i.end({success:!0,isNativeBroker:!1,fromCache:!0}),C}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const c={method:ea.GetToken,request:o},u=await this.nativeMessageHandler.sendMessage(c),x=this.validateNativeResponse(u);return this.handleNativeResponse(x,o,s).then(C=>(i.end({success:!0,isNativeBroker:!0,requestId:C.requestId}),C)).catch(C=>{throw i.end({success:!1,errorCode:C.errorCode,subErrorCode:C.subError,isNativeBroker:!0}),C})}createSilentCacheRequest(e,i){return{authority:e.authority,correlationId:this.correlationId,scopes:bi.fromString(e.scope).asArray(),account:i,forceRefresh:!1}}async acquireTokensFromCache(e,i){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Me(Uh);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!s)throw Me(Uh);try{const o=this.createSilentCacheRequest(i,s),c=await this.silentCacheClient.acquireToken(o),u={...s,idTokenClaims:c==null?void 0:c.idTokenClaims,idToken:c==null?void 0:c.idToken};return{...c,account:u}}catch(o){throw o}}async acquireTokenRedirect(e){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const i=await this.initializeNativeRequest(e),s={method:ea.GetToken,request:i};try{const u=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(u)}catch(u){if(u instanceof is&&Ma(u))throw u}this.browserStorage.setTemporaryCache(Kt.NATIVE_REQUEST,JSON.stringify(i),!0);const o={apiId:ai.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);await this.navigationClient.navigateExternal(c,o)}async handleRedirectPromise(e,i){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&i&&(e==null||e.addFields({errorCode:"no_cached_request"},i)),null;const{prompt:o,...c}=s;o&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Kt.NATIVE_REQUEST));const u={method:ea.GetToken,request:c},x=Jn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const C=await this.nativeMessageHandler.sendMessage(u);this.validateNativeResponse(C);const S=this.handleNativeResponse(C,c,x);return this.browserStorage.setInteractionInProgress(!1),await S}catch(C){throw this.browserStorage.setInteractionInProgress(!1),C}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,i,s){var b;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=ua(e.id_token,jn),c=this.createHomeAccountIdentifier(e,o),u=(b=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:i.accountId}))==null?void 0:b.homeAccountId;if(c!==u&&e.account.id!==i.accountId)throw ic(jx);const x=await this.getDiscoveredAuthority(i.authority),C=xd(this.browserStorage,x,c,o,jn,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger),S=await this.generateAuthenticationResult(e,i,o,C,x.canonicalAuthority,s);return this.cacheAccount(C),this.cacheNativeTokens(e,i,c,o,S.accessToken,S.tenantId,s),S}createHomeAccountIdentifier(e,i){return ki.generateHomeAccountId(e.client_info||ue.EMPTY_STRING,Tn.Default,this.logger,this.browserCrypto,i)}generateScopes(e,i){return e.scope?bi.fromString(e.scope):bi.fromString(i.scope)}async generatePopAccessToken(e,i){if(i.tokenType===Qt.POP){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const s=new qa(this.browserCrypto),o={resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,shrNonce:i.shrNonce};if(!i.keyId)throw Me(nd);return s.signPopToken(e.access_token,i.keyId,o)}else return e.access_token}async generateAuthenticationResult(e,i,s,o,c,u){const x=this.addTelemetryFromNativeResponse(e),C=e.scope?bi.fromString(e.scope):bi.fromString(i.scope),S=e.account.properties||{},b=S.UID||s.oid||s.sub||ue.EMPTY_STRING,L=S.TenantId||s.tid||ue.EMPTY_STRING,B=ud(o.getAccountInfo(),void 0,s,e.id_token);B.nativeAccountId!==e.account.id&&(B.nativeAccountId=e.account.id);const U=await this.generatePopAccessToken(e,i),q=i.tokenType===Qt.POP?Qt.POP:Qt.BEARER;return{authority:c,uniqueId:b,tenantId:L,scopes:C.asArray(),account:B,idToken:e.id_token,idTokenClaims:s,accessToken:U,fromCache:x?this.isResponseFromCache(x):!1,expiresOn:new Date(Number(u+e.expires_in)*1e3),tokenType:q,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(i=>{this.logger.error(`Error occurred while removing account context from browser storage. ${i}`)})}cacheNativeTokens(e,i,s,o,c,u,x){const C=_l(s,i.authority,e.id_token||"",i.clientId,o.tid||""),S=i.tokenType===Qt.POP?ue.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,b=x+S,L=this.generateScopes(e,i),B=Cl(s,i.authority,c,i.clientId,o.tid||u,L.printScopes(),b,0,jn),U=new Na(void 0,C,B);this.nativeStorageManager.saveCacheRecord(U,i.storeInCache)}addTelemetryFromNativeResponse(e){const i=this.getMATSFromResponse(e);return i?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:i.broker_version,matsAccountJoinOnStart:i.account_join_on_start,matsAccountJoinOnEnd:i.account_join_on_end,matsDeviceJoin:i.device_join,matsPromptBehavior:i.prompt_behavior,matsApiErrorCode:i.api_error_code,matsUiVisible:i.ui_visible,matsSilentCode:i.silent_code,matsSilentBiSubCode:i.silent_bi_sub_code,matsSilentMessage:i.silent_message,matsSilentStatus:i.silent_status,matsHttpStatus:i.http_status,matsHttpEventCount:i.http_event_count},this.correlationId),i):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw mm(Qc,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const i=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority(i,e.azureCloudOptions,e.account);const s=new Vt(i);s.validateAsUri();const{scopes:o,...c}=e,u=new bi(o||[]);u.appendScopes(io);const x=()=>{switch(this.apiId){case ai.ssoSilent:case ai.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ei.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case Ei.NONE:case Ei.CONSENT:case Ei.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Ze(Ox)}},C={...c,accountId:this.accountId,clientId:this.config.auth.clientId,authority:s.urlString,scope:u.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:x(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1};if(this.handleExtraBrokerParams(C),C.extraParameters=C.extraParameters||{},C.extraParameters.telemetry=po.MATS_TELEMETRY,e.authenticationScheme===Qt.POP){const S={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},b=new qa(this.browserCrypto),L=await He(b.generateCnf.bind(b),he.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(S,this.logger);C.reqCnf=L.reqCnfHash,C.keyId=L.kid}return C}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(eh.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(eh.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Qa)){const i=e.extraParameters[Qa],s=e.redirectUri,o=e.extraParameters[eh.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:i,child_redirect_uri:s},e.redirectUri=o}}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class zn{constructor(e,i,s,o){this.logger=e,this.handshakeTimeoutMs=i,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(he.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const i={channel:po.CHANNEL_ID,extensionId:this.extensionId,responseId:us(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(i)}`),this.messageChannel.port1.postMessage(i),new Promise((s,o)=>{this.resolvers.set(i.responseId,{resolve:s,reject:o})})}static async createProvider(e,i,s){e.trace("NativeMessageHandler - createProvider called.");try{const o=new zn(e,i,s,po.PREFERRED_EXTENSION_ID);return await o.sendHandshakeRequest(),o}catch{const c=new zn(e,i,s);return await c.sendHandshakeRequest(),c}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:po.CHANNEL_ID,extensionId:this.extensionId,responseId:us(),body:{method:ea.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=i=>{this.onChannelMessage(i)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((i,s)=>{this.handshakeResolvers.set(e.responseId,{resolve:i,reject:s}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),s(Ze(Ex)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const i=e.data;if(!(!i.channel||i.channel!==po.CHANNEL_ID)&&!(i.extensionId&&i.extensionId!==this.extensionId)&&i.body.method===ea.HandshakeRequest){const s=this.handshakeResolvers.get(i.responseId);if(!s){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${i.responseId}`);return}this.logger.verbose(i.extensionId?`Extension with id: ${i.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),s.reject(Ze(Rx))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const i=e.data,s=this.resolvers.get(i.responseId),o=this.handshakeResolvers.get(i.responseId);try{const c=i.body.method;if(c===ea.Response){if(!s)return;const u=i.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(u)}`),u.status!=="Success")s.reject(ic(u.code,u.description,u.ext));else if(u.result)u.result.code&&u.result.description?s.reject(ic(u.result.code,u.result.description,u.result.ext)):s.resolve(u.result);else throw mm(Qc,"Event does not contain result.");this.resolvers.delete(i.responseId)}else if(c===ea.HandshakeResponse){if(!o){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${i.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=i.extensionId,this.extensionVersion=i.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),o.resolve(),this.handshakeResolvers.delete(i.responseId)}}catch(c){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${c}`),this.logger.errorPii(`Unable to parse ${e}`),s?s.reject(c):o&&o.reject(c)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,i,s,o){if(i.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return i.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!s)return i.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(o)switch(o){case Qt.BEARER:case Qt.POP:return i.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return i.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Rd{constructor(e,i,s,o,c){this.authModule=e,this.browserStorage=i,this.authCodeRequest=s,this.logger=o,this.performanceClient=c}async handleCodeResponse(e,i){this.performanceClient.addQueueMeasurement(he.HandleCodeResponse,i.correlationId);let s;try{s=this.authModule.handleFragmentResponse(e,i.state)}catch(o){throw o instanceof Ns&&o.subError===ha?Ze(ha):o}return He(this.handleCodeResponseFromServer.bind(this),he.HandleCodeResponseFromServer,this.logger,this.performanceClient,i.correlationId)(s,i)}async handleCodeResponseFromServer(e,i,s=!0){if(this.performanceClient.addQueueMeasurement(he.HandleCodeResponseFromServer,i.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await He(this.authModule.updateAuthority.bind(this.authModule),he.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,i.correlationId)(e.cloud_instance_host_name,i.correlationId),s&&(e.nonce=i.nonce||void 0),e.state=i.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const c=this.createCcsCredentials(i);c&&(this.authCodeRequest.ccsCredential=c)}return await He(this.authModule.acquireToken.bind(this.authModule),he.AuthClientAcquireToken,this.logger,this.performanceClient,i.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ln.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ln.UPN}:null}}/*! @azure/msal-browser v3.13.0 2024-04-11 */function $x(t,e,i){const s=$r(t);if(!s)throw qm(t)?(i.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),i.errorPii(`The ${e} detected is: ${t}`),Ze(dx)):(i.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),Ze(cx));return s}function Yk(t,e,i){if(!t.state)throw Ze(_d);const s=Yx(e,t.state);if(!s)throw Ze(ux);if(s.interactionType!==i)throw Ze(px)}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Xk extends no{constructor(e,i,s,o,c,u,x,C,S,b){super(e,i,s,o,c,u,x,S,b),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=C}acquireToken(e){try{const i=this.generatePopupName(e.scopes||io,e.authority||this.config.auth.authority),s=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,s);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const o=this.openSizedPopup("about:blank",i,s);return this.acquireTokenPopupAsync(e,i,s,o)}}catch(i){return Promise.reject(i)}}logout(e){try{this.logger.verbose("logoutPopup called");const i=this.initializeLogoutRequest(e),s=this.generateLogoutPopupName(i),o=e&&e.authority,c=e&&e.mainWindowRedirectUri,u=(e==null?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(i,s,u,o,void 0,c);{this.logger.verbose("asyncPopup set to false, opening popup");const x=this.openSizedPopup("about:blank",s,u);return this.logoutPopupAsync(i,s,u,o,x,c)}}catch(i){return Promise.reject(i)}}async acquireTokenPopupAsync(e,i,s,o){this.logger.verbose("acquireTokenPopupAsync called");const c=this.initializeServerTelemetryManager(ai.acquireTokenPopup),u=await He(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ot.Popup);zx(u.authority);try{const x=await He(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(u),C=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(c,u.authority,u.azureCloudOptions,u.account),S=zn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let b;S&&(b=this.performanceClient.startMeasurement(he.FetchAccountIdWithNativeBroker,e.correlationId));const L=await C.getAuthCodeUrl({...u,nativeBroker:S}),B=new Rd(C,this.browserStorage,x,this.logger,this.performanceClient),U={popup:o,popupName:i,popupWindowAttributes:s},q=this.initiateAuthRequest(L,U);this.eventHandler.emitEvent(ft.POPUP_OPENED,ot.Popup,{popupWindow:q},null);const ne=await this.monitorPopupForHash(q),ce=pa($x,he.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(ne,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Vn.removeThrottle(this.browserStorage,this.config.auth.clientId,x),ce.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),b&&b.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Ze(zo);const pe=new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,ce.accountId,this.nativeStorage,u.correlationId),{userRequestState:Pe}=In.parseRequestState(this.browserCrypto,u.state);return await pe.acquireToken({...u,state:Pe,prompt:void 0})}return await B.handleCodeResponse(ce,u)}catch(x){throw o&&o.close(),x instanceof ui&&(x.setCorrelationId(this.correlationId),c.cacheFailedRequest(x)),x}}async logoutPopupAsync(e,i,s,o,c,u){var C,S;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ft.LOGOUT_START,ot.Popup,e);const x=this.initializeServerTelemetryManager(ai.logoutPopup);try{await this.clearCacheOnLogout(e.account);const b=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(x,o,void 0,e.account||void 0);try{b.authority.endSessionEndpoint}catch{if((C=e.account)!=null&&C.homeAccountId&&e.postLogoutRedirectUri&&b.authority.protocolMode===rs.OIDC){if(this.browserStorage.removeAccount((S=e.account)==null?void 0:S.homeAccountId),this.eventHandler.emitEvent(ft.LOGOUT_SUCCESS,ot.Popup,e),u){const U={apiId:ai.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},q=Vt.getAbsoluteUrl(u,ss());await this.navigationClient.navigateInternal(q,U)}c&&c.close();return}}const L=b.getLogoutUri(e);this.eventHandler.emitEvent(ft.LOGOUT_SUCCESS,ot.Popup,e);const B=this.openPopup(L,{popupName:i,popupWindowAttributes:s,popup:c});if(this.eventHandler.emitEvent(ft.POPUP_OPENED,ot.Popup,{popupWindow:B},null),await this.monitorPopupForHash(B).catch(()=>{}),u){const U={apiId:ai.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},q=Vt.getAbsoluteUrl(u,ss());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${q}`),await this.navigationClient.navigateInternal(q,U)}else this.logger.verbose("No main window navigation requested")}catch(b){throw c&&c.close(),b instanceof ui&&(b.setCorrelationId(this.correlationId),x.cacheFailedRequest(b)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(ft.LOGOUT_FAILURE,ot.Popup,null,b),this.eventHandler.emitEvent(ft.LOGOUT_END,ot.Popup),b}this.eventHandler.emitEvent(ft.LOGOUT_END,ot.Popup)}initiateAuthRequest(e,i){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,i);throw this.logger.error("Navigate url is empty"),Ze(Al)}monitorPopupForHash(e){return new Promise((i,s)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),s(Ze(ha));return}let c="";try{c=e.location.href}catch{}if(!c||c==="about:blank")return;clearInterval(o);let u="";const x=this.config.auth.OIDCOptions.serverResponseType;e&&(x===Uo.QUERY?u=e.location.search:u=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i(u)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e)})}openPopup(e,i){try{let s;if(i.popup?(s=i.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),s.location.assign(e)):typeof i.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),s=this.openSizedPopup(e,i.popupName,i.popupWindowAttributes)),!s)throw Ze(mx);return s.focus&&s.focus(),this.currentWindow=s,window.addEventListener("beforeunload",this.unloadWindow),s}catch(s){throw this.logger.error("error opening popup "+s.message),this.browserStorage.setInteractionInProgress(!1),Ze(fx)}}openSizedPopup(e,i,s){var B,U,q,ne;const o=window.screenLeft?window.screenLeft:window.screenX,c=window.screenTop?window.screenTop:window.screenY,u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,x=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let C=(B=s.popupSize)==null?void 0:B.width,S=(U=s.popupSize)==null?void 0:U.height,b=(q=s.popupPosition)==null?void 0:q.top,L=(ne=s.popupPosition)==null?void 0:ne.left;return(!C||C<0||C>u)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),C=wn.POPUP_WIDTH),(!S||S<0||S>x)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),S=wn.POPUP_HEIGHT),(!b||b<0||b>x)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),b=Math.max(0,x/2-wn.POPUP_HEIGHT/2+c)),(!L||L<0||L>u)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),L=Math.max(0,u/2-wn.POPUP_WIDTH/2+o)),window.open(e,i,`width=${C}, height=${S}, top=${b}, left=${L}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ot.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,i){return`${wn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${i}.${this.correlationId}`}generateLogoutPopupName(e){const i=e.account&&e.account.homeAccountId;return`${wn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${i}.${this.correlationId}`}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Fp{constructor(e,i,s,o,c){this.authModule=e,this.browserStorage=i,this.authCodeRequest=s,this.logger=o,this.performanceClient=c}async initiateAuthRequest(e,i){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){i.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Kt.ORIGIN_URI,i.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Kt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const s={apiId:ai.acquireTokenRedirect,timeout:i.redirectTimeout,noHistory:!1};if(typeof i.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await i.navigationClient.navigateExternal(e,s);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await i.navigationClient.navigateExternal(e,s);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ze(Al)}async handleCodeResponse(e,i){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const s=this.browserStorage.generateStateKey(i),o=this.browserStorage.getTemporaryCache(s);if(!o)throw Me(Xr,"Cached State");let c;try{c=this.authModule.handleFragmentResponse(e,o)}catch(S){throw S instanceof Ns&&S.subError===ha?Ze(ha):S}const u=this.browserStorage.generateNonceKey(o),x=this.browserStorage.getTemporaryCache(u);if(this.authCodeRequest.code=c.code,c.cloud_instance_host_name&&await He(this.authModule.updateAuthority.bind(this.authModule),he.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(c.cloud_instance_host_name,this.authCodeRequest.correlationId),c.nonce=x||void 0,c.state=o,c.client_info)this.authCodeRequest.clientInfo=c.client_info;else{const S=this.checkCcsCredentials();S&&(this.authCodeRequest.ccsCredential=S)}const C=await this.authModule.acquireToken(this.authCodeRequest,c);return this.browserStorage.cleanRequestByState(i),C}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Kt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class jk extends no{constructor(e,i,s,o,c,u,x,C,S,b){super(e,i,s,o,c,u,x,S,b),this.nativeStorage=C}async acquireToken(e){const i=await He(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ot.Redirect);this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||"",i.account||null);const s=this.initializeServerTelemetryManager(ai.acquireTokenRedirect),o=c=>{c.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(i.state),this.eventHandler.emitEvent(ft.RESTORE_FROM_BFCACHE,ot.Redirect))};try{const c=await He(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),u=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(s,i.authority,i.azureCloudOptions,i.account),x=new Fp(u,this.browserStorage,c,this.logger,this.performanceClient),C=await u.getAuthCodeUrl({...i,nativeBroker:zn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),S=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${S}`),window.addEventListener("pageshow",o),await x.initiateAuthRequest(C,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:S,onRedirectNavigate:e.onRedirectNavigate})}catch(c){throw c instanceof ui&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),window.removeEventListener("pageshow",o),this.browserStorage.cleanRequestByState(i.state),c}}async handleRedirectPromise(e,i,s){const o=this.initializeServerTelemetryManager(ai.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[c,u]=this.getRedirectResponse(e||"");if(!c)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ot.Redirect),i&&s&&(i==null||i.addFields({errorCode:"no_server_response"},s)),null;const x=this.browserStorage.getTemporaryCache(Kt.ORIGIN_URI,!0)||ue.EMPTY_STRING,C=Vt.removeHashFromUrl(x),S=Vt.removeHashFromUrl(window.location.href);if(C===S&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),x.indexOf("#")>-1&&lk(x),await this.handleResponse(c,o);if(this.config.auth.navigateToLoginRequestUrl){if(!Md()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Kt.URL_HASH,u,!0);const b={apiId:ai.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let L=!0;if(!x||x==="null"){const B=ck();this.browserStorage.setTemporaryCache(Kt.ORIGIN_URI,B,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),L=await this.navigationClient.navigateInternal(B,b)}else this.logger.verbose(`Navigating to loginRequestUrl: ${x}`),L=await this.navigationClient.navigateInternal(x,b);if(!L)return await this.handleResponse(c,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(c,o);return null}catch(c){throw c instanceof ui&&(c.setCorrelationId(this.correlationId),o.cacheFailedRequest(c)),this.browserStorage.cleanRequestByInteractionType(ot.Redirect),c}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let i=e;i||(this.config.auth.OIDCOptions.serverResponseType===Uo.QUERY?i=window.location.search:i=window.location.hash);let s=$r(i);if(s){try{Yk(s,this.browserCrypto,ot.Redirect)}catch(c){return c instanceof ui&&this.logger.error(`Interaction type validation failed due to ${c.errorCode}: ${c.errorMessage}`),[null,""]}return rk(window),this.logger.verbose("Hash contains known properties, returning response hash"),[s,i]}const o=this.browserStorage.getTemporaryCache(Kt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Kt.URL_HASH)),o&&(s=$r(o),s)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[s,o]):[null,""]}async handleResponse(e,i){const s=e.state;if(!s)throw Ze(_d);const o=this.browserStorage.getCachedRequest(s);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ze(zo);const C=new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,o.correlationId),{userRequestState:S}=In.parseRequestState(this.browserCrypto,s);return C.acquireToken({...o,state:S,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(s)})}const c=this.browserStorage.getCachedAuthority(s);if(!c)throw Ze(Cd);const u=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(i,c);return Vn.removeThrottle(this.browserStorage,this.config.auth.clientId,o),new Fp(u,this.browserStorage,o,this.logger,this.performanceClient).handleCodeResponse(e,s)}async logout(e){var o,c;this.logger.verbose("logoutRedirect called");const i=this.initializeLogoutRequest(e),s=this.initializeServerTelemetryManager(ai.logout);try{this.eventHandler.emitEvent(ft.LOGOUT_START,ot.Redirect,e),await this.clearCacheOnLogout(i.account);const u={apiId:ai.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},x=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(s,e&&e.authority,void 0,e&&e.account||void 0);if(x.authority.protocolMode===rs.OIDC)try{x.authority.endSessionEndpoint}catch{if((o=i.account)!=null&&o.homeAccountId){this.browserStorage.removeAccount((c=i.account)==null?void 0:c.homeAccountId),this.eventHandler.emitEvent(ft.LOGOUT_SUCCESS,ot.Redirect,i);return}}const C=x.getLogoutUri(i);if(this.eventHandler.emitEvent(ft.LOGOUT_SUCCESS,ot.Redirect,i),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(C)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(C,u);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(C,u);return}}catch(u){throw u instanceof ui&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),this.eventHandler.emitEvent(ft.LOGOUT_FAILURE,ot.Redirect,null,u),this.eventHandler.emitEvent(ft.LOGOUT_END,ot.Redirect),u}this.eventHandler.emitEvent(ft.LOGOUT_END,ot.Redirect)}getRedirectStartPage(e){const i=e||window.location.href;return Vt.getAbsoluteUrl(i,ss())}}/*! @azure/msal-browser v3.13.0 2024-04-11 */async function Kk(t,e,i,s,o){if(e.addQueueMeasurement(he.SilentHandlerInitiateAuthRequest,s),!t)throw i.info("Navigate url is empty"),Ze(Al);return o?He(Gk,he.SilentHandlerLoadFrame,i,e,s)(t,o,e,s):pa(Jk,he.SilentHandlerLoadFrameSync,i,e,s)(t)}async function $k(t,e,i,s,o,c,u){return s.addQueueMeasurement(he.SilentHandlerMonitorIframeForHash,c),new Promise((x,C)=>{e<Zh&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Zh}ms). This may result in timeouts.`);const S=window.setTimeout(()=>{window.clearInterval(b),C(Ze(xx))},e),b=window.setInterval(()=>{let L="";const B=t.contentWindow;try{L=B?B.location.href:""}catch{}if(!L||L==="about:blank")return;let U="";B&&(u===Uo.QUERY?U=B.location.search:U=B.location.hash),window.clearTimeout(S),window.clearInterval(b),x(U)},i)}).finally(()=>{pa(Qk,he.RemoveHiddenIframe,o,s,c)(t)})}function Gk(t,e,i,s){return i.addQueueMeasurement(he.SilentHandlerLoadFrame,s),new Promise((o,c)=>{const u=Gx();window.setTimeout(()=>{if(!u){c("Unable to load iframe");return}u.src=t,o(u)},e)})}function Jk(t){const e=Gx();return e.src=t,e}function Gx(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function Qk(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v3.13.0 2024-04-11 */class qk extends no{constructor(e,i,s,o,c,u,x,C,S,b,L){super(e,i,s,o,c,u,C,b,L),this.apiId=x,this.nativeStorage=S}async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const i={...e};i.prompt?i.prompt!==Ei.NONE&&i.prompt!==Ei.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${i.prompt} with ${Ei.NONE}`),i.prompt=Ei.NONE):i.prompt=Ei.NONE;const s=await He(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(i,ot.Silent);zx(s.authority);const o=this.initializeServerTelemetryManager(this.apiId);try{const c=await He(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)(o,s.authority,s.azureCloudOptions,s.account);return await He(this.silentTokenHelper.bind(this),he.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(c,s)}catch(c){throw c instanceof ui&&(c.setCorrelationId(this.correlationId),o.cacheFailedRequest(c)),c}}logout(){return Promise.reject(Ze(Sl))}async silentTokenHelper(e,i){const s=i.correlationId;this.performanceClient.addQueueMeasurement(he.SilentIframeClientTokenHelper,s);const o=await He(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,s)(i),c=await He(e.getAuthCodeUrl.bind(e),he.GetAuthCodeUrl,this.logger,this.performanceClient,s)({...i,nativeBroker:zn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,i.authenticationScheme)}),u=new Rd(e,this.browserStorage,o,this.logger,this.performanceClient),x=await He(Kk,he.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(c,this.performanceClient,this.logger,s,this.config.system.navigateFrameWait),C=this.config.auth.OIDCOptions.serverResponseType,S=await He($k,he.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(x,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,s,C),b=pa($x,he.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(S,C,this.logger);if(b.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ze(zo);const L=new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,b.accountId,this.browserStorage,s),{userRequestState:B}=In.parseRequestState(this.browserCrypto,i.state);return He(L.acquireToken.bind(L),he.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,s)({...i,state:B,prompt:i.prompt||Ei.NONE})}return He(u.handleCodeResponse.bind(u),he.HandleCodeResponse,this.logger,this.performanceClient,s)(b,i)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Zk extends no{async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentRefreshClientAcquireToken,e.correlationId);const i=await He(Ed,he.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),s={...e,...i};e.redirectUri&&(s.redirectUri=this.getRedirectUri(e.redirectUri));const o=this.initializeServerTelemetryManager(ai.acquireTokenSilent_silentFlow),c=await this.createRefreshTokenClient(o,s.authority,s.azureCloudOptions,s.account);return He(c.acquireTokenByRefreshToken.bind(c),he.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(s).catch(u=>{throw u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u),u})}logout(){return Promise.reject(Ze(Sl))}async createRefreshTokenClient(e,i,s,o){const c=await He(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,i,s,o);return new Gh(c,this.performanceClient)}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class eA{constructor(e,i,s,o){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=i,this.logger=s,this.cryptoObj=o}loadExternalTokens(e,i,s){if(this.logger.info("TokenCache - loadExternalTokens called"),!i.id_token)throw Ze(_n);const o=ua(i.id_token,jn);let c,u,x;if(e.account)x=ki.createFromAccountInfo(e.account),c=new Na(x,this.loadIdToken(i.id_token,x.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,i,x.homeAccountId,e.account.environment,e.account.tenantId,s),this.loadRefreshToken(e,i,x.homeAccountId,e.account.environment));else if(e.authority){const C=Hi.generateAuthority(e.authority,e.azureCloudOptions),S={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(u=new Hi(C,this.config.system.networkClient,this.storage,S,this.logger,e.correlationId||us()),s.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),x=this.loadAccount(o,u,s.clientInfo),c=new Na(x,this.loadIdToken(i.id_token,x.homeAccountId,u.hostnameAndPort,u.tenant),this.loadAccessToken(e,i,x.homeAccountId,u.hostnameAndPort,u.tenant,s),this.loadRefreshToken(e,i,x.homeAccountId,u.hostnameAndPort));else if(i.client_info)this.logger.trace("TokenCache - homeAccountId from response"),x=this.loadAccount(o,u,i.client_info),c=new Na(x,this.loadIdToken(i.id_token,x.homeAccountId,u.hostnameAndPort,u.tenant),this.loadAccessToken(e,i,x.homeAccountId,u.hostnameAndPort,u.tenant,s),this.loadRefreshToken(e,i,x.homeAccountId,u.hostnameAndPort));else throw Ze(_n)}else throw Ze(_n);return this.generateAuthenticationResult(e,o,c,x,u)}loadAccount(e,i,s,o){if(this.isBrowserEnvironment){this.logger.verbose("TokenCache - loading account");let c;if(o?c=o:i.authorityType!==void 0&&s&&(c=ki.generateHomeAccountId(s,i.authorityType,this.logger,this.cryptoObj,e)),!c)throw Ze(_n);const u=e.tid,x=xd(this.storage,i,c,e,jn,s,i.hostnameAndPort,u,void 0,void 0,this.logger);return this.storage.setAccount(x),x}else throw Ze(_n)}loadIdToken(e,i,s,o){const c=_l(i,s,e,this.config.auth.clientId,o);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(c),c;throw Ze(_n)}loadAccessToken(e,i,s,o,c,u){if(!i.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!i.expires_in||!u.extendedExpiresOn)throw Ze(_n);const x=new bi(e.scopes).printScopes(),C=u.expiresOn||i.expires_in+new Date().getTime()/1e3,S=u.extendedExpiresOn,b=Cl(s,o,i.access_token,this.config.auth.clientId,c,x,C,S,jn);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(b),b;throw Ze(_n)}loadRefreshToken(e,i,s,o){if(!i.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const c=Fm(s,o,i.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(c),c;throw Ze(_n)}generateAuthenticationResult(e,i,s,o,c){var B,U;let u=ue.EMPTY_STRING,x=[],C=null,S;s!=null&&s.accessToken&&(u=s.accessToken.secret,x=bi.fromString(s.accessToken.target).asArray(),C=new Date(Number(s.accessToken.expiresOn)*1e3),S=new Date(Number(s.accessToken.extendedExpiresOn)*1e3));const b=i.oid||i.sub||ue.EMPTY_STRING,L=i.tid||ue.EMPTY_STRING;return{authority:c?c.canonicalAuthority:ue.EMPTY_STRING,uniqueId:b,tenantId:L,scopes:x,account:o.getAccountInfo(),idToken:((B=s.idToken)==null?void 0:B.secret)||"",idTokenClaims:i||{},accessToken:u,fromCache:!0,expiresOn:C,correlationId:e.correlationId||ue.EMPTY_STRING,requestId:ue.EMPTY_STRING,extExpiresOn:S,familyId:ue.EMPTY_STRING,tokenType:((U=s==null?void 0:s.accessToken)==null?void 0:U.tokenType)||ue.EMPTY_STRING,state:ue.EMPTY_STRING,cloudGraphHostName:o.cloudGraphHostName||ue.EMPTY_STRING,msGraphHost:o.msGraphHost||ue.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class tA extends ox{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class iA extends no{constructor(e,i,s,o,c,u,x,C,S,b){super(e,i,s,o,c,u,C,S,b),this.apiId=x}async acquireToken(e){if(!e.code)throw Ze(Sx);const i=await He(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ot.Silent),s=this.initializeServerTelemetryManager(this.apiId);try{const o={...i,code:e.code},c=await He(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)(s,i.authority,i.azureCloudOptions,i.account),u=new tA(c);this.logger.verbose("Auth code client created");const x=new Rd(u,this.browserStorage,o,this.logger,this.performanceClient);return await He(x.handleCodeResponseFromServer.bind(x),he.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},i,!1)}catch(o){throw o instanceof ui&&(o.setCorrelationId(this.correlationId),s.cacheFailedRequest(o)),o}}logout(){return Promise.reject(Ze(Sl))}}/*! @azure/msal-browser v3.13.0 2024-04-11 */class Il{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Za(this.logger,this.performanceClient):jr,this.eventHandler=new Ik(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new tc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,Iw(this.config.auth),this.performanceClient):Mk(this.config.auth.clientId,this.logger);const i={cacheLocation:Ti.MemoryStorage,temporaryCacheLocation:Ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new tc(this.config.auth.clientId,i,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new eA(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e){const i=new Il(e);return await i.initialize(),i}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}const e=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(he.InitializeClientApplication);if(this.eventHandler.emitEvent(ft.INITIALIZE_START),e)try{this.nativeExtensionProvider=await zn.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await He(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),he.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient)(this.performanceClient)),this.initialized=!0,this.eventHandler.emitEvent(ft.INITIALIZE_END),i.end({allowNativeBroker:e,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Ux(this.initialized),this.isBrowserEnvironment){const i=e||"";let s=this.redirectResponse.get(i);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(i,s),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),s}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const i=this.getAllAccounts(),s=this.browserStorage.getCachedNativeRequest(),o=s&&zn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,c=o?s==null?void 0:s.correlationId:this.browserStorage.getTemporaryCache(Kt.CORRELATION_ID,!0)||"",u=this.performanceClient.startMeasurement("acquireTokenRedirect",c);this.eventHandler.emitEvent(ft.HANDLE_REDIRECT_START,ot.Redirect);let x;if(o&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const C=new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,s.accountId,this.nativeInternalStorage,s.correlationId);x=He(C.handleRedirectPromise.bind(C),he.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,u.event.correlationId)(this.performanceClient,u.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const C=this.createRedirectClient(c);x=He(C.handleRedirectPromise.bind(C),he.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,u.event.correlationId)(e,this.performanceClient,u.event.correlationId)}return x.then(C=>(C&&(i.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ft.LOGIN_SUCCESS,ot.Redirect,C),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_SUCCESS,ot.Redirect,C),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),u.end({success:!0})),this.eventHandler.emitEvent(ft.HANDLE_REDIRECT_END,ot.Redirect),u.end({success:!1}),C)).catch(C=>{const S=C;throw i.length>0?this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_FAILURE,ot.Redirect,null,S):this.eventHandler.emitEvent(ft.LOGIN_FAILURE,ot.Redirect,null,S),this.eventHandler.emitEvent(ft.HANDLE_REDIRECT_END,ot.Redirect),u.end({success:!1},S),C})}async acquireTokenRedirect(e){const i=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",i),Rp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);const s=this.getAllAccounts().length>0;s?this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_START,ot.Redirect,e):this.eventHandler.emitEvent(ft.LOGIN_START,ot.Redirect,e);let o;return this.nativeExtensionProvider&&this.canUseNative(e)?o=new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,i).acquireTokenRedirect(e).catch(u=>{if(u instanceof is&&Ma(u))return this.nativeExtensionProvider=void 0,this.createRedirectClient(i).acquireToken(e);if(u instanceof En)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(i).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),u}):o=this.createRedirectClient(i).acquireToken(e),o.catch(c=>{throw s?this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_FAILURE,ot.Redirect,null,c):this.eventHandler.emitEvent(ft.LOGIN_FAILURE,ot.Redirect,null,c),c})}acquireTokenPopup(e){const i=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(he.AcquireTokenPopup,i);try{this.logger.verbose("acquireTokenPopup called",i),Sa(this.initialized),this.browserStorage.setInteractionInProgress(!0)}catch(u){return Promise.reject(u)}const o=this.getAllAccounts();o.length>0?this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_START,ot.Popup,e):this.eventHandler.emitEvent(ft.LOGIN_START,ot.Popup,e);let c;return this.canUseNative(e)?c=this.acquireTokenNative({...e,correlationId:i},ai.acquireTokenPopup).then(u=>(this.browserStorage.setInteractionInProgress(!1),s.end({success:!0,isNativeBroker:!0,requestId:u.requestId}),u)).catch(u=>{if(u instanceof is&&Ma(u))return this.nativeExtensionProvider=void 0,this.createPopupClient(i).acquireToken(e);if(u instanceof En)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(i).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),u}):c=this.createPopupClient(i).acquireToken(e),c.then(u=>(o.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ft.LOGIN_SUCCESS,ot.Popup,u):this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_SUCCESS,ot.Popup,u),s.add({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),s.end({success:!0,requestId:u.requestId}),u)).catch(u=>(o.length>0?this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_FAILURE,ot.Popup,null,u):this.eventHandler.emitEvent(ft.LOGIN_FAILURE,ot.Popup,null,u),s.end({success:!1},u),Promise.reject(u)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var c;const i=this.getRequestCorrelationId(e),s={...e,prompt:e.prompt,correlationId:i};Sa(this.initialized),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(he.SsoSilent,i),(c=this.ssoSilentMeasurement)==null||c.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",i),this.eventHandler.emitEvent(ft.SSO_SILENT_START,ot.Silent,s);let o;return this.canUseNative(s)?o=this.acquireTokenNative(s,ai.ssoSilent).catch(u=>{if(u instanceof is&&Ma(u))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw u}):o=this.createSilentIframeClient(s.correlationId).acquireToken(s),o.then(u=>{var x,C;return this.eventHandler.emitEvent(ft.SSO_SILENT_SUCCESS,ot.Silent,u),(x=this.ssoSilentMeasurement)==null||x.add({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),(C=this.ssoSilentMeasurement)==null||C.end({success:!0,isNativeBroker:u.fromNativeBroker,requestId:u.requestId}),u}).catch(u=>{var x;throw this.eventHandler.emitEvent(ft.SSO_SILENT_FAILURE,ot.Silent,null,u),(x=this.ssoSilentMeasurement)==null||x.end({success:!1},u),u}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const i=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",i),Sa(this.initialized),this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_BY_CODE_START,ot.Silent,e);const s=this.performanceClient.startMeasurement(he.AcquireTokenByCode,i);try{if(e.code&&e.nativeAccountId)throw Ze(Ix);if(e.code){const o=e.code;let c=this.hybridAuthCodeResponses.get(o);return c?(this.logger.verbose("Existing acquireTokenByCode request found",i),s.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",i),c=this.acquireTokenByCodeAsync({...e,correlationId:i}).then(u=>(this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ot.Silent,u),this.hybridAuthCodeResponses.delete(o),s.add({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),s.end({success:!0,isNativeBroker:u.fromNativeBroker,requestId:u.requestId}),u)).catch(u=>{throw this.hybridAuthCodeResponses.delete(o),this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_BY_CODE_FAILURE,ot.Silent,null,u),s.end({success:!1},u),u}),this.hybridAuthCodeResponses.set(o,c)),await c}else if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return await this.acquireTokenNative({...e,correlationId:i},ai.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof is&&Ma(o)&&(this.nativeExtensionProvider=void 0),o});throw Ze(Px)}else throw Ze(Mx)}catch(o){throw this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_BY_CODE_FAILURE,ot.Silent,null,o),s.end({success:!1},o),o}}async acquireTokenByCodeAsync(e){var o;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(he.AcquireTokenByCodeAsync,e.correlationId),(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(c=>{var u;return(u=this.acquireTokenByCodeAsyncMeasurement)==null||u.end({success:!0,fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c}).catch(c=>{var u;throw(u=this.acquireTokenByCodeAsyncMeasurement)==null||u.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,i){switch(this.performanceClient.addQueueMeasurement(he.AcquireTokenFromCache,e.correlationId),i){case an.Default:case an.AccessToken:case an.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(e.correlationId);return He(s.acquireToken.bind(s),he.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Me(ns)}}async acquireTokenByRefreshToken(e,i){switch(this.performanceClient.addQueueMeasurement(he.AcquireTokenByRefreshToken,e.correlationId),i){case an.Default:case an.AccessTokenAndRefreshToken:case an.RefreshToken:case an.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(e.correlationId);return He(s.acquireToken.bind(s),he.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Me(ns)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(he.AcquireTokenBySilentIframe,e.correlationId);const i=this.createSilentIframeClient(e.correlationId);return He(i.acquireToken.bind(i),he.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const i=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",i),this.logoutRedirect({correlationId:i,...e})}async logoutRedirect(e){const i=this.getRequestCorrelationId(e);return Rp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(i).logout(e)}logoutPopup(e){try{const i=this.getRequestCorrelationId(e);return Sa(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(i).logout(e)}catch(i){return Promise.reject(i)}}async clearCache(e){const i=this.getRequestCorrelationId(e);return this.createSilentCacheClient(i).logout(e)}getAllAccounts(e){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(e):[]}getAccount(e){if(this.logger.trace("getAccount called"),Object.keys(e).length===0)return this.logger.warning("getAccount: No accountFilter provided"),null;const i=this.browserStorage.getAccountInfoFilteredBy(e);return i?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),i):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(e){if(this.logger.trace("getAccountByUsername called"),!e)return this.logger.warning("getAccountByUsername: No username provided"),null;const i=this.browserStorage.getAccountInfoFilteredBy({username:e});return i?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),i):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(e){if(this.logger.trace("getAccountByHomeId called"),!e)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e});return i?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),i):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(e){if(this.logger.trace("getAccountByLocalId called"),!e)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const i=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e});return i?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),i):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(e){this.browserStorage.setActiveAccount(e)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,i){this.logger.verbose("hydrateCache called");const s=ki.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(s),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,i)):this.browserStorage.hydrateCache(e,i)}async acquireTokenNative(e,i,s){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Ze(zo);return new Va(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,i,this.performanceClient,this.nativeExtensionProvider,s||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,i){if(this.logger.trace("canUseNative called"),!zn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ei.NONE:case Ei.CONSENT:case Ei.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!i&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const i=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return i&&i.nativeAccountId||""}createPopupClient(e){return new Xk(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new jk(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new qk(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Kx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Zk(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new iA(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,i){this.browserStorage.setWrapperMetadata(e,i)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?us():ue.EMPTY_STRING}async loginRedirect(e){const i=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",i),this.acquireTokenRedirect({correlationId:i,...e||Ip})}loginPopup(e){const i=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",i),this.acquireTokenPopup({correlationId:i,...e||Ip})}async acquireTokenSilent(e){const i=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(he.AcquireTokenSilent,i);s.add({cacheLookupPolicy:e.cacheLookupPolicy}),Sa(this.initialized),this.logger.verbose("acquireTokenSilent called",i);const o=e.account||this.getActiveAccount();if(!o)throw Ze(_x);const c={clientId:this.config.auth.clientId,authority:e.authority||ue.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:o.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},u=JSON.stringify(c),x=this.activeSilentTokenRequests.get(u);if(typeof x>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",i);const C=He(this.acquireTokenSilentAsync.bind(this),he.AcquireTokenSilentAsync,this.logger,this.performanceClient,i)({...e,correlationId:i},o).then(S=>(this.activeSilentTokenRequests.delete(u),s.add({accessTokenSize:S.accessToken.length,idTokenSize:S.idToken.length}),s.end({success:!0,fromCache:S.fromCache,isNativeBroker:S.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:S.requestId}),S)).catch(S=>{throw this.activeSilentTokenRequests.delete(u),s.end({success:!1},S),S});return this.activeSilentTokenRequests.set(u,C),{...await C,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",i),s.discard(),{...await x,state:e.state}}async acquireTokenSilentAsync(e,i){this.performanceClient.addQueueMeasurement(he.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_START,ot.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",()=>this.trackPageVisibility(e.correlationId));const s=await He(Ok,he.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,i,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||an.Default;return this.acquireTokenSilentNoIframe(s,o).catch(async u=>{if(nA(u,o))if(this.activeIframeRequest)if(o!==an.Skip){const[C,S]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${S}`,s.correlationId);const b=this.performanceClient.startMeasurement(he.AwaitConcurrentIframe,s.correlationId);return b.add({awaitIframeCorrelationId:S}),await C.catch(()=>{throw b.end({success:!1}),this.logger.info(`Iframe request with correlationId: ${S} failed. Interaction is required.`),u}),C.then(()=>(b.end({success:!0}),this.logger.verbose(`Parallel iframe request with correlationId: ${S} succeeded. Retrying cache and/or RT redemption`,s.correlationId),this.acquireTokenSilentNoIframe(s,o)))}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",s.correlationId),He(this.acquireTokenBySilentIframe.bind(this),he.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s);else{let C,S;return this.activeIframeRequest=[new Promise((b,L)=>{C=b,S=L}),s.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),He(this.acquireTokenBySilentIframe.bind(this),he.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s).then(b=>(C(),b)).catch(b=>{throw S(b),b}).finally(()=>{this.activeIframeRequest=void 0})}else throw u}).then(u=>(this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_SUCCESS,ot.Silent,u),e.correlationId&&this.performanceClient.addFields({fromCache:u.fromCache,isNativeBroker:u.fromNativeBroker,requestId:u.requestId},e.correlationId),u)).catch(u=>{throw this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_FAILURE,ot.Silent,null,u),u}).finally(()=>{document.removeEventListener("visibilitychange",()=>this.trackPageVisibility(e.correlationId))})}async acquireTokenSilentNoIframe(e,i){return zn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ai.acquireTokenSilent_silentFlow).catch(async s=>{throw s instanceof is&&Ma(s)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Me(ns)):s})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),He(this.acquireTokenFromCache.bind(this),he.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,i).catch(s=>{if(i===an.AccessToken)throw s;return this.eventHandler.emitEvent(ft.ACQUIRE_TOKEN_NETWORK_START,ot.Silent,e),He(this.acquireTokenByRefreshToken.bind(this),he.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,i)}))}}function nA(t,e){const i=!(t instanceof En&&t.subError!==kl),s=t.errorCode===wn.INVALID_GRANT_ERROR||t.errorCode===ns,o=i&&s||t.errorCode===Jr||t.errorCode===md,c=Jw.includes(e);return o&&c}const sA=Object.freeze(Object.defineProperty({__proto__:null,StandardController:Il},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser v3.13.0 2024-04-11 */class Ld{static async createPublicClientApplication(e){const i=await wk(e);return new Ld(e,i)}constructor(e,i){if(i)this.controller=i;else{const s=new ca(e);this.controller=new Il(s)}}async initialize(){return this.controller.initialize()}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,i){return this.controller.initializeWrapperLibrary(e,i)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,i){return this.controller.hydrateCache(e,i)}clearCache(e){return this.controller.clearCache(e)}}const aA={auth:{clientId:"deb9cf48-2bd2-49a9-886f-f733de947583",authority:"https://login.microsoftonline.com/4b1b908c-5582-4377-ba07-a36d65e34934",redirectUri:window.location.origin,postLogoutUri:window.location.origin},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}},Dp=to({isAuthenticated:!1,user:null}),Fn=new Ld(aA);/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var oA="store";function so(t,e){Object.keys(t).forEach(function(i){return e(t[i],i)})}function Jx(t){return t!==null&&typeof t=="object"}function rA(t){return t&&typeof t.then=="function"}function lA(t,e){return function(){return t(e)}}function Qx(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function qx(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;Pl(t,i,[],t._modules.root,!0),Od(t,i,e)}function Od(t,e,i){var s=t._state,o=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var c=t._wrappedGetters,u={},x={},C=nv(!0);C.run(function(){so(c,function(S,b){u[b]=lA(S,t),x[b]=un(function(){return u[b]()}),Object.defineProperty(t.getters,b,{get:function(){return x[b].value},enumerable:!0})})}),t._state=to({data:e}),t._scope=C,t.strict&&pA(t),s&&i&&t._withCommit(function(){s.data=null}),o&&o.stop()}function Pl(t,e,i,s,o){var c=!i.length,u=t._modules.getNamespace(i);if(s.namespaced&&(t._modulesNamespaceMap[u],t._modulesNamespaceMap[u]=s),!c&&!o){var x=Bd(e,i.slice(0,-1)),C=i[i.length-1];t._withCommit(function(){x[C]=s.state})}var S=s.context=hA(t,u,i);s.forEachMutation(function(b,L){var B=u+L;cA(t,B,b,S)}),s.forEachAction(function(b,L){var B=b.root?L:u+L,U=b.handler||b;dA(t,B,U,S)}),s.forEachGetter(function(b,L){var B=u+L;uA(t,B,b,S)}),s.forEachChild(function(b,L){Pl(t,e,i.concat(L),b,o)})}function hA(t,e,i){var s=e==="",o={dispatch:s?t.dispatch:function(c,u,x){var C=il(c,u,x),S=C.payload,b=C.options,L=C.type;return(!b||!b.root)&&(L=e+L),t.dispatch(L,S)},commit:s?t.commit:function(c,u,x){var C=il(c,u,x),S=C.payload,b=C.options,L=C.type;(!b||!b.root)&&(L=e+L),t.commit(L,S,b)}};return Object.defineProperties(o,{getters:{get:s?function(){return t.getters}:function(){return Zx(t,e)}},state:{get:function(){return Bd(t.state,i)}}}),o}function Zx(t,e){if(!t._makeLocalGettersCache[e]){var i={},s=e.length;Object.keys(t.getters).forEach(function(o){if(o.slice(0,s)===e){var c=o.slice(s);Object.defineProperty(i,c,{get:function(){return t.getters[o]},enumerable:!0})}}),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function cA(t,e,i,s){var o=t._mutations[e]||(t._mutations[e]=[]);o.push(function(u){i.call(t,s.state,u)})}function dA(t,e,i,s){var o=t._actions[e]||(t._actions[e]=[]);o.push(function(u){var x=i.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},u);return rA(x)||(x=Promise.resolve(x)),t._devtoolHook?x.catch(function(C){throw t._devtoolHook.emit("vuex:error",C),C}):x})}function uA(t,e,i,s){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(c){return i(s.state,s.getters,c.state,c.getters)})}function pA(t){Ba(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Bd(t,e){return e.reduce(function(i,s){return i[s]},t)}function il(t,e,i){return Jx(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}var gA="vuex bindings",Np="vuex:mutations",th="vuex:actions",_a="vuex",fA=0;function mA(t,e){A0({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[gA]},function(i){i.addTimelineLayer({id:Np,label:"Vuex Mutations",color:Vp}),i.addTimelineLayer({id:th,label:"Vuex Actions",color:Vp}),i.addInspector({id:_a,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree(function(s){if(s.app===t&&s.inspectorId===_a)if(s.filter){var o=[];ny(o,e._modules.root,s.filter,""),s.rootNodes=o}else s.rootNodes=[iy(e._modules.root,"")]}),i.on.getInspectorState(function(s){if(s.app===t&&s.inspectorId===_a){var o=s.nodeId;Zx(e,o),s.state=vA(_A(e._modules,o),o==="root"?e.getters:e._makeLocalGettersCache,o)}}),i.on.editInspectorState(function(s){if(s.app===t&&s.inspectorId===_a){var o=s.nodeId,c=s.path;o!=="root"&&(c=o.split("/").filter(Boolean).concat(c)),e._withCommit(function(){s.set(e._state.data,c,s.state.value)})}}),e.subscribe(function(s,o){var c={};s.payload&&(c.payload=s.payload),c.state=o,i.notifyComponentUpdate(),i.sendInspectorTree(_a),i.sendInspectorState(_a),i.addTimelineEvent({layerId:Np,event:{time:Date.now(),title:s.type,data:c}})}),e.subscribeAction({before:function(s,o){var c={};s.payload&&(c.payload=s.payload),s._id=fA++,s._time=Date.now(),c.state=o,i.addTimelineEvent({layerId:th,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:c}})},after:function(s,o){var c={},u=Date.now()-s._time;c.duration={_custom:{type:"duration",display:u+"ms",tooltip:"Action duration",value:u}},s.payload&&(c.payload=s.payload),c.state=o,i.addTimelineEvent({layerId:th,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:c}})}})})}var Vp=8702998,xA=6710886,yA=16777215,ey={label:"namespaced",textColor:yA,backgroundColor:xA};function ty(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function iy(t,e){return{id:e||"root",label:ty(e),tags:t.namespaced?[ey]:[],children:Object.keys(t._children).map(function(i){return iy(t._children[i],e+i+"/")})}}function ny(t,e,i,s){s.includes(i)&&t.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[ey]:[]}),Object.keys(e._children).forEach(function(o){ny(t,e._children[o],i,s+o+"/")})}function vA(t,e,i){e=i==="root"?e:e[i];var s=Object.keys(e),o={state:Object.keys(t.state).map(function(u){return{key:u,editable:!0,value:t.state[u]}})};if(s.length){var c=bA(e);o.getters=Object.keys(c).map(function(u){return{key:u.endsWith("/")?ty(u):u,editable:!1,value:nc(function(){return c[u]})}})}return o}function bA(t){var e={};return Object.keys(t).forEach(function(i){var s=i.split("/");if(s.length>1){var o=e,c=s.pop();s.forEach(function(u){o[u]||(o[u]={_custom:{value:{},display:u,tooltip:"Module",abstract:!0}}),o=o[u]._custom.value}),o[c]=nc(function(){return t[i]})}else e[i]=nc(function(){return t[i]})}),e}function _A(t,e){var i=e.split("/").filter(function(s){return s});return i.reduce(function(s,o,c){var u=s[o];if(!u)throw new Error('Missing module "'+o+'" for path "'+e+'".');return c===i.length-1?u:u._children},e==="root"?t:t.root._children)}function nc(t){try{return t()}catch(e){return e}}var Ln=function(e,i){this.runtime=i,this._children=Object.create(null),this._rawModule=e;var s=e.state;this.state=(typeof s=="function"?s():s)||{}},sy={namespaced:{configurable:!0}};sy.namespaced.get=function(){return!!this._rawModule.namespaced};Ln.prototype.addChild=function(e,i){this._children[e]=i};Ln.prototype.removeChild=function(e){delete this._children[e]};Ln.prototype.getChild=function(e){return this._children[e]};Ln.prototype.hasChild=function(e){return e in this._children};Ln.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Ln.prototype.forEachChild=function(e){so(this._children,e)};Ln.prototype.forEachGetter=function(e){this._rawModule.getters&&so(this._rawModule.getters,e)};Ln.prototype.forEachAction=function(e){this._rawModule.actions&&so(this._rawModule.actions,e)};Ln.prototype.forEachMutation=function(e){this._rawModule.mutations&&so(this._rawModule.mutations,e)};Object.defineProperties(Ln.prototype,sy);var ga=function(e){this.register([],e,!1)};ga.prototype.get=function(e){return e.reduce(function(i,s){return i.getChild(s)},this.root)};ga.prototype.getNamespace=function(e){var i=this.root;return e.reduce(function(s,o){return i=i.getChild(o),s+(i.namespaced?o+"/":"")},"")};ga.prototype.update=function(e){ay([],this.root,e)};ga.prototype.register=function(e,i,s){var o=this;s===void 0&&(s=!0);var c=new Ln(i,s);if(e.length===0)this.root=c;else{var u=this.get(e.slice(0,-1));u.addChild(e[e.length-1],c)}i.modules&&so(i.modules,function(x,C){o.register(e.concat(C),x,s)})};ga.prototype.unregister=function(e){var i=this.get(e.slice(0,-1)),s=e[e.length-1],o=i.getChild(s);o&&o.runtime&&i.removeChild(s)};ga.prototype.isRegistered=function(e){var i=this.get(e.slice(0,-1)),s=e[e.length-1];return i?i.hasChild(s):!1};function ay(t,e,i){if(e.update(i),i.modules)for(var s in i.modules){if(!e.getChild(s))return;ay(t.concat(s),e.getChild(s),i.modules[s])}}function CA(t){return new nn(t)}var nn=function(e){var i=this;e===void 0&&(e={});var s=e.plugins;s===void 0&&(s=[]);var o=e.strict;o===void 0&&(o=!1);var c=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ga(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=c;var u=this,x=this,C=x.dispatch,S=x.commit;this.dispatch=function(B,U){return C.call(u,B,U)},this.commit=function(B,U,q){return S.call(u,B,U,q)},this.strict=o;var b=this._modules.root.state;Pl(this,b,[],this._modules.root),Od(this,b),s.forEach(function(L){return L(i)})},Fd={state:{configurable:!0}};nn.prototype.install=function(e,i){e.provide(i||oA,this),e.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&mA(e,this)};Fd.state.get=function(){return this._state.data};Fd.state.set=function(t){};nn.prototype.commit=function(e,i,s){var o=this,c=il(e,i,s),u=c.type,x=c.payload,C={type:u,payload:x},S=this._mutations[u];S&&(this._withCommit(function(){S.forEach(function(L){L(x)})}),this._subscribers.slice().forEach(function(b){return b(C,o.state)}))};nn.prototype.dispatch=function(e,i){var s=this,o=il(e,i),c=o.type,u=o.payload,x={type:c,payload:u},C=this._actions[c];if(C){try{this._actionSubscribers.slice().filter(function(b){return b.before}).forEach(function(b){return b.before(x,s.state)})}catch{}var S=C.length>1?Promise.all(C.map(function(b){return b(u)})):C[0](u);return new Promise(function(b,L){S.then(function(B){try{s._actionSubscribers.filter(function(U){return U.after}).forEach(function(U){return U.after(x,s.state)})}catch{}b(B)},function(B){try{s._actionSubscribers.filter(function(U){return U.error}).forEach(function(U){return U.error(x,s.state,B)})}catch{}L(B)})})}};nn.prototype.subscribe=function(e,i){return Qx(e,this._subscribers,i)};nn.prototype.subscribeAction=function(e,i){var s=typeof e=="function"?{before:e}:e;return Qx(s,this._actionSubscribers,i)};nn.prototype.watch=function(e,i,s){var o=this;return Ba(function(){return e(o.state,o.getters)},i,Object.assign({},s))};nn.prototype.replaceState=function(e){var i=this;this._withCommit(function(){i._state.data=e})};nn.prototype.registerModule=function(e,i,s){s===void 0&&(s={}),typeof e=="string"&&(e=[e]),this._modules.register(e,i),Pl(this,this.state,e,this._modules.get(e),s.preserveState),Od(this,this.state)};nn.prototype.unregisterModule=function(e){var i=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var s=Bd(i.state,e.slice(0,-1));delete s[e[e.length-1]]}),qx(this)};nn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};nn.prototype.hotUpdate=function(e){this._modules.update(e),qx(this,!0)};nn.prototype._withCommit=function(e){var i=this._committing;this._committing=!0,e(),this._committing=i};Object.defineProperties(nn.prototype,Fd);var Ki=kA(function(t,e){var i={};return TA(e).forEach(function(s){var o=s.key,c=s.val;c=t+c,i[o]=function(){if(!(t&&!AA(this.$store,"mapGetters",t)))return this.$store.getters[c]},i[o].vuex=!0}),i});function TA(t){return wA(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function wA(t){return Array.isArray(t)||Jx(t)}function kA(t){return function(e,i){return typeof e!="string"?(i=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,i)}}function AA(t,e,i){var s=t._modulesNamespaceMap[i];return s}const Ia=CA({state(){return{isAuthenticated:!1,userType:null,user:null}},mutations:{SET_USER(t,e){t.user=e,t.isAuthenticated=!0},GET_USERT(t){return t.userType},SET_USER_TYPE(t,e){t.userType=e},CLEAR_USER(t){t.user=null,t.isAuthenticated=!1}},actions:{loginUser({commit:t},e,i){t("SET_USER",e),t("SET_USER_TYPE",i)},setUserType({commit:t},e){t("SET_USER_TYPE",e)},gettUserType({state:t}){return t.userType},logoutUser({commit:t}){t("CLEAR_USER")}},getters:{isAuthenticated(t){return t.isAuthenticated},getUserType(t){return t.userType},getUser(t){return t.user}}}),oi="https://ezezimalii.azurewebsites.net/";function Dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nd={exports:{}},oy=function(e,i){return function(){for(var o=new Array(arguments.length),c=0;c<o.length;c++)o[c]=arguments[c];return e.apply(i,o)}},SA=oy,fa=Object.prototype.toString;function Vd(t){return fa.call(t)==="[object Array]"}function sc(t){return typeof t>"u"}function MA(t){return t!==null&&!sc(t)&&t.constructor!==null&&!sc(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function IA(t){return fa.call(t)==="[object ArrayBuffer]"}function PA(t){return typeof FormData<"u"&&t instanceof FormData}function EA(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function RA(t){return typeof t=="string"}function LA(t){return typeof t=="number"}function ry(t){return t!==null&&typeof t=="object"}function br(t){if(fa.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function OA(t){return fa.call(t)==="[object Date]"}function BA(t){return fa.call(t)==="[object File]"}function FA(t){return fa.call(t)==="[object Blob]"}function ly(t){return fa.call(t)==="[object Function]"}function DA(t){return ry(t)&&ly(t.pipe)}function NA(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function VA(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function HA(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Hd(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Vd(t))for(var i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function ac(){var t={};function e(o,c){br(t[c])&&br(o)?t[c]=ac(t[c],o):br(o)?t[c]=ac({},o):Vd(o)?t[c]=o.slice():t[c]=o}for(var i=0,s=arguments.length;i<s;i++)Hd(arguments[i],e);return t}function WA(t,e,i){return Hd(e,function(o,c){i&&typeof o=="function"?t[c]=SA(o,i):t[c]=o}),t}function UA(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var cn={isArray:Vd,isArrayBuffer:IA,isBuffer:MA,isFormData:PA,isArrayBufferView:EA,isString:RA,isNumber:LA,isObject:ry,isPlainObject:br,isUndefined:sc,isDate:OA,isFile:BA,isBlob:FA,isFunction:ly,isStream:DA,isURLSearchParams:NA,isStandardBrowserEnv:HA,forEach:Hd,merge:ac,extend:WA,trim:VA,stripBOM:UA},Ca=cn;function Hp(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hy=function(e,i,s){if(!i)return e;var o;if(s)o=s(i);else if(Ca.isURLSearchParams(i))o=i.toString();else{var c=[];Ca.forEach(i,function(C,S){C===null||typeof C>"u"||(Ca.isArray(C)?S=S+"[]":C=[C],Ca.forEach(C,function(L){Ca.isDate(L)?L=L.toISOString():Ca.isObject(L)&&(L=JSON.stringify(L)),c.push(Hp(S)+"="+Hp(L))}))}),o=c.join("&")}if(o){var u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e},zA=cn;function El(){this.handlers=[]}El.prototype.use=function(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};El.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};El.prototype.forEach=function(e){zA.forEach(this.handlers,function(s){s!==null&&e(s)})};var YA=El,XA=cn,jA=function(e,i){XA.forEach(e,function(o,c){c!==i&&c.toUpperCase()===i.toUpperCase()&&(e[i]=o,delete e[c])})},cy=function(e,i,s,o,c){return e.config=i,s&&(e.code=s),e.request=o,e.response=c,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},ih,Wp;function dy(){if(Wp)return ih;Wp=1;var t=cy;return ih=function(i,s,o,c,u){var x=new Error(i);return t(x,s,o,c,u)},ih}var nh,Up;function KA(){if(Up)return nh;Up=1;var t=dy();return nh=function(i,s,o){var c=o.config.validateStatus;!o.status||!c||c(o.status)?i(o):s(t("Request failed with status code "+o.status,o.config,null,o.request,o))},nh}var sh,zp;function $A(){if(zp)return sh;zp=1;var t=cn;return sh=t.isStandardBrowserEnv()?function(){return{write:function(s,o,c,u,x,C){var S=[];S.push(s+"="+encodeURIComponent(o)),t.isNumber(c)&&S.push("expires="+new Date(c).toGMTString()),t.isString(u)&&S.push("path="+u),t.isString(x)&&S.push("domain="+x),C===!0&&S.push("secure"),document.cookie=S.join("; ")},read:function(s){var o=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),sh}var ah,Yp;function GA(){return Yp||(Yp=1,ah=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),ah}var oh,Xp;function JA(){return Xp||(Xp=1,oh=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}),oh}var rh,jp;function QA(){if(jp)return rh;jp=1;var t=GA(),e=JA();return rh=function(s,o){return s&&!t(o)?e(s,o):o},rh}var lh,Kp;function qA(){if(Kp)return lh;Kp=1;var t=cn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return lh=function(s){var o={},c,u,x;return s&&t.forEach(s.split(`
`),function(S){if(x=S.indexOf(":"),c=t.trim(S.substr(0,x)).toLowerCase(),u=t.trim(S.substr(x+1)),c){if(o[c]&&e.indexOf(c)>=0)return;c==="set-cookie"?o[c]=(o[c]?o[c]:[]).concat([u]):o[c]=o[c]?o[c]+", "+u:u}}),o},lh}var hh,$p;function ZA(){if($p)return hh;$p=1;var t=cn;return hh=t.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),o;function c(u){var x=u;return i&&(s.setAttribute("href",x),x=s.href),s.setAttribute("href",x),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return o=c(window.location.href),function(x){var C=t.isString(x)?c(x):x;return C.protocol===o.protocol&&C.host===o.host}}():function(){return function(){return!0}}(),hh}var ch,Gp;function Jp(){if(Gp)return ch;Gp=1;var t=cn,e=KA(),i=$A(),s=hy,o=QA(),c=qA(),u=ZA(),x=dy();return ch=function(S){return new Promise(function(L,B){var U=S.data,q=S.headers,ne=S.responseType;t.isFormData(U)&&delete q["Content-Type"];var ce=new XMLHttpRequest;if(S.auth){var ke=S.auth.username||"",pe=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";q.Authorization="Basic "+btoa(ke+":"+pe)}var Pe=o(S.baseURL,S.url);ce.open(S.method.toUpperCase(),s(Pe,S.params,S.paramsSerializer),!0),ce.timeout=S.timeout;function Ee(){if(ce){var me="getAllResponseHeaders"in ce?c(ce.getAllResponseHeaders()):null,We=!ne||ne==="text"||ne==="json"?ce.responseText:ce.response,Ae={data:We,status:ce.status,statusText:ce.statusText,headers:me,config:S,request:ce};e(L,B,Ae),ce=null}}if("onloadend"in ce?ce.onloadend=Ee:ce.onreadystatechange=function(){!ce||ce.readyState!==4||ce.status===0&&!(ce.responseURL&&ce.responseURL.indexOf("file:")===0)||setTimeout(Ee)},ce.onabort=function(){ce&&(B(x("Request aborted",S,"ECONNABORTED",ce)),ce=null)},ce.onerror=function(){B(x("Network Error",S,null,ce)),ce=null},ce.ontimeout=function(){var We="timeout of "+S.timeout+"ms exceeded";S.timeoutErrorMessage&&(We=S.timeoutErrorMessage),B(x(We,S,S.transitional&&S.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ce)),ce=null},t.isStandardBrowserEnv()){var De=(S.withCredentials||u(Pe))&&S.xsrfCookieName?i.read(S.xsrfCookieName):void 0;De&&(q[S.xsrfHeaderName]=De)}"setRequestHeader"in ce&&t.forEach(q,function(We,Ae){typeof U>"u"&&Ae.toLowerCase()==="content-type"?delete q[Ae]:ce.setRequestHeader(Ae,We)}),t.isUndefined(S.withCredentials)||(ce.withCredentials=!!S.withCredentials),ne&&ne!=="json"&&(ce.responseType=S.responseType),typeof S.onDownloadProgress=="function"&&ce.addEventListener("progress",S.onDownloadProgress),typeof S.onUploadProgress=="function"&&ce.upload&&ce.upload.addEventListener("progress",S.onUploadProgress),S.cancelToken&&S.cancelToken.promise.then(function(We){ce&&(ce.abort(),B(We),ce=null)}),U||(U=null),ce.send(U)})},ch}var Bi=cn,Qp=jA,eS=cy,tS={"Content-Type":"application/x-www-form-urlencoded"};function qp(t,e){!Bi.isUndefined(t)&&Bi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function iS(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Jp()),t}function nS(t,e,i){if(Bi.isString(t))try{return(e||JSON.parse)(t),Bi.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}var Rl={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:iS(),transformRequest:[function(e,i){return Qp(i,"Accept"),Qp(i,"Content-Type"),Bi.isFormData(e)||Bi.isArrayBuffer(e)||Bi.isBuffer(e)||Bi.isStream(e)||Bi.isFile(e)||Bi.isBlob(e)?e:Bi.isArrayBufferView(e)?e.buffer:Bi.isURLSearchParams(e)?(qp(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Bi.isObject(e)||i&&i["Content-Type"]==="application/json"?(qp(i,"application/json"),nS(e)):e}],transformResponse:[function(e){var i=this.transitional,s=i&&i.silentJSONParsing,o=i&&i.forcedJSONParsing,c=!s&&this.responseType==="json";if(c||o&&Bi.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?eS(u,this,"E_JSON_PARSE"):u}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Rl.headers={common:{Accept:"application/json, text/plain, */*"}};Bi.forEach(["delete","get","head"],function(e){Rl.headers[e]={}});Bi.forEach(["post","put","patch"],function(e){Rl.headers[e]=Bi.merge(tS)});var Wd=Rl,sS=cn,aS=Wd,oS=function(e,i,s){var o=this||aS;return sS.forEach(s,function(u){e=u.call(o,e,i)}),e},dh,Zp;function uy(){return Zp||(Zp=1,dh=function(e){return!!(e&&e.__CANCEL__)}),dh}var eg=cn,uh=oS,rS=uy(),lS=Wd;function ph(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var hS=function(e){ph(e),e.headers=e.headers||{},e.data=uh.call(e,e.data,e.headers,e.transformRequest),e.headers=eg.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),eg.forEach(["delete","get","head","post","put","patch","common"],function(o){delete e.headers[o]});var i=e.adapter||lS.adapter;return i(e).then(function(o){return ph(e),o.data=uh.call(e,o.data,o.headers,e.transformResponse),o},function(o){return rS(o)||(ph(e),o&&o.response&&(o.response.data=uh.call(e,o.response.data,o.response.headers,e.transformResponse))),Promise.reject(o)})},Vi=cn,py=function(e,i){i=i||{};var s={},o=["url","method","data"],c=["headers","auth","proxy","params"],u=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],x=["validateStatus"];function C(B,U){return Vi.isPlainObject(B)&&Vi.isPlainObject(U)?Vi.merge(B,U):Vi.isPlainObject(U)?Vi.merge({},U):Vi.isArray(U)?U.slice():U}function S(B){Vi.isUndefined(i[B])?Vi.isUndefined(e[B])||(s[B]=C(void 0,e[B])):s[B]=C(e[B],i[B])}Vi.forEach(o,function(U){Vi.isUndefined(i[U])||(s[U]=C(void 0,i[U]))}),Vi.forEach(c,S),Vi.forEach(u,function(U){Vi.isUndefined(i[U])?Vi.isUndefined(e[U])||(s[U]=C(void 0,e[U])):s[U]=C(void 0,i[U])}),Vi.forEach(x,function(U){U in i?s[U]=C(e[U],i[U]):U in e&&(s[U]=C(void 0,e[U]))});var b=o.concat(c).concat(u).concat(x),L=Object.keys(e).concat(Object.keys(i)).filter(function(U){return b.indexOf(U)===-1});return Vi.forEach(L,S),s};const cS="axios",dS="0.21.4",uS="Promise based HTTP client for the browser and node.js",pS="index.js",gS={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},fS={type:"git",url:"https://github.com/axios/axios.git"},mS=["xhr","http","ajax","promise","node"],xS="Matt Zabriskie",yS="MIT",vS={url:"https://github.com/axios/axios/issues"},bS="https://axios-http.com",_S={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},CS={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},TS="dist/axios.min.js",wS="dist/axios.min.js",kS="./index.d.ts",AS={"follow-redirects":"^1.14.0"},SS=[{path:"./dist/axios.min.js",threshold:"5kB"}],MS={name:cS,version:dS,description:uS,main:pS,scripts:gS,repository:fS,keywords:mS,author:xS,license:yS,bugs:vS,homepage:bS,devDependencies:_S,browser:CS,jsdelivr:TS,unpkg:wS,typings:kS,dependencies:AS,bundlesize:SS};var gy=MS,Ud={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Ud[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var tg={},IS=gy.version.split(".");function fy(t,e){for(var i=e?e.split("."):IS,s=t.split("."),o=0;o<3;o++){if(i[o]>s[o])return!0;if(i[o]<s[o])return!1}return!1}Ud.transitional=function(e,i,s){var o=i&&fy(i);function c(u,x){return"[Axios v"+gy.version+"] Transitional option '"+u+"'"+x+(s?". "+s:"")}return function(u,x,C){if(e===!1)throw new Error(c(x," has been removed in "+i));return o&&!tg[x]&&(tg[x]=!0,console.warn(c(x," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(u,x,C):!0}};function PS(t,e,i){if(typeof t!="object")throw new TypeError("options must be an object");for(var s=Object.keys(t),o=s.length;o-- >0;){var c=s[o],u=e[c];if(u){var x=t[c],C=x===void 0||u(x,c,t);if(C!==!0)throw new TypeError("option "+c+" must be "+C);continue}if(i!==!0)throw Error("Unknown option "+c)}}var ES={isOlderVersion:fy,assertOptions:PS,validators:Ud},my=cn,RS=hy,ig=YA,ng=hS,Ll=py,xy=ES,Ta=xy.validators;function Xo(t){this.defaults=t,this.interceptors={request:new ig,response:new ig}}Xo.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Ll(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;i!==void 0&&xy.assertOptions(i,{silentJSONParsing:Ta.transitional(Ta.boolean,"1.0.0"),forcedJSONParsing:Ta.transitional(Ta.boolean,"1.0.0"),clarifyTimeoutError:Ta.transitional(Ta.boolean,"1.0.0")},!1);var s=[],o=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(e)===!1||(o=o&&B.synchronous,s.unshift(B.fulfilled,B.rejected))});var c=[];this.interceptors.response.forEach(function(B){c.push(B.fulfilled,B.rejected)});var u;if(!o){var x=[ng,void 0];for(Array.prototype.unshift.apply(x,s),x=x.concat(c),u=Promise.resolve(e);x.length;)u=u.then(x.shift(),x.shift());return u}for(var C=e;s.length;){var S=s.shift(),b=s.shift();try{C=S(C)}catch(L){b(L);break}}try{u=ng(C)}catch(L){return Promise.reject(L)}for(;c.length;)u=u.then(c.shift(),c.shift());return u};Xo.prototype.getUri=function(e){return e=Ll(this.defaults,e),RS(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};my.forEach(["delete","get","head","options"],function(e){Xo.prototype[e]=function(i,s){return this.request(Ll(s||{},{method:e,url:i,data:(s||{}).data}))}});my.forEach(["post","put","patch"],function(e){Xo.prototype[e]=function(i,s,o){return this.request(Ll(o||{},{method:e,url:i,data:s}))}});var LS=Xo,gh,sg;function yy(){if(sg)return gh;sg=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,gh=t,gh}var fh,ag;function OS(){if(ag)return fh;ag=1;var t=yy();function e(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(u){s=u});var o=this;i(function(u){o.reason||(o.reason=new t(u),s(o.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var s,o=new e(function(u){s=u});return{token:o,cancel:s}},fh=e,fh}var mh,og;function BS(){return og||(og=1,mh=function(e){return function(s){return e.apply(null,s)}}),mh}var xh,rg;function FS(){return rg||(rg=1,xh=function(e){return typeof e=="object"&&e.isAxiosError===!0}),xh}var lg=cn,DS=oy,_r=LS,NS=py,VS=Wd;function vy(t){var e=new _r(t),i=DS(_r.prototype.request,e);return lg.extend(i,_r.prototype,e),lg.extend(i,e),i}var Rn=vy(VS);Rn.Axios=_r;Rn.create=function(e){return vy(NS(Rn.defaults,e))};Rn.Cancel=yy();Rn.CancelToken=OS();Rn.isCancel=uy();Rn.all=function(e){return Promise.all(e)};Rn.spread=BS();Rn.isAxiosError=FS();Nd.exports=Rn;Nd.exports.default=Rn;var HS=Nd.exports,WS=HS;const li=Dd(WS);function US(){const t=yc(!1);return{isAuthenticated:t,login:async()=>{try{if(!Fn)throw new Error("MSAL instance not initialized");await Fn.loginRedirect()}catch(o){console.error(o)}},logout:async()=>{try{if(!Fn)throw new Error("MSAL instance not initialized");await Fn.logoutRedirect(),t.value=!1,Ia.commit("CLEAR_USER"),console.log("Logout successful")}catch(o){console.error(o)}},handleRedirect:async()=>{try{await Fn.handleRedirectPromise(),Dp.isAuthenticated=Fn.getAllAccounts().length>0,Dp.user=Fn.getAllAccounts()[0];async function o(){try{const c=Fn.getAllAccounts()[0].localAccountId,u=Fn.getAllAccounts()[0].name,x=await li.get(`${oi}/api/v1/auth`,{params:{id:c,name:u}});x.data.id=c,console.log(x.data),Ia.commit("SET_USER",x.data)}catch(c){console.error("Error fetching data:",c.response.data.message)}}return await o(),console.log("Redirect successful",Ia.getters.isAuthenticated,Ia.getters.getUser),Ia.getters.getUser}catch(o){console.error(o)}}}}var zS=Object.defineProperty,hg=Object.getOwnPropertySymbols,YS=Object.prototype.hasOwnProperty,XS=Object.prototype.propertyIsEnumerable,cg=(t,e,i)=>e in t?zS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,by=(t,e)=>{for(var i in e||(e={}))YS.call(e,i)&&cg(t,i,e[i]);if(hg)for(var i of hg(e))XS.call(e,i)&&cg(t,i,e[i]);return t},Ol=t=>typeof t=="function",Bl=t=>typeof t=="string",_y=t=>Bl(t)&&t.trim().length>0,jS=t=>typeof t=="number",ta=t=>typeof t>"u",Do=t=>typeof t=="object"&&t!==null,KS=t=>Kn(t,"tag")&&_y(t.tag),Cy=t=>window.TouchEvent&&t instanceof TouchEvent,Ty=t=>Kn(t,"component")&&wy(t.component),$S=t=>Ol(t)||Do(t),wy=t=>!ta(t)&&(Bl(t)||$S(t)||Ty(t)),dg=t=>Do(t)&&["height","width","right","left","top","bottom"].every(e=>jS(t[e])),Kn=(t,e)=>(Do(t)||Ol(t))&&e in t,GS=(t=>()=>t++)(0);function yh(t){return Cy(t)?t.targetTouches[0].clientX:t.clientX}function ug(t){return Cy(t)?t.targetTouches[0].clientY:t.clientY}var JS=t=>{ta(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},jo=t=>Ty(t)?jo(t.component):KS(t)?ps({render(){return t}}):typeof t=="string"?t:Ht(Ls(t)),QS=t=>{if(typeof t=="string")return t;const e=Kn(t,"props")&&Do(t.props)?t.props:{},i=Kn(t,"listeners")&&Do(t.listeners)?t.listeners:{};return{component:jo(t),props:e,listeners:i}},qS=()=>typeof window<"u",zd=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const i=this.getHandlers(t);i.push(e),this.allHandlers[t]=i}off(t,e){const i=this.getHandlers(t);i.splice(i.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(s=>s(e))}},ZS=t=>["on","off","emit"].every(e=>Kn(t,e)&&Ol(t[e])),ji;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(ji||(ji={}));var nl;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(nl||(nl={}));var rn;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(rn||(rn={}));var Sn="Vue-Toastification",kn={type:{type:String,default:ji.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ky={type:kn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Cr={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:kn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},oc={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Ay={transition:{type:[Object,String],default:`${Sn}__bounce`}},eM={position:{type:String,default:nl.TOP_RIGHT},draggable:kn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:kn.trueBoolean,pauseOnHover:kn.trueBoolean,closeOnClick:kn.trueBoolean,timeout:oc.timeout,hideProgressBar:oc.hideProgressBar,toastClassName:kn.classNames,bodyClassName:kn.classNames,icon:ky.customIcon,closeButton:Cr.component,closeButtonClassName:Cr.classNames,showCloseButtonOnHover:Cr.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new zd}},tM={id:{type:[String,Number],required:!0,default:0},type:kn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},iM={container:{type:[Object,Function],default:()=>document.body},newestOnTop:kn.trueBoolean,maxToasts:{type:Number,default:20},transition:Ay.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:kn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},ls={CORE_TOAST:eM,TOAST:tM,CONTAINER:iM,PROGRESS_BAR:oc,ICON:ky,TRANSITION:Ay,CLOSE_BUTTON:Cr},Sy=ps({name:"VtProgressBar",props:ls.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Sn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function nM(t,e){return Be(),$e("div",{style:Hn(t.style),class:Ds(t.cpClass)},null,6)}Sy.render=nM;var sM=Sy,My=ps({name:"VtCloseButton",props:ls.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?jo(this.component):"button"},classes(){const t=[`${Sn}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),aM=mi(" × ");function oM(t,e){return Be(),Qi(Cc(t.buttonComponent),fl({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:Oi(()=>[aM]),_:1},16,["aria-label","class"])}My.render=oM;var rM=My,Iy={},lM={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},hM=J("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),cM=[hM];function dM(t,e){return Be(),$e("svg",lM,cM)}Iy.render=dM;var uM=Iy,Py={},pM={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},gM=J("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),fM=[gM];function mM(t,e){return Be(),$e("svg",pM,fM)}Py.render=mM;var pg=Py,Ey={},xM={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},yM=J("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),vM=[yM];function bM(t,e){return Be(),$e("svg",xM,vM)}Ey.render=bM;var _M=Ey,Ry={},CM={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},TM=J("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),wM=[TM];function kM(t,e){return Be(),$e("svg",CM,wM)}Ry.render=kM;var AM=Ry,Ly=ps({name:"VtIcon",props:ls.ICON,computed:{customIconChildren(){return Kn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Bl(this.customIcon)?this.trimValue(this.customIcon):Kn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Kn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:wy(this.customIcon)?jo(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[ji.DEFAULT]:pg,[ji.INFO]:pg,[ji.SUCCESS]:uM,[ji.ERROR]:AM,[ji.WARNING]:_M}[this.type]},iconClasses(){const t=[`${Sn}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return _y(t)?t.trim():e}}});function SM(t,e){return Be(),Qi(Cc(t.component),{class:Ds(t.iconClasses)},{default:Oi(()=>[mi(ci(t.customIconChildren),1)]),_:1},8,["class"])}Ly.render=SM;var MM=Ly,Oy=ps({name:"VtToast",components:{ProgressBar:sM,CloseButton:rM,Icon:MM},inheritAttrs:!1,props:Object.assign({},ls.CORE_TOAST,ls.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${Sn}__toast`,`${Sn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${Sn}__toast--rtl`),t},bodyClasses(){return[`${Sn}__toast-${Bl(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return dg(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Kn,getVueComponentFromObj:jo,closeToast(){this.eventBus.emit(rn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:yh(t),y:ug(t)},this.dragStart=yh(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:yh(t),y:ug(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,dg(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),IM=["role"];function PM(t,e){const i=fn("Icon"),s=fn("CloseButton"),o=fn("ProgressBar");return Be(),$e("div",{class:Ds(t.classes),style:Hn(t.draggableStyle),onClick:e[0]||(e[0]=(...c)=>t.clickHandler&&t.clickHandler(...c)),onMouseenter:e[1]||(e[1]=(...c)=>t.hoverPause&&t.hoverPause(...c)),onMouseleave:e[2]||(e[2]=(...c)=>t.hoverPlay&&t.hoverPlay(...c))},[t.icon?(Be(),Qi(i,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):on("v-if",!0),J("div",{role:t.accessibility.toastRole||"alert",class:Ds(t.bodyClasses)},[typeof t.content=="string"?(Be(),$e(ni,{key:0},[mi(ci(t.content),1)],2112)):(Be(),Qi(Cc(t.getVueComponentFromObj(t.content)),fl({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},sb(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,IM),t.closeButton?(Be(),Qi(s,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:da(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):on("v-if",!0),t.timeout?(Be(),Qi(o,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):on("v-if",!0)],38)}Oy.render=PM;var EM=Oy,By=ps({name:"VtTransition",props:ls.TRANSITION,emits:["leave"],methods:{hasProp:Kn,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function RM(t,e){return Be(),Qi(r0,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:Oi(()=>[nb(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}By.render=RM;var LM=By,Fy=ps({name:"VueToastification",devtools:{hide:!0},components:{Toast:EM,VtTransition:LM},props:Object.assign({},ls.CORE_TOAST,ls.CONTAINER,ls.TRANSITION),data(){return{count:0,positions:Object.values(nl),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(rn.ADD,this.addToast),t.on(rn.CLEAR,this.clearToasts),t.on(rn.DISMISS,this.dismissToast),t.on(rn.UPDATE,this.updateToast),t.on(rn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){Ol(t)&&(t=await t()),JS(this.$el),t.appendChild(this.$el)},setToast(t){ta(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=QS(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),i=this.defaults.filterBeforeCreate(e,this.toastArray);i&&this.setToast(i)},dismissToast(t){const e=this.toasts[t];!ta(e)&&!ta(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(i=>i.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){ta(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:i}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):i&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${Sn}__container`,t].concat(this.defaults.containerClassName)}}});function OM(t,e){const i=fn("Toast"),s=fn("VtTransition");return Be(),$e("div",null,[(Be(!0),$e(ni,null,mn(t.positions,o=>(Be(),$e("div",{key:o},[Ot(s,{transition:t.defaults.transition,class:Ds(t.getClasses(o))},{default:Oi(()=>[(Be(!0),$e(ni,null,mn(t.getPositionToasts(o),c=>(Be(),Qi(i,fl({key:c.id},c),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Fy.render=OM;var BM=Fy,gg=(t={},e=!0)=>{const i=t.eventBus=t.eventBus||new zd;e&&bc(()=>{const c=Lf(BM,by({},t)),u=c.mount(document.createElement("div")),x=t.onMounted;if(ta(x)||x(u,c),t.shareAppContext){const C=t.shareAppContext;C===!0?console.warn(`[${Sn}] App to share context with was not provided.`):(c._context.components=C._context.components,c._context.directives=C._context.directives,c._context.mixins=C._context.mixins,c._context.provides=C._context.provides,c.config.globalProperties=C.config.globalProperties)}});const s=(c,u)=>{const x=Object.assign({},{id:GS(),type:ji.DEFAULT},u,{content:c});return i.emit(rn.ADD,x),x.id};s.clear=()=>i.emit(rn.CLEAR,void 0),s.updateDefaults=c=>{i.emit(rn.UPDATE_DEFAULTS,c)},s.dismiss=c=>{i.emit(rn.DISMISS,c)};function o(c,{content:u,options:x},C=!1){const S=Object.assign({},x,{content:u});i.emit(rn.UPDATE,{id:c,options:S,create:C})}return s.update=o,s.success=(c,u)=>s(c,Object.assign({},u,{type:ji.SUCCESS})),s.info=(c,u)=>s(c,Object.assign({},u,{type:ji.INFO})),s.error=(c,u)=>s(c,Object.assign({},u,{type:ji.ERROR})),s.warning=(c,u)=>s(c,Object.assign({},u,{type:ji.WARNING})),s},FM=()=>{const t=()=>console.warn(`[${Sn}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function Dy(t){return qS()?ZS(t)?gg({eventBus:t},!1):gg(t,!0):FM()}var Ny=Symbol("VueToastification"),Vy=new zd,DM=(t,e)=>{(e==null?void 0:e.shareAppContext)===!0&&(e.shareAppContext=t);const i=Dy(by({eventBus:Vy},e));t.provide(Ny,i)},NM=t=>{const e=_f()?Yn(Ny,void 0):void 0;return e||Dy(Vy)},VM=DM;const we=NM(),$i=(t,e)=>{const i=t.__vccOpts||t;for(const[s,o]of e)i[s]=o;return i},HM={data(){return{formData:{title:"",summary:"",description:"",agree:!1}}},computed:{...Ki(["getUser","isAuthenticated"])},mounted(){this.checker()},methods:{async getEmail(){return await this.getUser.username},async checker(){await this.getUser.user_type!=="Applicant"&&this.$router.push("/")},upload(){window.cloudinary.createUploadWidget({cloud_name:"djid7mzda",upload_preset:"upload-demo",sources:["local","url","camera","dropbox","google_drive"],resource_type:"raw",client_allowed_formats:["jpg","png","jpeg"],max_file_size:10485760},(e,i)=>{!e&&i&&i.event==="success"?(this.formData.document=i.info.url,console.log("Done! Here is the file info: ",i.info),console.log(this.formData.document)):console.log(e)}).open()},async submitForm(){if(this.formData.agree){const t=await this.getUser.id,e=await this.getUser.username,i=await this.getUser.token;if(!this.formData.document){we.error("Please provide a document");return}li.post(`${oi}/api/v1/apply`,{fk_tenant_id:t,document:this.formData.document,justification:this.formData.justification},{headers:{Authorization:`${i}`}}).then(s=>{const o=s.data;console.log(o),o.message==="Success"?we.success("Application submitted successfully"):o.message==="Failure"?(we.warning("Previous application still pending approval"),li.post(`${oi}/api/v1/notifications`,{id:t,adminRequired:1,title:"[FOLLOW UP] Application for Fund Manager - Pending Approval",message:`Dear Admin, ${e} has submitted an application for the role of Fund Manager. Please review and approve the application.`},{headers:{Authorization:`${i}`}}).then(c=>{const u=c.data;console.log(u),u.message==="Success"?we.info("Follow up notification sent to admin"):u.message==="Failure"?we.warning("Follow up notification could not be sent to admin"):we.error("Failed to send a follow up to admin")}).catch(c=>{if(c.response&&c.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const u=c.response?c.response.data.message:c.message;we.error(`Request failed: ${u}`),console.error(c)}})):we.error("Failed to submit application")}).catch(s=>{if(s.response&&s.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const o=s.response?s.response.data.message:s.message;we.error(`Request failed: ${o}`),console.error(s)}})}else alert("Please agree to the terms and conditions")}}},fs=t=>(Ws("data-v-ee6f165e"),t=t(),Us(),t),WM={class:"w-full flexCenter",id:"form-container"},UM=fs(()=>J("h2",{id:"heading"},"Application for Fund Manager",-1)),zM=fs(()=>J("p",null,"As a funding manager, you play a pivotal role in sourcing and securing financial resources for community projects. Your tasks include identifying funding opportunities, crafting compelling proposals, managing budgets, fostering relationships with donors, ensuring regulatory compliance, and contributing to strategic planning. Your efforts are instrumental in ensuring the sustainability and success of community initiatives.",-1)),YM=fs(()=>J("br",null,null,-1)),XM=fs(()=>J("label",{for:"documents",class:"input-labels"},"Supporting Documents",-1)),jM=fs(()=>J("img",{src:"https://www.svgrepo.com/show/485545/upload-cicle.svg",alt:"file upload icon",width:"30",height:"30"},null,-1)),KM=fs(()=>J("div",null,[J("span",{class:"block text-base font-semibold relative text-blue-900 group-hover:text-blue-500"}," Upload a file "),J("span",{class:"mt-0.5 block text-sm text-gray-500"},"Max 10 MB")],-1)),$M=[jM,KM],GM=fs(()=>J("label",{for:"justification",class:"input-labels"},"Your justification",-1)),JM={class:"flexRow"},QM=fs(()=>J("label",{for:"terms",class:"input-labels"},[mi("I hearby nominate myself for the role of "),J("b",{class:"text-blue-500"},"Fund Manager")],-1)),qM=fs(()=>J("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Submit",-1));function ZM(t,e,i,s,o,c){return Be(),$e("div",WM,[J("form",{onSubmit:e[3]||(e[3]=da((...u)=>c.submitForm&&c.submitForm(...u),["prevent"]))},[UM,zM,YM,XM,J("div",{onClick:e[0]||(e[0]=(...u)=>c.upload&&c.upload(...u)),class:"flexRow uploadbtn"},$M),GM,Ci(J("textarea",{id:"justification",rows:"4",class:"input textarea","onUpdate:modelValue":e[1]||(e[1]=u=>o.formData.justification=u),required:"",placeholder:"I would be a great fit because..."},null,512),[[Wn,o.formData.justification]]),J("div",JM,[J("div",null,[Ci(J("input",{id:"terms",type:"checkbox",value:"","onUpdate:modelValue":e[2]||(e[2]=u=>o.formData.agree=u),required:""},null,512),[[Ac,o.formData.agree]])]),QM]),qM],32)])}const e1=$i(HM,[["render",ZM],["__scopeId","data-v-ee6f165e"]]),t1={data(){return{formData:{title:"",description:"",amount:"",end_date:"",type:"Educational",agree:!1}}},computed:{...Ki(["getUser"])},mounted(){this.checker()},methods:{async checker(){await this.getUser.user_type!=="Fund Manager"&&this.$router.push("/")},async notify(){const t=await this.getUser.token,e=await this.getUser.username;li.post(`${oi}/api/v1/notifications`,{adminRequired:1,title:"New Funding Opportunity has been posted",message:`Dear Admin, ${e} has posted a new funding opportunity.`},{headers:{Authorization:`${t}`}}).then(i=>{const s=i.data;console.log(s),s.message==="Success"?we.info("Admin has been notified of the new funding opportunity"):s.message==="Failure"?we.warning("Admin could not be notified of the new funding opportunity"):we.error("Failed to notify admin of the new funding opportunity")}).catch(i=>{if(i.response&&i.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const s=i.response?i.response.data.message:i.message;we.error(`Request failed: ${s}`),console.error(i)}})},async submitForm(){if(this.formData.agree){const t=new Date(this.formData.end_date);this.formData.end_date=t.toISOString(),this.formData.fk_tenant_id=await this.getUser.id,this.formData.amount="R"+this.formData.amount;const e=await this.getUser.token;li.post(oi+"/api/v1/oppotunities/",this.formData,{headers:{Authorization:`${e}`}}).then(i=>{const s=i.data;s.message==="Success"?(we.success("Application submitted successfully."),this.notify()):s.message==="Failure"?we.warning("Previous application already present."):we.error("Application could not be submitted.")}).catch(i=>{if(i.response&&i.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const s=i.response?i.response.data.message:i.message;we.error(`Request failed: ${s}`),console.error(i)}})}else we.error("Please agree to the terms and conditions")}}},Ys=t=>(Ws("data-v-c9e2e57e"),t=t(),Us(),t),i1={class:"w-full flexCenter",id:"form-container"},n1=Ys(()=>J("h2",{id:"heading"},"Application for funding opportunity",-1)),s1=Ys(()=>J("label",{for:"title",class:"input-labels"},"Title",-1)),a1=Ys(()=>J("label",{for:"amount",class:"input-labels"},"Amount",-1)),o1=Ys(()=>J("label",{for:"end_date",class:"input-labels"},"End date",-1)),r1=Ys(()=>J("label",{for:"type",class:"input-labels"},"Event type",-1)),l1={class:"radio-group"},h1={class:"radio-label flexRow"},c1={class:"radio-label flexRow"},d1={class:"radio-label flexRow"},u1=Ys(()=>J("label",{for:"description",class:"input-labels"},"Description",-1)),p1={class:"flexRow"},g1=Ys(()=>J("label",{for:"terms",class:"input-labels"},[mi("I agree with the "),J("a",{href:"#",class:"text-blue-600 hover:underline"},"terms and conditions")],-1)),f1=Ys(()=>J("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit",-1));function m1(t,e,i,s,o,c){return Be(),$e("div",i1,[J("form",{onSubmit:e[8]||(e[8]=da((...u)=>c.submitForm&&c.submitForm(...u),["prevent"]))},[n1,s1,Ci(J("input",{type:"text",id:"title",class:"input","onUpdate:modelValue":e[0]||(e[0]=u=>o.formData.title=u),placeholder:"Students Employment Grant",required:""},null,512),[[Wn,o.formData.title]]),a1,Ci(J("input",{type:"number",id:"amount",class:"input","onUpdate:modelValue":e[1]||(e[1]=u=>o.formData.amount=u),required:"",placeholder:"R1000"},null,512),[[Wn,o.formData.amount]]),o1,Ci(J("input",{type:"date",id:"end_date",class:"input","onUpdate:modelValue":e[2]||(e[2]=u=>o.formData.end_date=u),required:"",placeholder:"R1000"},null,512),[[Wn,o.formData.end_date]]),r1,J("div",l1,[J("label",h1,[Ci(J("input",{type:"radio",name:"type",value:"Educational",checked:"","onUpdate:modelValue":e[3]||(e[3]=u=>o.formData.type=u)},null,512),[[Fa,o.formData.type]]),mi(" Educational ")]),J("label",c1,[Ci(J("input",{type:"radio",name:"type",value:"Business","onUpdate:modelValue":e[4]||(e[4]=u=>o.formData.type=u)},null,512),[[Fa,o.formData.type]]),mi(" Business ")]),J("label",d1,[Ci(J("input",{type:"radio",name:"type",value:"Events","onUpdate:modelValue":e[5]||(e[5]=u=>o.formData.type=u)},null,512),[[Fa,o.formData.type]]),mi(" Events ")])]),u1,Ci(J("textarea",{id:"description",required:"",rows:"4",class:"input textarea","onUpdate:modelValue":e[6]||(e[6]=u=>o.formData.description=u),placeholder:"This grant offers..."},null,512),[[Wn,o.formData.description]]),J("div",p1,[J("div",null,[Ci(J("input",{id:"terms",type:"checkbox",value:"","onUpdate:modelValue":e[7]||(e[7]=u=>o.formData.agree=u),required:""},null,512),[[Ac,o.formData.agree]])]),g1]),f1],32)])}const x1=$i(t1,[["render",m1],["__scopeId","data-v-c9e2e57e"]]),y1={data(){return{data:[],pendingData:[],acceptedData:[],rejectedData:[]}},computed:{...Ki(["getUser","isAuthenticated"])},mounted(){this.checker(),this.fetchData()},methods:{async fetchData(){const t=await this.getUser.token,e=await this.getUser.id;li.get(oi+"/api/v1/applications/"+e,{headers:{Authorization:`${t}`}}).then(i=>{const s=i.data;console.log(s),s.message==="Success"?(console.log(s.applications),this.pendingData=s.applications.filter(o=>o.status==="Pending"),this.acceptedData=s.applications.filter(o=>o.status==="Accepted"),this.rejectedData=s.applications.filter(o=>o.status==="Rejected"),console.log(this.pendingData),console.log(this.acceptedData),console.log(this.rejectedData)):s.message==="Failure"?we.info("No Applicants found"):we.error("Failed to fetch Applicants")}).catch(i=>{if(i.response&&i.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const s=i.response?i.response.data.message:i.message;we.error(`Request failed: ${s}`),console.error(i)}})},async checker(){await this.getUser.user_type!=="Fund Manager"&&this.$router.push("/")},async notify(t,e,i){const s=await this.getUser.token;li.post(`${oi}/api/v1/notifications`,{id:t,adminRequired:0,title:e,message:i},{headers:{Authorization:`${s}`}}).then(o=>{const c=o.data;console.log(c),c.message==="Success"?we.info("Notification sent to Applicant"):c.message==="Failure"?we.warning("Notification could not be sent to Applicant"):we.error("Failed to notify Applicant")}).catch(o=>{if(o.response&&o.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const c=o.response?o.response.data.message:o.message;we.error(`Request failed: ${c}`),console.error(o)}})},async verdict(t,e,i){const s=await this.getUser.token;li.put(oi+"/api/v1/applications/",{id:t,verdict:i},{headers:{Authorization:`${s}`}}).then(o=>{const c=o.data;if(c.message==="Success")if(i==="Accepted"){we.success(this.pendingData[e].username+" has been approved.");const u=this.pendingData.splice(e,1)[0];u.status="Accepted",this.acceptedData.push(u),this.notify(u.fk_tenant_id,"Your Application for the Funding Oppotunity has been approved","Congratulations, your application has been approved. Fund Manager will contact you soon.")}else{we.success(this.pendingData[e].username+" has been denied.");const u=this.pendingData.splice(e,1)[0];u.status="Rejected",this.rejectedData.push(u),this.notify(u.fk_tenant_id,"Your Application for the Funding Oppotunity has been denied","Unfortunately, your application has been denied. Please try again next time.")}else c.message==="Failure"?we.warning(this.pendingData[e].username+" could not be Updated."):we.error(this.pendingData[e].username+" could not be Updated.")}).catch(o=>{if(o.response&&o.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const c=o.response?o.response.data.message:o.message;we.error(`Request failed: ${c}`),console.error(o)}})},downloadDocument(t){window.open(t)}}},v1={class:"moop"},b1={class:"category-box"},_1=J("article",{class:"pending-title-box"},[J("h2",{class:"bold-title"},"Pending Funding Opportunities")],-1),C1={key:0,class:"no-data-box"},T1={key:1},w1=["href","onClick"],k1={class:"actionbtns"},A1=["onClick"],S1=["onClick"],M1={class:"category-box"},I1=J("article",{class:"accepted-title-box"},[J("h2",{class:"bold-title"},"Accepted Funding Opportunities")],-1),P1={key:0,class:"no-data-box"},E1={key:1},R1=J("p",{class:"bold-status-a"},"Accepted",-1),L1={class:"category-box"},O1=J("section",{class:"rejected-title-box"},[J("h2",{class:"bold-title"},"Rejected Funding Opportunities")],-1),B1={key:0,class:"no-data-box"},F1={key:1},D1=J("p",{class:"bold-status-r"},"Rejected",-1);function N1(t,e,i,s,o,c){return Be(),$e("section",null,[J("div",v1,[J("section",b1,[_1,o.pendingData.length===0?(Be(),$e("div",C1," No pending funding opportunities. ")):(Be(),$e("div",T1,[(Be(!0),$e(ni,null,mn(o.pendingData,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),J("p",null,ci(u.applicant_motivation),1),J("a",{class:"download-button btn",href:u.applicant_documents,target:"_blank",onClick:da(C=>c.downloadDocument(u.applicant_documents),["prevent"])},"Download Documents",8,w1),J("div",k1,[J("button",{class:"verdict2-button btn",onClick:C=>c.verdict(u.id,x,"Rejected")},"Deny",8,A1),J("button",{class:"verdict-button btn",onClick:C=>c.verdict(u.id,x,"Accepted")},"Accept",8,S1)])]))),128))]))]),J("section",M1,[I1,o.acceptedData.length===0?(Be(),$e("div",P1," No accepted funding opportunities. ")):(Be(),$e("div",E1,[(Be(!0),$e(ni,null,mn(o.acceptedData,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),R1]))),128))]))]),J("div",L1,[O1,o.rejectedData.length===0?(Be(),$e("div",B1," No rejected funding opportunities. ")):(Be(),$e("div",F1,[(Be(!0),$e(ni,null,mn(o.rejectedData,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),D1]))),128))]))])])])}const V1=$i(y1,[["render",N1]]),H1={data(){return{formData:{title:"",summary:"",description:"",selectedFile:null,agree:!1,documents:null}}},computed:{...Ki(["getUser"])},mounted(){this.checker()},methods:{async checker(){await this.getUser.user_type!=="Applicant"&&this.$router.push("/")},openUploadWidget(){window.cloudinary.createUploadWidget({cloud_name:"djid7mzda",upload_preset:"upload-demo",sources:["local","url","dropbox","google_drive","facebook","instagram"],resource_type:"image",client_allowed_formats:["jpg","png","jpeg"],max_file_size:10485760},(e,i)=>{!e&&i&&i.event==="success"?(this.formData.applicant_documents=i.info.url,console.log("Profile picture uploaded: ",i.info)):console.log(e)}).open()},async notify(t,e,i){const s=await this.getUser.token;li.post(`${oi}/api/v1/notifications/funds`,{id:t,title:e,message:i},{headers:{Authorization:`${s}`}}).then(o=>{const c=o.data;console.log(c),c.message==="Success"?we.info("Notification sent to Fund Manager"):c.message==="Failure"?we.warning("Notification could not be sent to Fund Manager"):we.error("Failed to notify Fund Manager")}).catch(o=>{if(o.response&&o.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const c=o.response?o.response.data.message:o.message;we.error(`Request failed: ${c}`),console.error(o)}})},async submitForm(){const t=await this.getUser.id,e=await this.getUser.token,i=await this.getUser.username;if(!this.formData.applicant_documents){we.error("Please provide a document");return}this.formData.fk_tenant_id=t,this.formData.fundingOpp_ID=this.$route.params.id,li.post(`${oi}/api/v1/applications`,this.formData,{headers:{Authorization:`${e}`}}).then(s=>{s.data.message==="Success"?(we.success("Application submitted successfully"),this.notify(this.formData.fundingOpp_ID,"New Applicant has applied","Dear Fund Manager, "+i+" has submitted an application for funding. Please review and approve the application.")):(this.message="Previous application still pending approval",we.info(this.message),this.notify(this.formData.fundingOpp_ID,"[FOLLOW UP] Application for Funding - Pending Approval","Dear Fund Manager, "+i+" has submitted an application for funding. Please review and approve the application."))}).catch(s=>{console.error(s)})}}},ms=t=>(Ws("data-v-463cf0d5"),t=t(),Us(),t),W1={class:"w-full flexCenter",id:"form-container"},U1=ms(()=>J("h2",{id:"heading"},"Application for Funding",-1)),z1=ms(()=>J("p",null,"Please provide a good justification for why you should receive funding. This will be seen by the fund manager. Please also upload any supporting documentation.",-1)),Y1=ms(()=>J("br",null,null,-1)),X1=ms(()=>J("label",{for:"documents",class:"input-labels"},"Supporting Documents",-1)),j1=ms(()=>J("img",{src:"https://www.svgrepo.com/show/485545/upload-cicle.svg",alt:"file upload icon",width:"30",height:"30"},null,-1)),K1=ms(()=>J("div",null,[J("span",{class:"block text-base font-semibold relative text-blue-900 group-hover:text-blue-500"}," Upload a file "),J("span",{class:"mt-0.5 block text-sm text-gray-500"},"Max 10 MB")],-1)),$1=[j1,K1],G1=ms(()=>J("label",{for:"applicant_motivation",class:"input-labels"},"Your justification",-1)),J1={class:"flexRow"},Q1=ms(()=>J("label",{for:"terms",class:"input-labels"},[mi("I hearby nominate myself to receive "),J("b",{class:"text-blue-500"},"Funding")],-1)),q1=ms(()=>J("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Submit",-1));function Z1(t,e,i,s,o,c){return Be(),$e("div",W1,[J("form",{onSubmit:e[3]||(e[3]=da((...u)=>c.submitForm&&c.submitForm(...u),["prevent"]))},[U1,z1,Y1,X1,J("div",{onClick:e[0]||(e[0]=(...u)=>c.openUploadWidget&&c.openUploadWidget(...u)),class:"flexRow uploadbtn"},$1),G1,Ci(J("textarea",{id:"applicant_motivation",rows:"4",class:"input textarea","onUpdate:modelValue":e[1]||(e[1]=u=>o.formData.applicant_motivation=u),required:"",placeholder:"I would be a great fit because..."},null,512),[[Wn,o.formData.applicant_motivation]]),J("div",J1,[J("div",null,[Ci(J("input",{id:"terms",type:"checkbox",value:"","onUpdate:modelValue":e[2]||(e[2]=u=>o.formData.agree=u),required:""},null,512),[[Ac,o.formData.agree]])]),Q1]),q1],32)])}const eI=$i(H1,[["render",Z1],["__scopeId","data-v-463cf0d5"]]),tI={props:{opp:Object,editing:Boolean,userType:String},computed:{...Ki(["getUser"])},data(){return{editMode:!1,editedTitle:"",applicant:!1,editedAmount:"",editedType:"",editedDescription:""}},async mounted(){const t=await this.getUser.user_type;this.applicant=t==="Applicant"},methods:{getImageSrcEdit(){return this.editedType==="Educational"?"https://svgsilh.com/svg/2429310.svg":this.editedType==="Business"?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAaVBMVEX///8BAQEAAAB8fHw4ODhiYmL09PTQ0NCSkpIsLCzDw8Ph4eHMzMyLi4vb29udnZ3u7u5ZWVk9PT2GhoZnZ2eoqKjg4OCysrJUVFSAgIDW1ta/v7+5ubl3d3cPDw8yMjJLS0seHh5vb2/ItqhJAAACrElEQVR4nO3d2WKiMABA0ZpWinRcKnVp0bH1/z9yZgSKDRkkkAXiPa8R5D7IJsvDAwAAAAAAAAAAAAAAAAAAgEeH2Jb5i++23FFY8+y7LfcoJpZQ6AqFFI6n0OA6dJiF4vfMGDHMwjdzsxxo4dTYHCMKHaNQH4WuUaiPQtco1EehaxTqo9A1CvVR6BqF+ih0ralwWZ4fXMgjaTHwqpgqjMJ5MaCaalyFxbIqCv8/FYWuUUhhHYWuUUhhHYWuURh6Yeh73pvT+mK2lUeW+cjTUTHVmAq7odA1CvVR6BqF+u6o8MPYLHuxWLh5/qUjMrYEP1ks1FTbcTLEXqFuoq3bMywWaqGwOwr1jalwt3+9+Kx9+SYf2aeKqXTXND4Lb/9/2HiM35bXwmJZu52nSaLVbdFhxIXt9ksTCvuikMI6CiUU9kYhhXUUSjwX3trzNnDlntfCJJ1fpCt55JCPpBvFVGMq7OZOC18k1UgghR/yUW81FEzh5BqFRlGoj0IKTWNroU9VuCr2/0pX58oDKWxAYW8U6htTYVyu+WrXjbwXA3vFVGMqvIezGBRS2AKFvVFopnAVL3+Iq6FACod6bGGycHKNQqMopLBuTIXfxxa9/10bauE2Sy6y2kXmi3wgUW3Ux7S16EZVGC0k1VAghQ0o7I1CfRRKKOyNQn2ahVnwhbuysHZZkiHeC8/FAnwZWwCJ78KovKNkbWwBJL4L47JwaWwBJJ4LE+s3BXkuzL5v7LL2M7T5jpKb93Jvz9VLaTJz3y8pC0/vphzLwrfmz51nogr8tBZo8V1BLWZZfdLi0wnsve+pPSFU1xoHVCiE6lFFARUKobrXNpzCv7/GndVAv4X/1jZT26+6fDS4Eu1gav8BKPPTkyfrfWpvMw8AAAAAAAAAAAAAAAAAANDOH6HfVItuARy5AAAAAElFTkSuQmCC":"https://icons.veryicon.com/png/o/miscellaneous/standard/event-19.png"},getImageSrc(t){return t==="Educational"?"https://svgsilh.com/svg/2429310.svg":t==="Business"?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAaVBMVEX///8BAQEAAAB8fHw4ODhiYmL09PTQ0NCSkpIsLCzDw8Ph4eHMzMyLi4vb29udnZ3u7u5ZWVk9PT2GhoZnZ2eoqKjg4OCysrJUVFSAgIDW1ta/v7+5ubl3d3cPDw8yMjJLS0seHh5vb2/ItqhJAAACrElEQVR4nO3d2WKiMABA0ZpWinRcKnVp0bH1/z9yZgSKDRkkkAXiPa8R5D7IJsvDAwAAAAAAAAAAAAAAAAAAgEeH2Jb5i++23FFY8+y7LfcoJpZQ6AqFFI6n0OA6dJiF4vfMGDHMwjdzsxxo4dTYHCMKHaNQH4WuUaiPQtco1EehaxTqo9A1CvVR6BqF+ih0ralwWZ4fXMgjaTHwqpgqjMJ5MaCaalyFxbIqCv8/FYWuUUhhHYWuUUhhHYWuURh6Yeh73pvT+mK2lUeW+cjTUTHVmAq7odA1CvVR6BqF+u6o8MPYLHuxWLh5/qUjMrYEP1ks1FTbcTLEXqFuoq3bMywWaqGwOwr1jalwt3+9+Kx9+SYf2aeKqXTXND4Lb/9/2HiM35bXwmJZu52nSaLVbdFhxIXt9ksTCvuikMI6CiUU9kYhhXUUSjwX3trzNnDlntfCJJ1fpCt55JCPpBvFVGMq7OZOC18k1UgghR/yUW81FEzh5BqFRlGoj0IKTWNroU9VuCr2/0pX58oDKWxAYW8U6htTYVyu+WrXjbwXA3vFVGMqvIezGBRS2AKFvVFopnAVL3+Iq6FACod6bGGycHKNQqMopLBuTIXfxxa9/10bauE2Sy6y2kXmi3wgUW3Ux7S16EZVGC0k1VAghQ0o7I1CfRRKKOyNQn2ahVnwhbuysHZZkiHeC8/FAnwZWwCJ78KovKNkbWwBJL4L47JwaWwBJJ4LE+s3BXkuzL5v7LL2M7T5jpKb93Jvz9VLaTJz3y8pC0/vphzLwrfmz51nogr8tBZo8V1BLWZZfdLi0wnsve+pPSFU1xoHVCiE6lFFARUKobrXNpzCv7/GndVAv4X/1jZT26+6fDS4Eu1gav8BKPPTkyfrfWpvMw8AAAAAAAAAAAAAAAAAANDOH6HfVItuARy5AAAAAElFTkSuQmCC":"https://icons.veryicon.com/png/o/miscellaneous/standard/event-19.png"},initializeEditData(){this.editedTitle=this.opp.title,this.editedDescription=this.opp.description,this.editedType=this.opp.type,this.editedAmount=parseInt(this.opp.amount.substring(1))},async notify(t,e){const i=await this.getUser.token,s=await this.getUser.name,o=await this.getUser.id;li.post(`${oi}/api/v1/notifications`,{id:o,adminRequired:1,title:"Assistance Required: Fund Manager Application",message:`Dear Admin, ${s} would like to update the amount for the opportunity titled ${t} to R${e}. Please review and approve.`},{headers:{Authorization:`${i}`}}).then(c=>{const u=c.data;console.log(u),u.message==="Success"?we.info("Follow up notification sent to admin"):u.message==="Failure"?we.warning("Follow up notification could not be sent to admin"):we.error("Failed to send a follow up to admin")}).catch(c=>{if(c.response&&c.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const u=c.response?c.response.data.message:c.message;we.error(`Request failed: ${u}`),console.error(c)}})},async submitChanges(t,e){const i=await this.getUser.token,s=await this.getUser.user_type;let o=!1;this.opp.title=this.editedTitle,this.opp.description=this.editedDescription,s==="Admin"&&(this.opp.amount="R"+this.editedAmount),this.opp.amount!=="R"+this.editedAmount&&(o=!0),this.opp.type=this.editedType,this.editMode=!1,li.put(`${oi}/api/v1/oppotunities`,{title:this.opp.title,description:this.opp.description,amount:this.opp.amount,type:this.opp.type,id:t},{headers:{Authorization:`${i}`}}).then(c=>{c.data.message!=="Failure"?we.success("Updated successfully!"):we.error("Failed to post")}).catch(c=>{console.error(c)}),o&&(we.info("Admin has been notified for approval of the amount changed"),this.notify(this.opp.title,this.editedAmount))},cancelEdit(){this.editMode=!1}}},Qn=t=>(Ws("data-v-32603e6e"),t=t(),Us(),t),iI={class:"opp-card block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"},nI=["src","alt"],sI=["src","alt"],aI={class:"opp-title"},oI=Qn(()=>J("br",null,null,-1)),rI={class:"font-normal text-gray-700 dark:text-gray-400"},lI=Qn(()=>J("br",null,null,-1)),hI={key:2},cI={key:0,class:"flexRow"},dI={key:1},uI={class:"form-group"},pI=Qn(()=>J("label",{for:"editedTitle",class:"form-label"},"Title",-1)),gI={class:"form-group"},fI=Qn(()=>J("label",{for:"editedSummary",class:"form-label"},"Description",-1)),mI={class:"form-group"},xI=Qn(()=>J("label",{for:"editedAmount",class:"form-label"},"Amount",-1)),yI={class:"form-group"},vI=Qn(()=>J("label",{class:"form-label"},"Type",-1)),bI={class:"radio"},_I=Qn(()=>J("label",null,"Educational",-1)),CI={class:"radio"},TI=Qn(()=>J("label",null,"Business",-1)),wI={class:"radio"},kI=Qn(()=>J("label",null,"Events",-1)),AI={class:"flexRow"},SI=Qn(()=>J("button",{type:"submit",class:"download-button"},"Submit Changes",-1)),MI={key:3};function II(t,e,i,s,o,c){const u=fn("router-link");return Be(),$e("div",iI,[o.editMode?(Be(),$e("img",{key:1,src:c.getImageSrcEdit(),width:"50",height:"50",alt:o.editedType},null,8,sI)):(Be(),$e("img",{key:0,src:c.getImageSrc(i.opp.type),width:"50",height:"50",alt:o.editedType},null,8,nI)),J("h5",aI,ci(o.editMode?o.editedTitle:i.opp.title),1),J("h6",null,"Awarded amount: "+ci(o.editMode?"R"+o.editedAmount:i.opp.amount),1),oI,J("p",rI,ci(o.editMode?o.editedDescription:i.opp.description),1),lI,i.editing?(Be(),$e("div",hI,[o.editMode?(Be(),$e("div",dI,[J("form",{onSubmit:e[8]||(e[8]=da(x=>c.submitChanges(i.opp.id,i.opp.amount),["prevent"]))},[J("div",uI,[pI,Ci(J("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=x=>o.editedTitle=x),id:"editedTitle",class:"edit-input",placeholder:"Enter edited title"},null,512),[[Wn,o.editedTitle]])]),J("div",gI,[fI,Ci(J("textarea",{"onUpdate:modelValue":e[2]||(e[2]=x=>o.editedDescription=x),id:"editedDescription",class:"edit-textarea",placeholder:"Enter edited description"},null,512),[[Wn,o.editedDescription]])]),J("div",mI,[xI,Ci(J("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=x=>o.editedAmount=x),id:"editedAmount",class:"edit-input",placeholder:"Enter edited amount"},null,512),[[Wn,o.editedAmount]])]),J("div",yI,[vI,J("div",bI,[Ci(J("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=x=>o.editedType=x),value:"Educational",name:"type"},null,512),[[Fa,o.editedType]]),_I]),J("div",CI,[Ci(J("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=x=>o.editedType=x),value:"Business",name:"type"},null,512),[[Fa,o.editedType]]),TI]),J("div",wI,[Ci(J("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=x=>o.editedType=x),value:"Events",name:"type"},null,512),[[Fa,o.editedType]]),kI])]),J("div",AI,[J("button",{type:"button",class:"verdict-button",onClick:e[7]||(e[7]=(...x)=>c.cancelEdit&&c.cancelEdit(...x))},"Cancel"),SI])],32)])):(Be(),$e("div",cI,[J("button",{class:"download-button",onClick:e[0]||(e[0]=x=>{o.editMode=!0,c.initializeEditData()})},"Edit")]))])):(Be(),$e("div",MI,[o.applicant?(Be(),Qi(u,{key:0,to:"/apply-funding-opportunity/"+i.opp.id,class:"download-button"},{default:Oi(()=>[mi("Apply for Funding ")]),_:1},8,["to"])):on("",!0)]))])}const Hy=$i(tI,[["render",II],["__scopeId","data-v-32603e6e"]]),PI={components:{oppCardEdit:Hy},data(){return{data:[],userType:"Applicant"}},mounted(){this.checker(),this.readFundOpps()},computed:{...Ki(["getUser","isAuthenticated","getUserType"])},methods:{async checker(){const t=await this.getUser.user_type;t!=="Admin"&&t!=="Fund Manager"&&this.$router.push("/")},async readFundOpps(){const t=await this.getUser.id,e=await this.getUser.token;console.log(e);const i=await this.getUser.user_type;i==="Admin"?li.get(`${oi}/api/v1/oppotunities/`+t,{headers:{Authorization:`${e}`}}).then(s=>{const o=s.data;console.log(o),o.length===0?(this.message="No funding opportunities have been created",we.info(this.message)):this.data=o}).catch(s=>{console.error(s)}):i==="Fund Manager"&&li.get(`${oi}/api/v1/oppotunities/fund-manager/`+t,{headers:{Authorization:`${e}`}}).then(s=>{const o=s.data;console.log(o),o.length===0?(this.message="No funding opportunities have been created",we.info(this.message)):this.data=o}).catch(s=>{console.error(s)})}}},EI={class:"dashboard"},RI={class:"fundingOpps"};function LI(t,e,i,s,o,c){const u=fn("opp-card-edit");return Be(),$e("div",EI,[J("div",RI,[(Be(!0),$e(ni,null,mn(o.data,x=>(Be(),$e("div",{class:"opp-card",key:x.id},[Ot(u,{opp:x,userType:o.userType,editing:!0},null,8,["opp","userType"])]))),128))])])}const OI=$i(PI,[["render",LI],["__scopeId","data-v-f6505c36"]]),BI={data(){return{fundingOpps:[],message:"Fetching content... Please reload webpage if the content doesn't arrive within 10 seconds",selectedFile:null,formData:{title:"",summary:"",description:"",agree:!1}}},components:{oppCardEdit:Hy},computed:{...Ki(["getUser"])},methods:{async readFundOpps(){const t=await this.getUser.id,e=await this.getUser.token;li.get(`${oi}/api/v1/oppotunities/`+t,{headers:{Authorization:`${e}`}}).then(i=>{const s=i.data;console.log(s),s.length===0&&(this.message="No funding opportunities have been created",we.info(this.message)),this.fundingOpps=s}).catch(i=>{console.error(i)})}},created(){this.readFundOpps()}},FI={class:"dashboard"},DI={key:0,class:"fundingOpps"},NI={key:1};function VI(t,e,i,s,o,c){const u=fn("opp-card-edit");return Be(),$e("div",FI,[o.fundingOpps.length!=0?(Be(),$e("div",DI,[(Be(!0),$e(ni,null,mn(o.fundingOpps,x=>(Be(),$e("div",{class:"opp-card",key:x.id},[Ot(u,{opp:x,editing:!1},null,8,["opp"])]))),128))])):(Be(),$e("div",NI,ci(o.message),1))])}const HI=$i(BI,[["render",VI],["__scopeId","data-v-2c20f1e8"]]),WI={name:"AdminPanel",props:{data:Array,rejectedData:Array},computed:{...Ki(["getUser","getUserType"])},methods:{async notify(t,e){const i=await this.getUser.token;li.post(`${oi}/api/v1/notifications`,{id:e,adminRequired:0,title:"Fund Manager Application Verdict",message:t},{headers:{Authorization:`${i}`}}).then(s=>{const o=s.data;console.log(o),o.message==="Success"?we.info("Applicant has been notified"):o.message==="Failure"?we.warning("Applicant could not be notified"):we.error("Failed to notify applicant")}).catch(s=>{if(s.response&&s.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const o=s.response?s.response.data.message:s.message;we.error(`Request failed: ${o}`),console.error(s)}})},async verdict(t,e,i){const s=await this.getUser.token;li.put(oi+"/api/v1/apply/",{id:t,verdict:i},{headers:{Authorization:`${s}`}}).then(o=>{const c=o.data;c.status==="Success"?i===1&&c.message==="Successfully Evaluted and approved"?(we.success(this.data[e].username+" has been approved."),this.data.splice(e,1),this.notify("Congrations, your Fund Manager application has been approved.",t)):(we.success(this.data[e].username+" has been denied."),this.rejectedData.push(this.data[e]),this.data.splice(e,1),this.notify("Unfortunately, your Fund Manager application has been denied.",t)):c.message==="Failure to Evaluate"?we.warning(this.data[e].username+" could not be Updated."):we.error(this.data[e].username+" could not be Updated.")}).catch(o=>{if(o.response&&o.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const c=o.response?o.response.data.message:o.message;we.error(`Request failed: ${c}`),console.error(o)}})},deny(t,e){console.log("Denying:",t)}}},Fl=t=>(Ws("data-v-63082b09"),t=t(),Us(),t),UI={class:"admin-panel"},zI={class:"moop"},YI={class:"category-box"},XI=Fl(()=>J("article",{class:"pending-title-box"},[J("h2",{class:"bold-title"},"Fund Manager Requests")],-1)),jI={key:0,class:"no-data-box"},KI={key:1},$I=Fl(()=>J("h6",{style:{"margin-bottom":"0.5rem"}},"Applicant",-1)),GI=["href"],JI={class:"flexRow"},QI=["onClick"],qI=["onClick"],ZI={class:"category-box"},eP=Fl(()=>J("section",{class:"rejected-title-box"},[J("h2",{class:"bold-title"},"Rejected Fund Manager Requests")],-1)),tP=Fl(()=>J("p",{class:"bold-status-r"},"Denied",-1));function iP(t,e,i,s,o,c){return Be(),$e("div",UI,[J("section",null,[J("div",zI,[J("section",YI,[XI,i.data.length===0?(Be(),$e("div",jI," No Fund Manager Requests ")):(Be(),$e("div",KI,[(Be(!0),$e(ni,null,mn(i.data,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),$I,J("p",null,ci(u.justification),1),J("a",{class:"download-button",href:u.document,target:"_blank"},"View Attachments",8,GI),J("div",JI,[J("button",{class:"verdict2-button",onClick:C=>c.verdict(u.fk_tenant_id,x,0)},"Deny",8,QI),J("button",{class:"verdict-button",onClick:C=>c.verdict(u.fk_tenant_id,x,1)},"Approve",8,qI)])]))),128))]))]),J("div",ZI,[eP,J("div",null,[(Be(!0),$e(ni,null,mn(i.rejectedData,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),tP]))),128))])])])])])}const nP=$i(WI,[["render",iP],["__scopeId","data-v-63082b09"]]),sP={data(){return{enabledUsers:[],disabledUsers:[]}},components:{AdminPanel:nP},mounted(){this.fetchData(),this.checker()},computed:{...Ki(["getUser","isAuthenticated"])},methods:{async fetchData(){const t=await this.getUser.token;li.get(oi+"/api/v1/apply/",{headers:{Authorization:`${t}`}}).then(e=>{const i=e.data;console.log(i),i.message==="Success"?this.enabledUsers=i.applications:i.message==="Failure"?we.info("No Applicants found"):we.error("Failed to fetch Applicants")}).catch(e=>{if(e.response&&e.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const i=e.response?e.response.data.message:e.message;we.error(`Request failed: ${i}`),console.error(e)}})},async checker(){await this.getUser.user_type!=="Admin"&&this.$router.push("/")}}};function aP(t,e,i,s,o,c){const u=fn("AdminPanel");return Be(),Qi(u,{data:o.enabledUsers,rejectedData:o.disabledUsers},null,8,["data","rejectedData"])}const oP=$i(sP,[["render",aP],["__scopeId","data-v-10484d1a"]]),rP={mounted(){this.fetchData()},data(){return{fundsUsedData:{},acceptedCounts:{},chart1:null,chart2:null,chart3:null,chart4:null,options1:{animationEnabled:!0,exportEnabled:!0,theme:"light2",title:{text:"Funds consumed over time"},axisY:{title:"Amount"},data:[{type:"line",color:"#1DA1F2",dataPoints:[]}]},styleOptions:{width:window.innerWidth>600?"50%":"100%",height:"360px"},options2:{theme:"light2",animationEnabled:!0,exportEnabled:!0,title:{text:"Funds consumed (%)"},data:[{type:"pie",indexLabel:"{label} (#percent%)",yValueFormatString:"#,##0",toolTipContent:`<span style='"'color: {color};'"'>{label}</span> {y}(#percent%)`,dataPoints:[]}]},options3:{animationEnabled:!0,theme:"light2",exportEnabled:!0,title:{text:"Types of Funding Opportunities"},data:[{type:"column",dataPoints:[]}]},options4:{theme:"light2",animationEnabled:!0,exportEnabled:!0,title:{text:"Accepted vs Rejected Applicants"},data:[{type:"pie",indexLabel:"{label} (#percent%)",yValueFormatString:"#,##0",toolTipContent:`<span style='"'color: {color};'"'>{label}</span> {y}(#percent%)`,dataPoints:[]}]}}},computed:{...Ki(["getUser","isAuthenticated"])},mounted(){this.checker(),this.fetchData()},methods:{chart2Instance(t){this.chart2=t},chart3Instance(t){this.chart3=t},chart4Instance(t){this.chart4=t},chart1Instance(t){this.chart1=t},async checker(){await this.getUser.user_type!=="Fund Manager"&&this.$router.push("/")},parseAmount(t){return parseInt(t.replace("R",""))},async fetchData(){const t=await this.getUser.token,e=await this.getUser.id;li.get(oi+"/api/v1/reports/"+e,{headers:{Authorization:`${t}`}}).then(i=>{const s=i.data;if(console.log(s),s.message==="Success"){const o=s.consumed,c=s.total,x=s.report.map(function(U){return{label:U.date,y:parseFloat(U.amount.replace("R",""))}});x.push({label:"25th May",y:2500}),x.push({label:"26th May",y:3e3}),this.options1.data[0].dataPoints=x,this.chart1.render(),we.info("You have consumed R"+o+" out of R"+c),this.options2.data[0].dataPoints=[{label:"Consumed",y:o,color:"#3fa0dc"},{label:"Remaining",y:c-o,color:"#39cb39"}],this.chart2.render();const C=s.EducationalCount,S=s.BusinessCount,b=s.EventsCount;console.log(C,S,b),this.options3.data[0].dataPoints=[{label:"Educational",y:C,color:"#39cb39"},{label:"Business",y:S,color:"#0fa20f"},{label:"Events",y:b,color:"#3fa0dc"}],this.chart3.render();const L=s.AcceptedCount,B=s.RejectedCount;this.options4.data[0].dataPoints=[{label:"Accepted",y:L,color:"#39cb39"},{label:"Rejected",y:B,color:"#3fa0dc"}],this.chart4.render()}else s.message==="Failure"?we.info("Insufficient data to display a report"):we.error("Failed to fetch funds")}).catch(i=>{if(i.response&&i.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const s=i.response?i.response.data.message:i.message;we.error(`Request failed: ${s}`),console.error(i)}})}}},lP={class:"flexCenter"};function hP(t,e,i,s,o,c){const u=fn("CanvasJSChart");return Be(),$e("div",lP,[Ot(u,{options:o.options1,style:Hn(o.styleOptions),onChartRef:c.chart1Instance},null,8,["options","style","onChartRef"]),Ot(u,{options:o.options2,style:Hn(o.styleOptions),onChartRef:c.chart2Instance},null,8,["options","style","onChartRef"]),Ot(u,{options:o.options3,style:Hn(o.styleOptions),onChartRef:c.chart3Instance},null,8,["options","style","onChartRef"]),Ot(u,{options:o.options4,style:Hn(o.styleOptions),onChartRef:c.chart4Instance},null,8,["options","style","onChartRef"])])}const cP=$i(rP,[["render",hP],["__scopeId","data-v-ad731ffa"]]),dP={data(){return{notifications:[]}},created(){this.fetchData()},computed:{...Ki(["getUser"])},methods:{async removeNotification(t){const e=await this.getUser.token;li.put(`${oi}/api/v1/notifications/`,{id:t},{headers:{Authorization:`${e}`}}).then(i=>{const s=i.data;s.message==="Success"?(we.success("Notification has been removed."),this.notifications=this.notifications.filter(o=>o.id!==t)):s.message==="Failure"?we.warning("Notification could not be removed."):we.error("Notification could not be removed.")}).catch(i=>{if(i.response&&i.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const s=i.response?i.response.data.message:i.message;we.error(`Request failed: ${s}`),console.error(i)}})},async fetchData(){const t=await this.getUser.token,e=await this.getUser.id;console.log(e);const s=await this.getUser.user_type==="Admin"?`${oi}/api/v1/notifications/admin`:`${oi}/api/v1/notifications/`+e;console.log(s),li.get(s,{headers:{Authorization:`${t}`}}).then(o=>{const c=o.data;console.log(c),c.message==="Success"?(we.success("Notifications fetched successfully"),console.log(c.notifications),this.notifications=c.notifications):c.message==="Failure"?we.info("No notifications found"):we.error("Failed to fetch notifications")}).catch(o=>{if(o.response&&o.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const c=o.response?o.response.data.message:o.message;we.error(`Request failed: ${c}`),console.error(o)}})}}},uP=t=>(Ws("data-v-a65bbeb6"),t=t(),Us(),t),pP={class:"content"},gP={class:"notifications-container"},fP={class:"notification-content"},mP=uP(()=>J("div",{class:"icon-container"},[J("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[J("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),xP={class:"text-container"},yP=["onClick"];function vP(t,e,i,s,o,c){return Be(),$e("div",pP,[J("div",gP,[J("ul",null,[(Be(!0),$e(ni,null,mn(o.notifications,u=>(Be(),$e("li",{key:u.id,class:"notification-item"},[J("div",fP,[mP,J("div",xP,[J("h2",null,ci(u.title),1),J("p",null,ci(u.message),1)])]),J("button",{onClick:x=>c.removeNotification(u.id),class:"remove-button"},"remove",8,yP)]))),128))])])])}const bP=$i(dP,[["render",vP],["__scopeId","data-v-a65bbeb6"]]);function _P(t){const e=new Date(t),s=(new Date().getTime()-e.getTime())/1e3;if(s<60)return`${Math.round(s)} seconds ago`;if(s<3600)return`${Math.round(s/60)} minutes ago`;if(s<=86400)return`${Math.round(s/3600)} hours ago`;if(s>86400){const o=Math.round(s/86400);return`${o} day${o>1?"s":""} ago`}}const CP={name:"columns",props:{data:Array,enabledColName:String,disabledColName:String,rejectedData:Array},computed:{...Ki(["getUser","getUserType"])},methods:{timeAgo(t){return _P(t)},async block(t,e){const i=await this.getUser.token;li.put(oi+"/api/v1/user/",{id:t,disabled:1},{headers:{Authorization:`${i}`}}).then(s=>{const o=s.data;o.message==="Success"?(we.success(this.data[e].username+" has been blocked."),this.rejectedData.push(this.data[e]),this.data.splice(e,1)):o.message==="Failure"?we.warning(this.data[e].username+" could not be blocked."):we.error(this.data[e].username+" could not be blocked.")}).catch(s=>{if(s.response&&s.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const o=s.response?s.response.data.message:s.message;we.error(`Request failed: ${o}`),console.error(s)}})}}},TP=t=>(Ws("data-v-692c9c9a"),t=t(),Us(),t),wP={class:"category-box"},kP={class:"pending-title-box"},AP={class:"bold-title"},SP={key:0,class:"no-data-box"},MP={key:1},IP=["onClick"],PP={key:0,class:"category-box"},EP={class:"rejected-title-box"},RP={class:"bold-title"},LP=TP(()=>J("p",{class:"bold-status-r"},"Blocked",-1));function OP(t,e,i,s,o,c){return Be(),$e("div",null,[J("section",wP,[J("article",kP,[J("h2",AP,ci(i.enabledColName),1)]),i.data.length===0?(Be(),$e("div",SP," No data ")):(Be(),$e("div",MP,[(Be(!0),$e(ni,null,mn(i.data,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),J("p",null,ci(u.user_type),1),J("button",{class:"verdict2-button",onClick:C=>c.block(u.tenant_id,x)},"Block",8,IP)]))),128))]))]),i.data.length===0?(Be(),$e("div",PP,[J("section",EP,[J("h2",RP,ci(i.disabledColName),1)]),J("div",null,[(Be(!0),$e(ni,null,mn(i.rejectedData,(u,x)=>(Be(),$e("div",{key:x,class:"card"},[J("h5",null,[J("strong",null,ci(u.username),1)]),J("p",null,ci(u.user_type),1),LP]))),128))])])):on("",!0)])}const BP=$i(CP,[["render",OP],["__scopeId","data-v-692c9c9a"]]),FP={data(){return{enabledUsers:[],disabledUsers:[]}},components:{columns:BP},mounted(){this.checker(),this.fetchData()},computed:{...Ki(["getUser","isAuthenticated"])},methods:{async checker(){await this.getUser.user_type!=="Admin"&&this.$router.push("/")},async fetchData(){const t=await this.getUser.token;li.get(oi+"/api/v1/user/All/",{headers:{Authorization:`${t}`}}).then(e=>{const i=e.data;console.log(i),i.message==="Success"?(this.enabledUsers=i.users.filter(s=>s.disabled===!1),this.disabledUsers=i.users.filter(s=>s.disabled===!0)):i.message==="Failure"?we.warning("No Users found"):we.error("Failed to fetch users")}).catch(e=>{if(e.response&&e.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const i=e.response?e.response.data.message:e.message;we.error(`Request failed: ${i}`),console.error(e)}})}}},DP={class:"admin-panel"},NP={class:"moop"};function VP(t,e,i,s,o,c){const u=fn("columns");return Be(),$e("div",DP,[J("section",null,[J("div",NP,[Ot(u,{disabledColName:"Blocked Users",enabledColName:"Blockable Users",data:o.enabledUsers,rejectedData:o.disabledUsers},null,8,["data","rejectedData"])])])])}const HP=$i(FP,[["render",VP],["__scopeId","data-v-d0fffeec"]]),WP={data(){return{formData:{username:"",profilePic:""}}},async mounted(){this.formData.username=await this.getUser.username,this.formData.profilePic=await this.getUser.profile_pic},computed:{...Ki(["getUser","getUserType"])},methods:{openUploadWidget(){window.cloudinary.createUploadWidget({cloud_name:"djid7mzda",upload_preset:"upload-demo",sources:["local","url","dropbox","google_drive","facebook","instagram"],resource_type:"image",client_allowed_formats:["jpg","png","jpeg"],cropping:!0,cropping_aspect_ratio:1,cropping_default_selection_ratio:1,cropping_show_dimensions:!0,max_file_size:10485760},(e,i)=>{!e&&i&&i.event==="success"?(this.formData.profilePic=i.info.url,console.log("Profile picture uploaded: ",i.info)):console.log(e)}).open()},async updateProfile(){const t=await this.getUser.token,e=await this.getUser.id,i=await this.getUser.username;li.put(oi+"/api/v1/user/profile",{id:e,username:this.formData.username,profile_pic:this.formData.profilePic},{headers:{Authorization:`${t}`}}).then(s=>{const o=s.data;o.message==="Success"?(we.success(i+" has been updated."),this.getUser.profile_pic=this.formData.profilePic,this.getUser.username=this.formData.username):o.message==="Failure"?we.warning(i+" could not be updated."):we.error(i+" could not be updated.")}).catch(s=>{if(s.response&&s.response.status===401)we.error("Unauthorized access - please log in again"),console.error("Unauthorized access - please log in again");else{const o=s.response?s.response.data.message:s.message;we.error(`Request failed: ${o}`),console.error(s)}})}}},ao=t=>(Ws("data-v-f16b9d79"),t=t(),Us(),t),UP={class:"container"},zP=ao(()=>J("h2",{class:"text-2xl font-semibold mb-6 text-gray-800"},"Update Profile",-1)),YP={class:"mb-4"},XP=ao(()=>J("label",{for:"username",class:"block text-gray-700 font-bold mb-2"},"Username",-1)),jP={class:"mb-4"},KP=ao(()=>J("label",{for:"profilePic",class:"block text-gray-700 font-bold mb-2"},"Profile Picture",-1)),$P=ao(()=>J("img",{src:"https://www.svgrepo.com/show/485545/upload-cicle.svg",alt:"file upload icon",width:"30",height:"30"},null,-1)),GP=ao(()=>J("div",null,[J("span",{class:"block text-base font-semibold relative text-blue-900 group-hover:text-blue-500"}," Upload a file "),J("span",{class:"mt-0.5 block text-sm text-gray-500"},"Max 10 MB")],-1)),JP=[$P,GP],QP=ao(()=>J("button",{type:"submit",class:"submit-button"}," Update Profile ",-1));function qP(t,e,i,s,o,c){return Be(),$e("div",UP,[zP,J("form",{onSubmit:e[2]||(e[2]=da((...u)=>c.updateProfile&&c.updateProfile(...u),["prevent"])),class:"form-container"},[J("div",YP,[XP,Ci(J("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=u=>o.formData.username=u),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[Wn,o.formData.username]])]),J("div",jP,[KP,J("div",{onClick:e[1]||(e[1]=(...u)=>c.openUploadWidget&&c.openUploadWidget(...u)),class:"flexRow uploadbtn"},JP)]),QP],32)])}const ZP=$i(WP,[["render",qP],["__scopeId","data-v-f16b9d79"]]),eE=S_({history:n_("/"),routes:[{path:"/apply-funding-manager",name:"apply-funding-manager",component:e1},{path:"/reports",name:"reports",component:cP},{path:"/notifications",name:"notifications",component:bP},{path:"/admin",name:"admin",component:HP},{path:"/funding-manager-applications",name:"funding-manager-applications",component:oP},{path:"/profile",name:"profile",component:ZP},{path:"/view-funding-oppurtunities",name:"view-funding-applications",component:OI},{path:"/apply-funding-opportunity/:id",name:"apply-funding-oppurtunity",component:eI},{path:"/",name:"dashboard",component:HI},{path:"/funding-applications",name:"FA",component:V1},{path:"/submit-funding-oppurtunity",name:"submit-funding-oppurtunity",component:x1}]}),tE="/assets/logo-BBPiBC88.png",iE={name:"HeaderBar",data(){return{pfpUrl:"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg"}},computed:{...Ki(["getUser","getUserType"]),userName(){return this.user?this.user.username:"New User"},userType(){return this.user?this.user.user_type:"Unknown User Type"},pfp(){return this.user?this.user.profile_pic:this.pfpUrl}},methods:{myMethod(){Toast.success("I'm an info toastdsd!")}},setup(){const{login:t,logout:e,handleRedirect:i}=US(),s=yc(null),o=async()=>{await t()},c=async()=>{await e()},u=async()=>{try{await Fn.initialize()}catch(x){console.error("Initialization error:",x)}};return pl(async()=>{await u();const x=await i();console.log("fdsb",x),s.value=x,x?x.disabled===!0?(we.error("User is blocked!"),window.location.href="https://www.youtube.com/shorts/jw3jjN8kCyo"):we.success("User logged in successfully!"):(we.error("User not logged in!"),await o())}),{handleLogin:o,user:s,handleLogout:c}}},nE={class:"p-8 pb-0"},sE={class:"bg-white border-gray-200 dark:bg-gray-900"},aE={class:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"},oE=J("img",{src:tE,height:"70",width:"70",alt:"Logo"},null,-1),rE=J("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white"},"Ezezimalis",-1),lE={class:"flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse"},hE={type:"button",class:"flex text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",id:"user-menu-button","aria-expanded":"false","data-dropdown-toggle":"user-dropdown","data-dropdown-placement":"bottom",style:{"border-radius":"100%","background-color":"white"}},cE=["src"],dE={class:"z-50 p-4 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600",id:"user-dropdown"},uE={class:"px-4 py-3"},pE={class:"block text-sm text-gray-900 dark:text-white"},gE={class:"block text-sm text-gray-500 truncate dark:text-gray-400"},fE={class:"py-2","aria-labelledby":"user-menu-button"},mE={key:0},xE={key:1},yE={key:2},vE={key:3},bE={key:4},_E={key:5};function CE(t,e,i,s,o,c){const u=fn("router-link");return Be(),$e("header",nE,[J("nav",sE,[J("div",aE,[Ot(u,{to:"/",class:"flex items-center space-x-3 rtl:space-x-reverse"},{default:Oi(()=>[oE,rE]),_:1}),J("div",lE,[J("button",hE,[J("img",{style:{"border-radius":"100%","background-color":"white"},id:"pfp",height:"50",width:"50",class:"rounded-full h-0 bg-white",src:c.pfp,alt:"user photo"},null,8,cE)]),J("div",dE,[J("div",uE,[J("span",pE,ci(c.userName),1),J("span",gE,ci(c.userType),1)]),J("ul",fE,[J("li",null,[Ot(u,{to:"/",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Dashboard")]),_:1})]),c.userType==="Fund Manager"||c.userType==="Admin"?(Be(),$e("li",mE,[Ot(u,{to:"/view-funding-oppurtunities",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("View opportunities")]),_:1})])):on("",!0),c.userType==="Fund Manager"?(Be(),$e("li",xE,[Ot(u,{to:"/submit-funding-oppurtunity",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Create an Oppurtunity")]),_:1})])):on("",!0),c.userType==="Fund Manager"?(Be(),$e("li",yE,[Ot(u,{to:"/funding-applications",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("View Applications")]),_:1})])):on("",!0),c.userType==="Admin"?(Be(),$e("li",vE)):on("",!0),c.userType==="Applicant"?(Be(),$e("li",bE,[Ot(u,{to:"/apply-funding-manager",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Manager Application")]),_:1})])):on("",!0),J("li",null,[Ot(u,{to:"/notifications",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Notifications")]),_:1}),c.userType==="Admin"?(Be(),Qi(u,{key:0,to:"/funding-manager-applications",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Manage Applications")]),_:1})):on("",!0),c.userType==="Admin"?(Be(),Qi(u,{key:1,to:"/admin",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Block User")]),_:1})):on("",!0)]),c.userType==="Fund Manager"?(Be(),$e("li",_E,[Ot(u,{to:"/reports",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("View Reports")]),_:1})])):on("",!0),J("li",null,[Ot(u,{to:"/profile",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},{default:Oi(()=>[mi("Settings")]),_:1})]),J("li",null,[c.userName=="New User"?(Be(),$e("button",{key:0,onClick:e[0]||(e[0]=(...x)=>s.handleLogin&&s.handleLogin(...x)),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Sign in")):(Be(),$e("button",{key:1,onClick:e[1]||(e[1]=(...x)=>s.handleLogout&&s.handleLogout(...x)),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Sign out"))])])])])])])])}const TE=$i(iE,[["render",CE]]),wE=J("footer",null,[J("article",{class:"max-w-screen-xl mx-auto p-8"},[J("p",{class:"text-center text-gray-500"},"© 2024 Ezezimali. All rights reserved.")])],-1),kE={__name:"App",setup(t){return pl(()=>{gm()}),(e,i)=>(Be(),$e("body",null,[Ot(TE),Ot(Ls(jf)),wE]))}};var Yd={exports:{}};function Xd(){}Xd.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function o(){s.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=i.length;for(s;s<o;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],o=[];if(s&&e)for(var c=0,u=s.length;c<u;c++)s[c].fn!==e&&s[c].fn._!==e&&o.push(s[c]);return o.length?i[t]=o:delete i[t],this}};Yd.exports=Xd;Yd.exports.TinyEmitter=Xd;var AE=Yd.exports;const SE=Dd(AE);var Wy={exports:{}};(function(t){(function(){function e(A,P){A.prototype=i(P.prototype),A.prototype.constructor=A,A.base=P.prototype}function i(A){function P(){}return P.prototype=A,new P}function s(A,P,D){return D==="millisecond"?A.setMilliseconds(A.getMilliseconds()+1*P):D==="second"?A.setSeconds(A.getSeconds()+1*P):D==="minute"?A.setMinutes(A.getMinutes()+1*P):D==="hour"?A.setHours(A.getHours()+1*P):D==="day"?A.setDate(A.getDate()+1*P):D==="week"?A.setDate(A.getDate()+7*P):D==="month"?A.setMonth(A.getMonth()+1*P):D==="year"&&A.setFullYear(A.getFullYear()+1*P),A}function o(A,P){var D=!1;for(0>A&&(D=!0,A*=-1),A=""+A,P=P||1;A.length<P;)A="0"+A;return D?"-"+A:A}function c(A){if(!A)return A;A=A.replace(/^\s\s*/,"");for(var P=/\s/,D=A.length;P.test(A.charAt(--D)););return A.slice(0,D+1)}function u(A){A.roundRect=function(P,D,re,Se,Oe,fe,xt,Et){xt&&(this.fillStyle=xt),Et&&(this.strokeStyle=Et),typeof Oe>"u"&&(Oe=5),this.lineWidth=fe,this.beginPath(),this.moveTo(P+Oe,D),this.lineTo(P+re-Oe,D),this.quadraticCurveTo(P+re,D,P+re,D+Oe),this.lineTo(P+re,D+Se-Oe),this.quadraticCurveTo(P+re,D+Se,P+re-Oe,D+Se),this.lineTo(P+Oe,D+Se),this.quadraticCurveTo(P,D+Se,P,D+Se-Oe),this.lineTo(P,D+Oe),this.quadraticCurveTo(P,D,P+Oe,D),this.closePath(),xt&&this.fill(),Et&&0<fe&&this.stroke()}}function x(A,P){return A-P}function C(A){var P=((A&16711680)>>16).toString(16),D=((A&65280)>>8).toString(16);return A=((A&255)>>0).toString(16),P=2>P.length?"0"+P:P,D=2>D.length?"0"+D:D,A=2>A.length?"0"+A:A,"#"+P+D+A}function S(A,P){var D=this.length>>>0,re=Number(P)||0,re=0>re?Math.ceil(re):Math.floor(re);for(0>re&&(re+=D);re<D;re++)if(re in this&&this[re]===A)return re;return-1}function b(A){return A===null||typeof A>"u"}function L(A){return A.indexOf||(A.indexOf=S),A}function B(A){Yt.fSDec&&A[Ai("`eeDwdouMhrudods")](Ai("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Yt._fTWm&&Yt._fTWm(A)})}function U(A,P,D){D=D||"normal";var re=A+"_"+P+"_"+D,Se=Ne[re];if(isNaN(Se)){try{if(!Ce){var Oe=document.body;Ce=document.createElement("span"),Ce.innerHTML="";var fe=document.createTextNode("Mpgyi");Ce.appendChild(fe),Oe.appendChild(Ce)}Ce.style.display="",me(Ce,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:A,fontSize:P+"px",fontWeight:D}),Se=Math.round(Ce.offsetHeight),Ce.style.display="none"}catch{Se=Math.ceil(1.1*P)}Se=Math.max(Se,P),Ne[re]=Se}return Se}function q(A,P){var D=[];if(D={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[A||"solid"])for(var re=0;re<D.length;re++)D[re]*=P;else D=[];return D}function ne(A,P,D,re,Se){return re=re||[],Se=b(Se)?Ie?{passive:!1,capture:!1}:!1:Se,re.push([A,P,D,Se]),A.addEventListener?(A.addEventListener(P,D,Se),D):A.attachEvent?(re=function(Oe){Oe=Oe||window.event,Oe.preventDefault=Oe.preventDefault||function(){Oe.returnValue=!1},Oe.stopPropagation=Oe.stopPropagation||function(){Oe.cancelBubble=!0},D.call(A,Oe)},A.attachEvent("on"+P,re),re):!1}function ce(A){if(A._menuButton)A.exportEnabled?(me(A._menuButton,{backgroundColor:A.toolbar.itemBackgroundColor,color:A.toolbar.fontColor}),Ae(A._menuButton),We(A,A._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&A._menuButton.childNodes[0]&&me(A._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):tt(A._menuButton);else if(A.exportEnabled&&X){var P=!1;A._menuButton=document.createElement("button"),We(A,A._menuButton,"menu"),A._toolBar.appendChild(A._menuButton),ne(A._menuButton,"touchstart",function(Oe){P=!0},A.allDOMEventHandlers),ne(A._menuButton,"click",function(){A._dropdownMenu.style.display!=="none"||A._dropDownCloseTime&&500>=new Date().getTime()-A._dropDownCloseTime.getTime()||(A._dropdownMenu.style.display="block",A._menuButton.blur(),A._dropdownMenu.focus())},A.allDOMEventHandlers,!0),ne(A._menuButton,"mousemove",function(){P||(me(A._menuButton,{backgroundColor:A.toolbar.itemBackgroundColorOnHover,color:A.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&me(A._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},A.allDOMEventHandlers,!0),ne(A._menuButton,"mouseout",function(){P||(me(A._menuButton,{backgroundColor:A.toolbar.itemBackgroundColor,color:A.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&me(A._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},A.allDOMEventHandlers,!0)}if(A.exportEnabled&&A._dropdownMenu){var D=A.theme&&A.theme.indexOf("dark")!==-1?"black":"#888888";me(A._dropdownMenu,{backgroundColor:A.toolbar.itemBackgroundColor,color:A.toolbar.fontColor,boxShadow:"2px 2px 10px "+D});for(var D=A._dropdownMenu.childNodes,re=[A._cultureInfo.printText,A._cultureInfo.saveJPGText,A._cultureInfo.savePNGText],Se=0;Se<re.length;Se++)me(D[Se],{backgroundColor:A.toolbar.itemBackgroundColor,color:A.toolbar.fontColor}),D[Se].innerHTML=re[Se]}else!A._dropdownMenu&&A.exportEnabled&&X&&(P=!1,A._dropdownMenu=document.createElement("div"),A._dropdownMenu.setAttribute("tabindex",-1),D=A.theme&&A.theme.indexOf("dark")!==-1?"black":"#888888",me(A._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:A.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+D}),A._dropdownMenu.style.display="none",A._toolBar.appendChild(A._dropdownMenu),ne(A._dropdownMenu,"blur",function(){tt(A._dropdownMenu),A._dropDownCloseTime=new Date},A.allDOMEventHandlers,!0),D=document.createElement("div"),me(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=A._cultureInfo.printText,D.style.backgroundColor=A.toolbar.itemBackgroundColor,D.style.color=A.toolbar.fontColor,A._dropdownMenu.appendChild(D),ne(D,"touchstart",function(Oe){P=!0},A.allDOMEventHandlers),ne(D,"mousemove",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColorOnHover,this.style.color=A.toolbar.fontColorOnHover)},A.allDOMEventHandlers,!0),ne(D,"mouseout",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColor,this.style.color=A.toolbar.fontColor)},A.allDOMEventHandlers,!0),ne(D,"click",function(){A.print(),tt(A._dropdownMenu)},A.allDOMEventHandlers,!0),D=document.createElement("div"),me(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=A._cultureInfo.saveJPGText,D.style.backgroundColor=A.toolbar.itemBackgroundColor,D.style.color=A.toolbar.fontColor,A._dropdownMenu.appendChild(D),ne(D,"touchstart",function(Oe){P=!0},A.allDOMEventHandlers),ne(D,"mousemove",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColorOnHover,this.style.color=A.toolbar.fontColorOnHover)},A.allDOMEventHandlers,!0),ne(D,"mouseout",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColor,this.style.color=A.toolbar.fontColor)},A.allDOMEventHandlers,!0),ne(D,"click",function(){A.exportChart({format:"jpeg",fileName:A.exportFileName}),tt(A._dropdownMenu)},A.allDOMEventHandlers,!0),D=document.createElement("div"),me(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=A._cultureInfo.savePNGText,D.style.backgroundColor=A.toolbar.itemBackgroundColor,D.style.color=A.toolbar.fontColor,A._dropdownMenu.appendChild(D),ne(D,"touchstart",function(Oe){P=!0},A.allDOMEventHandlers),ne(D,"mousemove",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColorOnHover,this.style.color=A.toolbar.fontColorOnHover)},A.allDOMEventHandlers,!0),ne(D,"mouseout",function(){P||(this.style.backgroundColor=A.toolbar.itemBackgroundColor,this.style.color=A.toolbar.fontColor)},A.allDOMEventHandlers,!0),ne(D,"click",function(){A.exportChart({format:"png",fileName:A.exportFileName}),tt(A._dropdownMenu)},A.allDOMEventHandlers,!0))}function ke(A,P,D){for(A*=Wt,P*=Wt,A=D.getImageData(A,P,2,2).data,P=!0,D=0;4>D;D++)if(A[D]!==A[D+4]|A[D]!==A[D+8]|A[D]!==A[D+12]){P=!1;break}return P?A[0]<<16|A[1]<<8|A[2]:0}function pe(A,P,D){return A in P?P[A]:D[A]}function Pe(A,P,D,re){X&&Ft?(re=!b(re)&&re?A.getContext("2d",{willReadFrequently:!0}):A.getContext("2d"),hi=re.webkitBackingStorePixelRatio||re.mozBackingStorePixelRatio||re.msBackingStorePixelRatio||re.oBackingStorePixelRatio||re.backingStorePixelRatio||1,Wt=Jt/hi,A.width=P*Wt,A.height=D*Wt,Jt!==hi&&(A.style.width=P+"px",A.style.height=D+"px",re.scale(Wt,Wt))):(A.width=P,A.height=D)}function Ee(A){if(!Xs){var P=!1,D=!1;typeof Bt.Chart.creditHref>"u"?(A.creditHref=Ai("iuuqr;..b`ow`rkr/bnl."),A.creditText=Ai("B`ow`rKR/bnl")):(P=A.updateOption("creditText"),D=A.updateOption("creditHref")),A.creditHref&&A.creditText&&(A._creditLink||(A._creditLink=document.createElement("a"),A._creditLink.setAttribute("class","canvasjs-chart-credit"),A._creditLink.setAttribute("title","JavaScript Charts"),me(A._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:A.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),A._creditLink.setAttribute("tabIndex",-1),A._creditLink.setAttribute("target","_blank")),(A.renderCount===0||P||D)&&(A._creditLink.setAttribute("href",A.creditHref),A._creditLink.innerHTML=A.creditText),A._creditLink&&A.creditHref&&A.creditText?(A._creditLink.parentElement||A._canvasJSContainer.appendChild(A._creditLink),A._creditLink.style.top=A.height-14+"px"):A._creditLink.parentElement&&A._canvasJSContainer.removeChild(A._creditLink))}}function De(A,P,D){var re=document.createElement("canvas");return re.setAttribute("class","canvasjs-chart-canvas"),Pe(re,A,P,D),X||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(re),re}function me(A,P){for(var D in P)A.style[D]=P[D]}function We(A,P,D){P.getAttribute("state")||(P.style.backgroundColor=A.toolbar.itemBackgroundColor,P.style.color=A.toolbar.fontColor,P.style.border="none",me(P,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),P.getAttribute("state")!==D&&(P.setAttribute("state",D),P.setAttribute("type","button"),me(P,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),P.innerHTML="<img src='"+Ko[D].image+"' alt='"+A._cultureInfo[D+"Text"]+"' />",me(P.childNodes[0],{height:"95%",pointerEvents:"none"})),P.setAttribute("title",A._cultureInfo[D+"Text"])}function Ae(){for(var A=null,P=0;P<arguments.length;P++)A=arguments[P],A.style&&(A.style.display="inline")}function tt(){for(var A=null,P=0;P<arguments.length;P++)(A=arguments[P])&&A.style&&(A.style.display="none")}function st(A,P,D,re,Se){return A===null||typeof A>"u"?typeof D>"u"?P:D:(A=parseFloat(A.toString())*(0<=A.toString().indexOf("%")?P/100:1),typeof re<"u"&&(A=Math.min(re,A),typeof Se<"u"&&(A=Math.max(Se,A))),!isNaN(A)&&A<=P&&0<=A?A:typeof D>"u"?P:D)}function et(A,P,D,re,Se){this._defaultsKey=A,this._themeOptionsKey=P,this._index=re,this.parent=Se,this._eventListeners=[],A={},this.theme&&b(this.parent)&&b(P)&&b(re)?A=b(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[P]&&(re===null?A=this.parent.themeOptions[P]:0<this.parent.themeOptions[P].length&&(re=Math.min(this.parent.themeOptions[P].length-1,re),A=this.parent.themeOptions[P][re])),this.themeOptions=A,this.options=D||{_isPlaceholder:!0},this.setOptions(this.options,A)}function ze(A,P,D,re,Se){typeof Se>"u"&&(Se=0),this._padding=Se,this._x1=A,this._y1=P,this._x2=D,this._y2=re,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function Le(A,P){Le.base.constructor.call(this,"TextBlock",null,P,null,null),this.ctx=A,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Rt(A,P){Rt.base.constructor.call(this,"Toolbar","toolbar",P,null,A),this.chart=A,this.canvas=A.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function Gt(A,P){if(Gt.base.constructor.call(this,"Title","title",P,null,A),this.chart=A,this.canvas=A.canvas,this.ctx=this.chart.ctx,this.optionsName="title",b(this.options.margin)&&A.options.subtitles){for(var D=A.options.subtitles,re=0;re<D.length;re++)if((b(D[re].horizontalAlign)&&this.horizontalAlign==="center"||D[re].horizontalAlign===this.horizontalAlign)&&(b(D[re].verticalAlign)&&this.verticalAlign==="top"||D[re].verticalAlign===this.verticalAlign)&&!D[re].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function _t(A,P,D){_t.base.constructor.call(this,"Subtitle","subtitles",P,D,A),this.chart=A,this.canvas=A.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ct(){this.pool=[]}function mt(A){var P;A&&Je[A]&&(P=Je[A]),mt.base.constructor.call(this,"CultureInfo",null,P,null,null)}var pi=!1,Yt={},X=!!document.createElement("canvas").getContext,Bt={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:X?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:X?"transparent":null,borderColor:X?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:X?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:X?"transparent":null,titleBorderColor:X?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:X?"transparent":null,labelBorderColor:X?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:X?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:X?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:X?"grey":null,labelBorderColor:X?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:X?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:X?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:X?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Je={en:{}},O=X?"Trebuchet MS, Helvetica, sans-serif":"Arial",Q=X?"Impact, Charcoal, sans-serif":"Arial",oe={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},z,ee,Z,_e,Ke;ee="#333333",Z="#000000",z="#666666",Ke=_e="#000000";var H=20,K=14,ht={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Q,fontSize:32,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Q,fontSize:K,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:O,indexLabelFontSize:K,indexLabelFontColor:ee,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:H,titleFontColor:ee,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:ee,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:O,titleFontSize:H,titleFontColor:ee,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:ee,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:O,fontSize:14,fontColor:ee,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Z=ee="#F5F5F5",z="#FFFFFF",_e="#40BAF1",Ke="#F5F5F5";var H=20,K=14,F={colorSet:"colorSet2",title:{fontFamily:O,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:O,fontSize:K,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:O,indexLabelFontSize:K,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:O,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:O,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Z=ee="#F5F5F5",z="#FFFFFF",_e="#40BAF1",Ke="#F5F5F5",H=20,K=14,Q={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:Q,fontSize:32,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Q,fontSize:K,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:O,indexLabelFontSize:K,indexLabelFontColor:Z,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:O,fontSize:14,fontColor:ee,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Z,backgroundColor:"rgba(0, 0, 0, .7)"}},z="#FFFFFF",Z=ee="#FAFAFA",_e="#40BAF1",Ke="#F5F5F5";var H=20,K=14,de={light1:ht,light2:F,dark1:Q,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:O,fontSize:32,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:O,fontSize:K,fontColor:ee,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:O,indexLabelFontSize:K,indexLabelFontColor:Z,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:0,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:O,titleFontSize:H,titleFontColor:Z,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:K,labelFontColor:Z,labelFontWeight:"normal",lineThickness:0,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:O,labelFontSize:K,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:K,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ke,color:_e,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:O,fontSize:14,fontColor:ee,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Z,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:ht,theme2:F,theme3:ht},se={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){Yt.fSDec=function(A){for(var P="",D=0;D<A.length;D++)P+=String.fromCharCode(Math.ceil(A.length/57/5)^A.charCodeAt(D));return P},delete Bt[Yt.fSDec("Bi`su")][Yt.fSDec("bsdehuIsdg")],Yt.pro={sCH:Bt[Yt.fSDec("Bi`su")][Yt.fSDec("bsdehuIsdg")]}})();var Ie=function(){var A=!1;try{var P=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return A=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,P),window.removeEventListener("test",null,P))}catch{A=!1}return A}(),Ne={},Ce=null,Fe=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Te=function(A){A.width=1,A.height=1,A.getContext("2d")&&A.getContext("2d").clearRect(0,0,1,1)},Qe=function(A,P,D){return P=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=P?12:11,Math.round(P*(A/400)))},it=function(){var A=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,P="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),D="Sun Mon Tue Wed Thu Fri Sat".split(" "),re="January February March April May June July August September October November December".split(" "),Se="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oe=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,fe=/[^-+\dA-Z]/g;return function(xt,Et,lt){var Ni=lt?lt.days:P,qt=lt?lt.months:re,vi=lt?lt.shortDays:D,Zt=lt?lt.shortMonths:Se;lt="";var zi=!1;if(xt=xt&&xt.getTime?xt:xt?new Date(xt):new Date,isNaN(xt))throw SyntaxError("invalid date");Et.slice(0,4)==="UTC:"&&(Et=Et.slice(4),zi=!0),lt=zi?"getUTC":"get";var Ri=xt[lt+"Date"](),qe=xt[lt+"Day"](),Ut=xt[lt+"Month"](),n=xt[lt+"FullYear"](),d=xt[lt+"Hours"](),r=xt[lt+"Minutes"](),a=xt[lt+"Seconds"](),l=xt[lt+"Milliseconds"](),p=zi?0:xt.getTimezoneOffset();return lt=Et.replace(A,function(g){switch(g){case"D":return Ri;case"DD":return o(Ri,2);case"DDD":return vi[qe];case"DDDD":return Ni[qe];case"M":return Ut+1;case"MM":return o(Ut+1,2);case"MMM":return Zt[Ut];case"MMMM":return qt[Ut];case"Y":return parseInt(String(n).slice(-2));case"YY":return o(String(n).slice(-2),2);case"YYY":return o(String(n).slice(-3),3);case"YYYY":return o(n,4);case"h":return d%12||12;case"hh":return o(d%12||12,2);case"H":return d;case"HH":return o(d,2);case"m":return r;case"mm":return o(r,2);case"s":return a;case"ss":return o(a,2);case"f":return o(String(l),3).slice(0,1);case"ff":return o(String(l),3).slice(0,2);case"fff":return o(String(l),3).slice(0,3);case"t":return 12>d?"a":"p";case"tt":return 12>d?"am":"pm";case"T":return 12>d?"A":"P";case"TT":return 12>d?"AM":"PM";case"K":return zi?"UTC":(String(xt).match(Oe)||[""]).pop().replace(fe,"");case"z":return(0<p?"-":"+")+Math.floor(Math.abs(p)/60);case"zz":return(0<p?"-":"+")+o(Math.floor(Math.abs(p)/60),2);case"zzz":return(0<p?"-":"+")+o(Math.floor(Math.abs(p)/60),2)+o(Math.abs(p)%60,2);default:return g.slice(1,g.length-1)}})}}(),at=function(A){var P=0>A;if(1>Math.abs(A)){var D=parseInt(A.toString().split("e-")[1]);D&&(A=(P?-1*A:A)*Math.pow(10,D-1),A="0."+Array(D).join("0")+A.toString().substring(2),A=P?"-"+A:A)}else D=parseInt(A.toString().split("+")[1]),20<D&&(D-=20,A/=Math.pow(10,D),A=A.toString()+Array(D+1).join("0"));return String(A)},Ge=function(A,P,D){if(A===null)return"";if(!isFinite(A))return A;A=Number(A);var re=0>A;re&&(A*=-1);var Se=D?D.decimalSeparator:".",Oe=D?D.digitGroupSeparator:",",fe="";P=String(P);var fe=1,Ri=D="",xt=-1,Et=[],lt=[],Ni=0,qt=0,vi=0,Zt=!1,zi=0,Ri=P.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);P=null;for(var qe=0;Ri&&qe<Ri.length;qe++)if(P=Ri[qe],P==="."&&0>xt)xt=qe;else{if(P==="%")fe*=100;else if(P==="‰"){fe*=1e3;continue}else if(P[0]===","&&P[P.length-1]==="."){fe/=Math.pow(1e3,P.length-1),xt=qe+P.length-1;continue}else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||(Zt=!0);0>xt?(Et.push(P),P==="#"||P==="0"?Ni++:P===","&&vi++):(lt.push(P),P!=="#"&&P!=="0"||qt++)}for(Zt&&(P=Math.floor(A),Ri=-Math.floor(Math.log(A)/Math.LN10+1),zi=A===0?0:P===0?-(Ni+Ri):at(P).length-Ni,fe/=Math.pow(10,zi)),0>xt&&(xt=qe),fe=(A*fe).toFixed(qt),P=fe.split("."),fe=(P[0]+"").split(""),A=(P[1]+"").split(""),fe&&fe[0]==="0"&&fe.shift(),Zt=Ri=qe=qt=xt=0;0<Et.length;)if(P=Et.pop(),P==="#"||P==="0")if(xt++,xt===Ni){var Ut=fe,fe=[];if(P==="0")for(P=Ni-qt-(Ut?Ut.length:0);0<P;)Ut.unshift("0"),P--;for(;0<Ut.length;)D=Ut.pop()+D,Zt++,Zt%Ri===0&&qe===vi&&0<Ut.length&&(D=Oe+D)}else 0<fe.length?(D=fe.pop()+D,qt++,Zt++):P==="0"&&(D="0"+D,qt++,Zt++),Zt%Ri===0&&qe===vi&&0<fe.length&&(D=Oe+D);else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?P===","?(qe++,Ri=Zt,Zt=0,0<fe.length&&(D=Oe+D)):D=1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?P.slice(1,P.length-1)+D:P+D:(P=0>zi?P.replace("+","").replace("-",""):P.replace("-",""),D+=P.replace(/[0]+/,function(n){return o(zi,n.length)}));for(Oe="",Et=!1;0<lt.length;)P=lt.shift(),P==="#"||P==="0"?0<A.length&&Number(A.join(""))!==0?(Oe+=A.shift(),Et=!0):P==="0"&&(Oe+="0",Et=!0):1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?Oe+=P.slice(1,P.length-1):P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?Oe+=P:(P=0>zi?P.replace("+","").replace("-",""):P.replace("-",""),Oe+=P.replace(/[0]+/,function(n){return o(zi,n.length)}));return D+=(Et?Se:"")+Oe,re?"-"+D:D},Ct=function(A){var P=0,D=0;return A=A||window.event,A.offsetX||A.offsetX===0?(P=A.offsetX,D=A.offsetY):A.layerX||A.layerX==0?(P=A.layerX,D=A.layerY):(P=A.pageX-A.target.offsetLeft,D=A.pageY-A.target.offsetTop),{x:P,y:D}},Ft=!0,Jt=window.devicePixelRatio||1,hi=1,Wt=Jt/hi,Dt=function(A,P,D,re,Se,Oe,fe,xt,Et,lt,Ni,qt,vi){typeof vi>"u"&&(vi=1),fe=fe||0,xt=xt||"black";var Zt=15<re-P&&15<Se-D?8:.35*Math.min(re-P,Se-D);A.beginPath(),A.moveTo(P,D),A.save(),A.fillStyle=Oe,A.globalAlpha=vi,A.fillRect(P,D,re-P,Se-D),A.globalAlpha=1,0<fe&&(vi=fe%2===0?0:.5,A.beginPath(),A.lineWidth=fe,A.strokeStyle=xt,A.moveTo(P,D),A.rect(P-vi,D-vi,re-P+2*vi,Se-D+2*vi),A.stroke()),A.restore(),Et===!0&&(A.save(),A.beginPath(),A.moveTo(P,D),A.lineTo(P+Zt,D+Zt),A.lineTo(re-Zt,D+Zt),A.lineTo(re,D),A.closePath(),fe=A.createLinearGradient((re+P)/2,D+Zt,(re+P)/2,D),fe.addColorStop(0,Oe),fe.addColorStop(1,"rgba(255, 255, 255, .4)"),A.fillStyle=fe,A.fill(),A.restore()),lt===!0&&(A.save(),A.beginPath(),A.moveTo(P,Se),A.lineTo(P+Zt,Se-Zt),A.lineTo(re-Zt,Se-Zt),A.lineTo(re,Se),A.closePath(),fe=A.createLinearGradient((re+P)/2,Se-Zt,(re+P)/2,Se),fe.addColorStop(0,Oe),fe.addColorStop(1,"rgba(255, 255, 255, .4)"),A.fillStyle=fe,A.fill(),A.restore())},Ai=function(A){for(var P="",D=0;D<A.length;D++)P+=String.fromCharCode(Math.ceil(A.length/57/5)^A.charCodeAt(D));return P},Xs=window&&window[Ai("mnb`uhno")]&&window[Ai("mnb`uhno")].href&&window[Ai("mnb`uhno")].href.indexOf&&(window[Ai("mnb`uhno")].href.indexOf(Ai("b`ow`rkr/bnl"))!==-1||window[Ai("mnb`uhno")].href.indexOf(Ai("gdonqhy/bnl"))!==-1||window[Ai("mnb`uhno")].href.indexOf(Ai("gheemd"))!==-1)&&window[Ai("mnb`uhno")].href.indexOf(Ai("gheemd"))===-1,Ko={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};et.prototype.setOptions=function(A,P){if(Bt[this._defaultsKey]){var D=Bt[this._defaultsKey],re;for(re in D)re!=="publicProperties"&&D.hasOwnProperty(re)&&(this[re]=A&&re in A?A[re]:P&&re in P?P[re]:D[re])}},et.prototype.get=function(A){var P=Bt[this._defaultsKey];if(A==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(P.hasOwnProperty(A)||P.publicProperties&&P.publicProperties.hasOwnProperty(A))return this[A];window.console&&window.console.log('Property "'+A+`" doesn't exist. Please check for typo.`)},et.prototype.set=function(A,P,D){D=typeof D>"u"?!0:D;var re=Bt[this._defaultsKey];if(A==="options")this.createUserOptions(P);else if(re.hasOwnProperty(A)||re.publicProperties&&re.publicProperties.hasOwnProperty(A)&&re.publicProperties[A]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[A]=P;else{window.console&&(re.publicProperties&&re.publicProperties.hasOwnProperty(A)&&re.publicProperties[A]==="readOnly"?window.console.log('Property "'+A+'" is read-only.'):window.console.log('Property "'+A+`" doesn't exist. Please check for typo.`));return}D&&(this.stockChart||this.chart||this).render()},et.prototype.addTo=function(A,P,D,re){re=typeof re>"u"?!0:re;var Se=Bt[this._defaultsKey];Se.hasOwnProperty(A)||Se.publicProperties&&Se.publicProperties.hasOwnProperty(A)&&Se.publicProperties[A]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[A]>"u"&&(this.options[A]=[]),A=this.options[A],D=typeof D>"u"||D===null?A.length:D,A.splice(D,0,P),re&&(this.stockChart||this.chart||this).render()):window.console&&(Se.publicProperties&&Se.publicProperties.hasOwnProperty(A)&&Se.publicProperties[A]==="readOnly"?window.console.log('Property "'+A+'" is read-only.'):window.console.log('Property "'+A+`" doesn't exist. Please check for typo.`))},et.prototype.createUserOptions=function(A){if(typeof A<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var P=this.parent.options[this.optionsName],D=P.length;this.options._isPlaceholder||(L(P),D=P.indexOf(this.options)),this.options=typeof A>"u"?{}:A,P[D]=this.options}else this.options=typeof A>"u"?{}:A,this.parent&&(A=this.parent.options,this.optionsName?P=this.optionsName:(P=this._defaultsKey)&&P.length!==0?(D=P.charAt(0).toLowerCase(),1<P.length&&(D=D.concat(P.slice(1))),P=D):P=void 0,A[P]=this.options)},et.prototype.remove=function(A){if(A=typeof A>"u"?!0:A,this.isOptionsInArray){var P=this.parent.options[this.optionsName];L(P);var D=P.indexOf(this.options);0<=D&&P.splice(D,1)}else delete this.parent.options[this.optionsName];A&&(this.stockChart||this.chart||this).render()},et.prototype.updateOption=function(A){!Bt[this._defaultsKey]&&pi&&console.log("defaults not set");var P=Bt[this._defaultsKey],D={},re=this[A],Se=this._themeOptionsKey,Oe=this._index;return this.theme&&b(this.parent)&&b(Se)&&b(Oe)?D=b(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme&&de[this.options.theme]?D=de[this.options.theme]:this.parent.themeOptions[Se]&&(Oe===null?D=this.parent.themeOptions[Se]:0<this.parent.themeOptions[Se].length&&(D=Math.min(this.parent.themeOptions[Se].length-1,Oe),D=this.parent.themeOptions[Se][D]))),this.themeOptions=D,A in P&&(re=A in this.options?this.options[A]:D&&A in D?D[A]:P[A]),re===this[A]?!1:(this[A]=re,!0)},et.prototype.trackChanges=function(A){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[A]=this.options[A]},et.prototype.isBeingTracked=function(A){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[A]},et.prototype.hasOptionChanged=function(A){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[A]!==this.options[A]},et.prototype.addEventListener=function(A,P,D){A&&P&&(this._eventListeners[A]=this._eventListeners[A]||[],this._eventListeners[A].push({context:D||this,eventHandler:P}))},et.prototype.removeEventListener=function(A,P){if(A&&P&&this._eventListeners[A]){for(var D=this._eventListeners[A],re=0;re<D.length;re++)if(D[re].eventHandler===P){D[re].splice(re,1);break}}},et.prototype.removeAllEventListeners=function(){this._eventListeners=[]},et.prototype.dispatchEvent=function(A,P,D){if(A&&this._eventListeners[A]){P=P||{};for(var re=this._eventListeners[A],Se=0;Se<re.length;Se++)re[Se].eventHandler.call(re[Se].context,P)}typeof this[A]=="function"&&this[A].call(D||this.chart,P)},ze.prototype.registerSpace=function(A,P){A==="top"?this._topOccupied+=P.height:A==="bottom"?this._bottomOccupied+=P.height:A==="left"?this._leftOccupied+=P.width:A==="right"&&(this._rightOccupied+=P.width)},ze.prototype.unRegisterSpace=function(A,P){A==="top"?this._topOccupied-=P.height:A==="bottom"?this._bottomOccupied-=P.height:A==="left"?this._leftOccupied-=P.width:A==="right"&&(this._rightOccupied-=P.width)},ze.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},ze.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},e(Le,et),Le.prototype._initialize=function(){b(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=b(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=b(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=b(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=b(this.padding.left)?0:Number(this.padding.left)|0)},Le.prototype.render=function(A){if(this.fontSize!==0){A&&this.ctx.save();var P=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var D=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+D),this.textBaseline==="middle"&&(D=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var re=0,Se=this.topPadding,Oe=null;for(this.ctx.roundRect||u(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,D,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,D=0;D<this._wrappedText.lines.length;D++)Oe=this._wrappedText.lines[D],this.horizontalAlign==="right"||this.textAlign==="right"?re=this.width-Oe.width-this.rightPadding:this.horizontalAlign==="left"||this.textAlign==="left"?re=this.leftPadding:(this.horizontalAlign==="center"||this.textAlign==="center")&&(re=(this.width-(this.leftPadding+this.rightPadding))/2-Oe.width/2+this.leftPadding),this.ctx.fillText(Oe.text,re,Se),Se+=Oe.height;this.ctx.font=P,A&&this.ctx.restore()}},Le.prototype.setText=function(A){this.text=A,this._isDirty=!0,this._wrappedText=null},Le.prototype.measureText=function(){if(this._lineHeight=U(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},Le.prototype._getLineWithWidth=function(A,P,D){if(A=String(A),!A)return{text:"",width:0};var re=D=0,Se=A.length-1,Oe=1/0;for(this.ctx.font=this._getFontString();re<=Se;){var Oe=Math.floor((re+Se)/2),fe=A.substr(0,Oe+1);if(D=this.ctx.measureText(fe).width,D<P)re=Oe+1;else if(D>P)Se=Oe-1;else break}return D>P&&1<fe.length&&(fe=fe.substr(0,fe.length-1),D=this.ctx.measureText(fe).width),P=!0,(fe.length===A.length||A[fe.length]===" ")&&(P=!1),P&&(A=fe.split(" "),1<A.length&&A.pop(),fe=A.join(" "),D=this.ctx.measureText(fe).width),{text:fe,width:D}},Le.prototype._wrapText=function(){var A=new String(c(String(this.text))),P=[],D=this.ctx.font,re=0,Se=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)Se=re=0;else for(;0<A.length;){var Oe=this.maxHeight-(this.topPadding+this.bottomPadding),fe=this._getLineWithWidth(A,this.maxWidth-(this.leftPadding+this.rightPadding),!1);fe.height=this._lineHeight,P.push(fe);var xt=Se,Se=Math.max(Se,fe.width),re=re+fe.height,A=c(A.slice(fe.text.length,A.length));Oe&&re>Oe&&(fe=P.pop(),re-=fe.height,Se=xt)}this._wrappedText={lines:P,width:Se,height:re},this.width=Se+(this.leftPadding+this.rightPadding),this.height=re+(this.topPadding+this.bottomPadding),this.ctx.font=D},Le.prototype._getFontString=function(){var A;A=this.fontStyle?this.fontStyle+" ":"",A+=this.fontWeight?this.fontWeight+" ":"",A+=this.fontSize?this.fontSize+"px ":"";var P=this.fontFamily?this.fontFamily+"":"";return!X&&P&&(P=P.split(",")[0],P[0]!=="'"&&P[0]!=='"'&&(P="'"+P+"'")),A+=P},e(Rt,et),e(Gt,et),Gt.prototype.setLayout=function(){if(this.text){var A=this.dockInsidePlotArea?this.chart.plotArea:this.chart,P=A.layoutManager.getFreeSpace(),D=P.x1,re=P.y1,Se=0,Oe=0,fe=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,xt,Et;this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.maxWidth===null&&(this.maxWidth=P.width-4-fe*(this.horizontalAlign==="center"?2:1)),Oe=.5*P.height-this.margin-2,Se=0):this.verticalAlign==="center"&&(this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=P.height-4),Oe=.5*P.width-this.margin-2):this.horizontalAlign==="center"&&(this.maxWidth===null&&(this.maxWidth=P.width-4),Oe=.5*P.height-4));var lt;b(this.padding)||typeof this.padding!="number"?b(this.padding)||typeof this.padding!="object"||(lt=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,lt+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):lt=2*this.padding,this.wrap||(Oe=Math.min(Oe,1.5*this.fontSize+lt)),Oe=new Le(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:Oe,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),lt=Oe.measureText(),this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.verticalAlign==="top"?(re=P.y1+2+this.fontSize/2+4,Et="top"):this.verticalAlign==="bottom"&&(re=P.y2-2-lt.height+this.fontSize/2+4,Et="bottom"),this.horizontalAlign==="left"?D=P.x1+2:this.horizontalAlign==="center"?D=P.x1+P.width/2-lt.width/2:this.horizontalAlign==="right"&&(D=P.x2-2-lt.width-fe),xt=this.horizontalAlign,this.width=lt.width,this.height=lt.height):this.verticalAlign==="center"&&(this.horizontalAlign==="left"?(D=P.x1+2+(this.fontSize/2+4),re=P.y2-2-(this.maxWidth/2-lt.width/2),Se=-90,Et="left",this.width=lt.height,this.height=lt.width):this.horizontalAlign==="right"?(D=P.x2-2-(this.fontSize/2+4),re=P.y1+2+(this.maxWidth/2-lt.width/2),Se=90,Et="right",this.width=lt.height,this.height=lt.width):this.horizontalAlign==="center"&&(re=A.y1+(A.height/2-lt.height/2)+this.fontSize/2+4,D=A.x1+(A.width/2-lt.width/2),Et="center",this.width=lt.width,this.height=lt.height),xt="center"),Oe.x=D,Oe.y=re,Oe.angle=Se,Oe.horizontalAlign=xt,this._textBlock=Oe,A.layoutManager.registerSpace(Et,{width:this.width+(Et==="left"||Et==="right"?this.margin+2:0),height:this.height+(Et==="top"||Et==="bottom"?this.margin+2:0)}),this.bounds={x1:D,y1:re,x2:D+this.width,y2:re+this.height},this.ctx.textBaseline="top"}},Gt.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},e(_t,et),_t.prototype.setLayout=Gt.prototype.setLayout,_t.prototype.render=Gt.prototype.render,ct.prototype.get=function(A,P){var D=null;return 0<this.pool.length?(D=this.pool.pop(),Pe(D,A,P)):D=De(A,P),D},ct.prototype.release=function(A){this.pool.push(A)},e(mt,et);var Di={addTheme:function(A,P){de[A]=P},addColorSet:function(A,P){oe[A]=P},addCultureInfo:function(A,P){Je[A]=P},formatNumber:function(A,P,D){if(D=D||"en",Je[D])return Ge(A,P||"#,##0.##",new mt(D));throw"Unknown Culture Name"},formatDate:function(A,P,D){if(D=D||"en",Je[D])return it(A,P||"DD MMM YYYY",new mt(D));throw"Unknown Culture Name"}};t.exports=Di,O=Di.Chart=function(){function A(n,d){return n.x-d.x}function P(n,d,r){d=d||{},b(r)?(this.predefinedThemes=de,this.optionsName=this.parent=this.index=null):(this.parent=r.parent,this.index=r.index,this.predefinedThemes=r.predefinedThemes,this.optionsName=r.optionsName,this.stockChart=r.stockChart,this.panel=n,this.isOptionsInArray=r.isOptionsInArray),this.theme=b(d.theme)||b(this.predefinedThemes[d.theme])?"light1":d.theme,P.base.constructor.call(this,"Chart",this.optionsName,d,this.index,this.parent);var a=this;this._containerId=n,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new ct,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",d=n=0,n=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,d=r&&r.height?r.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=n,this.height=d,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof oe[this.colorSet]<"u"?oe[this.colorSet]:oe.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",X||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=De(n,d),this._preRenderCanvas=De(n,d),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",u(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",u(this._preRenderCtx),X?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=De(n,d),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=De(n,d),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",u(this.overlaidCanvasCtx)),this._eventManager=new vi(this),this.windowResizeHandler=ne(window,"resize",function(){a._updateSize()&&a.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),me(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},ne(this.overlaidCanvas,"click",function(l){a._mouseEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,"mousemove",function(l){a._mouseEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,"mouseup",function(l){a._mouseEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,"mousedown",function(l){a._mouseEventHandler(l),tt(a._dropdownMenu)},this.allDOMEventHandlers),ne(this.overlaidCanvas,"mouseout",function(l){a._mouseEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(l){a._touchEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(l){a._touchEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(l){a._touchEventHandler(l)},this.allDOMEventHandlers),ne(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(l){a._touchEventHandler(l)},this.allDOMEventHandlers),this.toolTip=new qt(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function D(n,d){for(var r=[],a,l=0;l<n.length;l++)if(l==0)r.push(n[0]);else{var p,g,_;_=l-1,p=_===0?0:_-1,g=_===n.length-1?_:_+1,a=Math.abs((n[g].x-n[p].x)/(n[g].x-n[_].x===0?.01:n[g].x-n[_].x))*(d-1)/2+1;var T=(n[g].x-n[p].x)/a;a=(n[g].y-n[p].y)/a,r[r.length]=n[_].x>n[p].x&&0<T||n[_].x<n[p].x&&0>T?{x:n[_].x+T/3,y:n[_].y+a/3}:{x:n[_].x,y:n[_].y+(r.length===1?0:a/9)},_=l,p=_===0?0:_-1,g=_===n.length-1?_:_+1,a=Math.abs((n[g].x-n[p].x)/(n[_].x-n[p].x===0?.01:n[_].x-n[p].x))*(d-1)/2+1,T=(n[g].x-n[p].x)/a,a=(n[g].y-n[p].y)/a,r[r.length]=n[_].x>n[p].x&&0<T||n[_].x<n[p].x&&0>T?{x:n[_].x-T/3,y:n[_].y-a/3}:{x:n[_].x,y:n[_].y-a/9},r[r.length]=n[l]}return r}function re(n,d,r,a,l,p,g,_,T,m){var f=0;m?(g.color=p,_.color=p):m=1,f=Math.abs(T?l-r:a-d),f=0<g.trimLength?Math.abs(f*g.trimLength/100):Math.abs(f-g.length),T?(r+=f/2,l-=f/2):(d+=f/2,a-=f/2);var f=Math.round(g.thickness)%2===1?.5:0,y=Math.round(_.thickness)%2===1?.5:0;n.save(),n.globalAlpha=m,n.strokeStyle=_.color||p,n.lineWidth=_.thickness||2,n.setLineDash&&n.setLineDash(q(_.dashType,_.thickness)),n.beginPath(),T&&0<_.thickness?(n.moveTo(a-g.thickness/2,Math.round((r+l)/2)-y),n.lineTo(d+g.thickness/2,Math.round((r+l)/2)-y)):0<_.thickness&&(n.moveTo(Math.round((d+a)/2)-y,r+g.thickness/2),n.lineTo(Math.round((d+a)/2)-y,l-g.thickness/2)),n.stroke(),n.strokeStyle=g.color||p,n.lineWidth=g.thickness||2,n.setLineDash&&n.setLineDash(q(g.dashType,g.thickness)),n.beginPath(),T&&0<g.thickness?(n.moveTo(a-f,r),n.lineTo(a-f,l),n.moveTo(d+f,r),n.lineTo(d+f,l)):0<g.thickness&&(n.moveTo(d,r+f),n.lineTo(a,r+f),n.moveTo(d,l-f),n.lineTo(a,l-f)),n.stroke(),n.restore()}function Se(n,d){Se.base.constructor.call(this,"Legend","legend",d,null,n),this.chart=n,this.canvas=n.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=U(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Oe(n,d,r,a){for(Oe.base.constructor.call(this,"DataSeries","data",d,r,n),this.chart=n,this.canvas=n.canvas,this._ctx=n.canvas.ctx,this.index=r,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:r},n=d.dataPoints?d.dataPoints.length:0,this.dataPointEOs=[],d=0;d<n;d++)this.dataPointEOs[d]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function fe(n,d,r,a,l,p){if(fe.base.constructor.call(this,"Axis",d,r,a,n),this.chart=n,this.canvas=n.canvas,this.ctx=n.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,l==="axisX"?(p==="left"||p==="bottom"?(this.optionsName="axisX",b(this.chart.sessionVariables.axisX[a])&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",b(this.chart.sessionVariables.axisX2[a])&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):p==="left"||p==="bottom"?(this.optionsName="axisY",b(this.chart.sessionVariables.axisY[a])&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",b(this.chart.sessionVariables.axisY2[a])&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,l!=="axisX"||r&&typeof r.gridThickness<"u"||(this.gridThickness=0),this._position=p,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new xt(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(n=0;n<this.options.stripLines.length;n++)this.stripLines.push(new lt(this.chart,this.options.stripLines[n],n,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Ni(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function xt(n,d,r,a){if(xt.base.constructor.call(this,"ScaleBreaks","scaleBreaks",d,null,a),this.id=r,this.chart=n,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(n=0;n<this.options.customBreaks.length;n++)this.customBreaks.push(new Et(this.chart,"customBreaks",this.options.customBreaks[n],n,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[n].startValue=="number"&&typeof this.customBreaks[n].endValue=="number"&&this.customBreaks[n].endValue!==this.customBreaks[n].startValue&&this._appliedBreaks.push(this.customBreaks[n]);for(this._appliedBreaks.sort(function(l,p){return l.startValue-p.startValue}),n=0;n<this._appliedBreaks.length-1;n++)this._appliedBreaks[n].endValue>=this._appliedBreaks[n+1].startValue&&(this._appliedBreaks[n].endValue=Math.max(this._appliedBreaks[n].endValue,this._appliedBreaks[n+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+n+" and "+(n+1)+" are overlapping."),this._appliedBreaks.splice(n,2),n--)}}function Et(n,d,r,a,l,p){Et.base.constructor.call(this,"Break",d,r,a,p),this.id=l,this.chart=n,this.ctx=this.chart.ctx,this.scaleBreaks=p,this.optionsName=d,this.isOptionsInArray=!0,this.type=r.type?this.type:p.type,this.fillOpacity=b(r.fillOpacity)?p.fillOpacity:this.fillOpacity,this.lineThickness=b(r.lineThickness)?p.lineThickness:this.lineThickness,this.color=r.color?this.color:p.color,this.lineColor=r.lineColor?this.lineColor:p.lineColor,this.lineDashType=r.lineDashType?this.lineDashType:p.lineDashType,!b(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!b(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(n=this.startValue,this.startValue=this.endValue,this.endValue=n),this.spacing=typeof r.spacing>"u"?p.spacing:r.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=p.spacing),this.size=p.parent.logarithmic?1:0}function lt(n,d,r,a,l){lt.base.constructor.call(this,"StripLine","stripLines",d,r,l),this.id=a,this.chart=n,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Ni(n,d,r){Ni.base.constructor.call(this,"Crosshair","crosshair",d,null,r),this.chart=n,this.ctx=this.chart.ctx,this.axis=r,this.optionsName="crosshair",this._thicknessType="pixel"}function qt(n,d){qt.base.constructor.call(this,"ToolTip","toolTip",d,null,n),this.chart=n,this.canvas=n.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function vi(n){this.chart=n,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=De(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Zt(n){this.chart=n,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}e(P,et),P.prototype.destroy=function(){var n=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var d=0;d<n.length;d++){var r=n[d][0],a=n[d][1],l=n[d][2],p=n[d][3],p=p||!1;r.removeEventListener?r.removeEventListener(a,l,p):r.detachEvent&&r.detachEvent("on"+a,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Te(this.canvas),this.overlaidCanvas&&Te(this.overlaidCanvas),this._preRenderCanvas&&Te(this._preRenderCanvas),this._breaksCanvas&&Te(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Te(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},P.prototype._updateOptions=function(){var n=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&b(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof oe[this.colorSet]<"u"?oe[this.colorSet]:oe.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&b(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&b(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new mt(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&X,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Rt(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)me(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:n.toolbar.itemBackgroundColor,color:n.toolbar.fontColor}),We(this,this._zoomButton,"zoom"),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&me(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var d=!1;tt(this._zoomButton=document.createElement("button")),We(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,ne(this._zoomButton,"touchstart",function(a){d=!0},this.allDOMEventHandlers),ne(this._zoomButton,"click",function(){n.zoomEnabled?(n.zoomEnabled=!1,n.panEnabled=!0,We(n,n._zoomButton,"zoom")):(n.zoomEnabled=!0,n.panEnabled=!1,We(n,n._zoomButton,"pan")),n.render()},this.allDOMEventHandlers),ne(this._zoomButton,"mousemove",function(){d?d=!1:(me(n._zoomButton,{backgroundColor:n.toolbar.itemBackgroundColorOnHover,color:n.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&me(n._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),ne(this._zoomButton,"mouseout",function(){d||(me(n._zoomButton,{backgroundColor:n.toolbar.itemBackgroundColor,color:n.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&me(n._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(me(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:n.toolbar.itemBackgroundColor,color:n.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&me(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(d=!1,tt(this._resetButton=document.createElement("button")),We(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),ne(this._resetButton,"touchstart",function(a){d=!0},this.allDOMEventHandlers),ne(this._resetButton,"click",function(){if(n.toolTip.hide(),n.toolTip&&n.toolTip.enabled&&n.toolTip.dispatchEvent("hidden",{chart:n,toolTip:n.toolTip},n.toolTip),n.zoomEnabled||n.panEnabled?(n.zoomEnabled=!0,n.panEnabled=!1,We(n,n._zoomButton,"pan"),n._defaultCursor="default",n.overlaidCanvas.style.cursor=n._defaultCursor):(n.zoomEnabled=!1,n.panEnabled=!1),n.sessionVariables.axisX)for(var a=0;a<n.sessionVariables.axisX.length;a++)n.sessionVariables.axisX[a].newViewportMinimum=null,n.sessionVariables.axisX[a].newViewportMaximum=null;if(n.sessionVariables.axisX2)for(a=0;a<n.sessionVariables.axisX2.length;a++)n.sessionVariables.axisX2[a].newViewportMinimum=null,n.sessionVariables.axisX2[a].newViewportMaximum=null;if(n.sessionVariables.axisY)for(a=0;a<n.sessionVariables.axisY.length;a++)n.sessionVariables.axisY[a].newViewportMinimum=null,n.sessionVariables.axisY[a].newViewportMaximum=null;if(n.sessionVariables.axisY2)for(a=0;a<n.sessionVariables.axisY2.length;a++)n.sessionVariables.axisY2[a].newViewportMinimum=null,n.sessionVariables.axisY2[a].newViewportMaximum=null;n.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&me(n._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),tt(n._zoomButton,n._resetButton),n.stockChart&&(n.stockChart._rangeEventParameter={stockChart:n.stockChart,source:"chart",index:n.stockChart.charts.indexOf(n),minimum:null,maximum:null}),n._dispatchRangeEvent("rangeChanging","reset"),n.stockChart&&(n.stockChart._rangeEventParameter.type="rangeChanging",n.stockChart.dispatchEvent("rangeChanging",n.stockChart._rangeEventParameter,n.stockChart)),n.render(),n.syncCharts&&n.syncCharts(null,null),n._dispatchRangeEvent("rangeChanged","reset"),n.stockChart&&(n.stockChart._rangeEventParameter.type="rangeChanged",n.stockChart.dispatchEvent("rangeChanged",n.stockChart._rangeEventParameter,n.stockChart))},this.allDOMEventHandlers),ne(this._resetButton,"mousemove",function(){d||(me(n._resetButton,{backgroundColor:n.toolbar.itemBackgroundColorOnHover,color:n.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&me(n._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),ne(this._resetButton,"mouseout",function(){d||(me(n._resetButton,{backgroundColor:n.toolbar.itemBackgroundColor,color:n.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&me(n._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=n._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(n._zoomButton.getAttribute("state")===n._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Ae(n._zoomButton,n._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;ce(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?We(n,n._zoomButton,"zoom"):We(n,n._zoomButton,"pan"),n._resetButton.getAttribute("state")!==n._cultureInfo.resetText&&We(n,n._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var r in this.toolTip.options)this.toolTip.options.hasOwnProperty(r)&&this.toolTip.updateOption(r)},P.prototype._updateSize=function(){var n;n=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var d=0,r=0;if(this.options.width?d=this.width:this.width=d=0<this.container.clientWidth?this.container.clientWidth:this.width,b(this.stockChart)||b(this.index)?this.options.height?r=this.height:this.height=r=0<this.container.clientHeight?this.container.clientHeight:this.height:r=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==d*Wt||this.canvas.height!==r*Wt){for(var a=0;a<n.length;a++)Pe(n[a],d,r);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},n=!0}else n=!1;return n},P.prototype._initialize=function(){this.isNavigator=!(b(this.parent)||b(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new Zt(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=X&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new ze(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var n=0,d=null;if(this.options.data){for(var r=0;r<this.options.data.length;r++)if(n++,!this.options.data[r].type||0<=P._supportedChartTypes.indexOf(this.options.data[r].type)){var a=new Oe(this,this.options.data[r],n-1,++this._eventManager.lastObjectId);if(!b(a)&&a.dataPoints){for(var l=0;l<a.dataPoints.length;l++)if(a.dataPoints[l].x&&a.dataPoints[l].x.getTime){a.xValueType="dateTime";break}}a.type==="error"&&(a.linkedDataSeriesIndex=b(this.options.data[r].linkedDataSeriesIndex)?r-1:this.options.data[r].linkedDataSeriesIndex,0>a.linkedDataSeriesIndex||a.linkedDataSeriesIndex>=this.options.data.length||typeof a.linkedDataSeriesIndex!="number"||this.options.data[a.linkedDataSeriesIndex].type==="error")&&(a.linkedDataSeriesIndex=null),a.name===null&&(a.name="DataSeries "+n),a.color===null?1<this.options.data.length?(a._colorSet=[this.selectedColorSet[a.index%this.selectedColorSet.length]],a.color=this.selectedColorSet[a.index%this.selectedColorSet.length]):a._colorSet=a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="stackedArea"||a.type==="stackedArea100"||a.type==="rangeArea"||a.type==="rangeSplineArea"||a.type==="candlestick"||a.type==="ohlc"||a.type==="waterfall"||a.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:a._colorSet=[a.color],a.markerSize===null&&((a.type==="line"||a.type==="stepLine"||a.type==="spline"||0<=a.type.toLowerCase().indexOf("area"))&&a.dataPoints&&a.dataPoints.length<this.width/16||a.type==="scatter")&&(a.markerSize=8),a.type!=="bubble"&&a.type!=="scatter"||!a.dataPoints||(a.dataPoints.some?a.dataPoints.some(function(_){return _.x})&&a.dataPoints.sort(A):a.dataPoints.sort(A)),this.data.push(a);var l=a.axisPlacement,d=d||l,p;if(l==="normal"?this.plotInfo.axisPlacement==="xySwapped"?p='You cannot combine "'+a.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?p='You cannot combine "'+a.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):l==="xySwapped"?this.plotInfo.axisPlacement==="normal"?p='You cannot combine "'+a.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?p='You cannot combine "'+a.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):l==="none"?this.plotInfo.axisPlacement==="normal"?p='You cannot combine "'+a.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?p='You cannot combine "'+a.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):l===null&&this.plotInfo.axisPlacement==="none"&&(p='You cannot combine "'+a.type+'" with pie chart'),p&&window.console){window.console.log(p);return}}for(r=0;r<this.data.length;r++){if(d=="none"&&this.data[r].type==="error"&&window.console){window.console.log('You cannot combine "'+a.type+'" with error chart');return}this.data[r].type==="error"&&(this.data[r].axisPlacement=this.plotInfo.axisPlacement=d||"normal",this.data[r]._linkedSeries=this.data[r].linkedDataSeriesIndex===null?null:this.data[this.data[r].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},P._supportedChartTypes=L("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),P.prototype.setLayout=function(){for(var n=this._plotAreaElements,d=0;d<this.data.length;d++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[d].axisYType||this.data[d].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var r=0;r<this.options.axisY.length;r++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[r]=new fe(this,"axisY",this.options.axisY[r],r,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[r]=new fe(this,"axisY",this.options.axisY[r],r,"axisY","bottom"));this.data[d].axisY=this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0],this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new fe(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new fe(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[d].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[d]);if(this.data[d].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(r=0;r<this.options.axisY2.length;r++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[r]=new fe(this,"axisY2",this.options.axisY2[r],r,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[r]=new fe(this,"axisY2",this.options.axisY2[r],r,"axisY","top"));this.data[d].axisY=this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0],this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new fe(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new fe(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[d].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[d]);if(!this.data[d].axisXType||this.data[d].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(r=0;r<this.options.axisX.length;r++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[r]=new fe(this,"axisX",this.options.axisX[r],r,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[r]=new fe(this,"axisX",this.options.axisX[r],r,"axisX","left"));this.data[d].axisX=this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0],this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new fe(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new fe(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[d].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[d]);if(this.data[d].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(r=0;r<this.options.axisX2.length;r++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[r]=new fe(this,"axisX2",this.options.axisX2[r],r,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[r]=new fe(this,"axisX2",this.options.axisX2[r],r,"axisX","right"));this.data[d].axisX=this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0],this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new fe(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new fe(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[d].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[d])}if(this.axisY){for(r=1;r<this.axisY.length;r++)typeof this.axisY[r].options.gridThickness>"u"&&(this.axisY[r].gridThickness=0);for(r=0;r<this.axisY.length-1;r++)typeof this.axisY[r].options.margin>"u"&&(this.axisY[r].margin=10)}if(this.axisY2){for(r=1;r<this.axisY2.length;r++)typeof this.axisY2[r].options.gridThickness>"u"&&(this.axisY2[r].gridThickness=0);for(r=0;r<this.axisY2.length-1;r++)typeof this.axisY2[r].options.margin>"u"&&(this.axisY2[r].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(r=0;r<this.axisX.length;r++)typeof this.axisX[r].options.gridThickness>"u"&&(this.axisX[r].gridThickness=0);if(this.axisX2)for(r=0;r<this.axisX2.length;r++)typeof this.axisX2[r].options.gridThickness>"u"&&(this.axisX2[r].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),r=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(d=0;d<this._axes.length;d++)if(!b(this._axes[d].viewportMinimum)||!b(this._axes[d].viewportMaximum)){r=!0;break}}if(r?(Ae(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(tt(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),B(this),this._processData(),this.options.title&&(this.title=new Gt(this,this.options.title),this.title.dockInsidePlotArea?n.push(this.title):this.title.setLayout()),this.options.subtitles)for(d=0;d<this.options.subtitles.length;d++)r=new _t(this,this.options.subtitles[d],d),this.subtitles.push(r),r.dockInsidePlotArea?n.push(r):r.setLayout();for(this.legend=new Se(this,this.options.legend),d=0;d<this.data.length;d++)(this.data[d].showInLegend||this.data[d].type==="pie"||this.data[d].type==="doughnut"||this.data[d].type==="funnel"||this.data[d].type==="pyramid")&&this.legend.dataSeries.push(this.data[d]);for(this.legend.dockInsidePlotArea?n.push(this.legend):this.legend.setLayout(),d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks._appliedBreaks.length){X?(this._breaksCanvas=De(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=De(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||fe.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},P.prototype.renderElements=function(){if(this.height){var a=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var n=0;n<this.subtitles.length;n++)this.subtitles[n].dockInsidePlotArea||this.subtitles[n].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")fe.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(n=0;n<a.length;n++)a[n].setLayout(),a[n].render();var d=[];if(this.animatedRender){var r=De(this.width,this.height);r.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}Ee(this);var a=this.ctx.miterLimit,l;for(this.ctx.miterLimit=3,X&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),n=0;n<this.plotInfo.plotTypes.length;n++)for(var p=this.plotInfo.plotTypes[n],g=0;g<p.plotUnits.length;g++){var _=p.plotUnits[g],T=null;_.targetCanvas&&Te(_.targetCanvas),_.targetCanvas=null,this.animatedRender&&(_.targetCanvas=De(this.width,this.height),_.targetCanvasCtx=_.targetCanvas.getContext("2d"),l=_.targetCanvasCtx.miterLimit,_.targetCanvasCtx.miterLimit=3),_.type==="line"?T=this.renderLine(_):_.type==="stepLine"?T=this.renderStepLine(_):_.type==="spline"?T=this.renderSpline(_):_.type==="column"?T=this.renderColumn(_):_.type==="bar"?T=this.renderBar(_):_.type==="area"?T=this.renderArea(_):_.type==="stepArea"?T=this.renderStepArea(_):_.type==="splineArea"?T=this.renderSplineArea(_):_.type==="stackedColumn"?T=this.renderStackedColumn(_):_.type==="stackedColumn100"?T=this.renderStackedColumn100(_):_.type==="stackedBar"?T=this.renderStackedBar(_):_.type==="stackedBar100"?T=this.renderStackedBar100(_):_.type==="stackedArea"?T=this.renderStackedArea(_):_.type==="stackedArea100"?T=this.renderStackedArea100(_):_.type==="bubble"?T=T=this.renderBubble(_):_.type==="scatter"?T=this.renderScatter(_):_.type==="pie"?this.renderPie(_):_.type==="doughnut"?this.renderPie(_):_.type==="funnel"?T=this.renderFunnel(_):_.type==="pyramid"?T=this.renderFunnel(_):_.type==="candlestick"?T=this.renderCandlestick(_):_.type==="ohlc"?T=this.renderCandlestick(_):_.type==="rangeColumn"?T=this.renderRangeColumn(_):_.type==="error"?T=this.renderError(_):_.type==="rangeBar"?T=this.renderRangeBar(_):_.type==="rangeArea"?T=this.renderRangeArea(_):_.type==="rangeSplineArea"?T=this.renderRangeSplineArea(_):_.type==="waterfall"?T=this.renderWaterfall(_):_.type==="boxAndWhisker"&&(T=this.renderBoxAndWhisker(_));for(var m=0;m<_.dataSeriesIndexes.length;m++)this._dataInRenderedOrder.push(this.data[_.dataSeriesIndexes[m]]);this.animatedRender&&(_.targetCanvasCtx.miterLimit=l,T&&d.push(T))}this.ctx.miterLimit=a,this.animatedRender&&this._breaksCanvasCtx&&d.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(l=De(this.width,this.height).getContext("2d"),u(l),d.push(this.renderIndexLabels(l)));var f=this;if(0<d.length)f.disableToolTip=!0,f._animator.animate(200,f.animationDuration,function(y){f.ctx.clearRect(0,0,f.width,f.height),f.ctx.drawImage(r,0,0,Math.floor(f.width*Wt),Math.floor(f.height*Wt),0,0,f.width,f.height);for(var v=0;v<d.length;v++)T=d[v],1>y&&typeof T.startTimePercent<"u"?y>=T.startTimePercent&&T.animationCallback(T.easingFunction(y-T.startTimePercent,0,1,1-T.startTimePercent),T):T.animationCallback(T.easingFunction(y,0,1,1),T);f.dispatchEvent("dataAnimationIterationEnd",{chart:f})},function(){d=[];for(var y=0;y<f.plotInfo.plotTypes.length;y++)for(var v=f.plotInfo.plotTypes[y],h=0;h<v.plotUnits.length;h++){var k=v.plotUnits[h];k.targetCanvas&&Te(k.targetCanvas),k.targetCanvas=null}r=null,f.disableToolTip=!1,f.dispatchEvent("dataAnimationEnd",{chart:f})});else{if(f._breaksCanvas)if(X)f.plotArea.ctx.drawImage(f._breaksCanvas,0,0,this.width,this.height);else for(m=0;m<f._axes.length;m++)f._axes[m].createMask();0<f._indexLabels.length&&f.renderIndexLabels(),f.dispatchEvent("dataAnimationIterationEnd",{chart:f}),f.dispatchEvent("dataAnimationEnd",{chart:f})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||tt(this._zoomButton,this._resetButton),b(this.toolTip._xValue)||b(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),m=0;m<this._axes.length;m++)this._axes[m].maskCanvas&&(delete this._axes[m].maskCanvas,delete this._axes[m].maskCtx)}},P.prototype.render=function(n){n&&(this.options=n),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Te(this._preRenderCanvas)},P.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},P.prototype.categoriseDataSeries=function(){for(var n="",d=0;d<this.data.length;d++)if(n=this.data[d],n.dataPoints&&n.dataPoints.length!==0&&n.visible&&0<=P._supportedChartTypes.indexOf(n.type)){for(var r=null,a=!1,l=null,p=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===n.type){a=!0,r=this.plotInfo.plotTypes[g];break}for(a||(r={type:n.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(r)),g=0;g<r.plotUnits.length;g++)if(r.plotUnits[g].axisYType===n.axisYType&&r.plotUnits[g].axisXType===n.axisXType&&r.plotUnits[g].axisYIndex===n.axisYIndex&&r.plotUnits[g].axisXIndex===n.axisXIndex){p=!0,l=r.plotUnits[g];break}p||(l={type:n.type,previousDataSeriesCount:0,index:r.plotUnits.length,plotType:r,axisXType:n.axisXType,axisYType:n.axisYType,axisYIndex:n.axisYIndex,axisXIndex:n.axisXIndex,axisY:n.axisYType==="primary"?this.axisY[0<=n.axisYIndex&&n.axisYIndex<this.axisY.length?n.axisYIndex:0]:this.axisY2[0<=n.axisYIndex&&n.axisYIndex<this.axisY2.length?n.axisYIndex:0],axisX:n.axisXType==="primary"?this.axisX[0<=n.axisXIndex&&n.axisXIndex<this.axisX.length?n.axisXIndex:0]:this.axisX2[0<=n.axisXIndex&&n.axisXIndex<this.axisX2.length?n.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},r.plotUnits.push(l)),r.totalDataSeries++,l.dataSeriesIndexes.push(d),n.plotUnit=l}for(d=0;d<this.plotInfo.plotTypes.length;d++)for(r=this.plotInfo.plotTypes[d],g=n=0;g<r.plotUnits.length;g++)r.plotUnits[g].previousDataSeriesCount=n,n+=r.plotUnits[g].dataSeriesIndexes.length},P.prototype.assignIdToDataPoints=function(){for(var n=0;n<this.data.length;n++){var d=this.data[n];if(d.dataPoints)for(var r=d.dataPoints.length,a=0;a<r;a++)d.dataPointIds[a]=++this._eventManager.lastObjectId}},P.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var n=0;n<this.plotInfo.plotTypes.length;n++)for(var d=this.plotInfo.plotTypes[n],r=0;r<d.plotUnits.length;r++){var a=d.plotUnits[r];a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="column"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="bar"||a.type==="bubble"||a.type==="scatter"?this._processMultiseriesPlotUnit(a):a.type==="stackedColumn"||a.type==="stackedBar"||a.type==="stackedArea"?this._processStackedPlotUnit(a):a.type==="stackedColumn100"||a.type==="stackedBar100"||a.type==="stackedArea100"?this._processStacked100PlotUnit(a):a.type==="candlestick"||a.type==="ohlc"||a.type==="rangeColumn"||a.type==="rangeBar"||a.type==="rangeArea"||a.type==="rangeSplineArea"||a.type==="error"||a.type==="boxAndWhisker"?this._processMultiYPlotUnit(a):a.type==="waterfall"&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},P.prototype._processMultiseriesPlotUnit=function(n){if(n.dataSeriesIndexes&&!(1>n.dataSeriesIndexes.length))for(var d=n.axisY.dataInfo,r=n.axisX.dataInfo,a,l,p=!1,g=0;g<n.dataSeriesIndexes.length;g++){var _=this.data[n.dataSeriesIndexes[g]],T=0,m=!1,f=!1,y;if(_.axisPlacement==="normal"||_.axisPlacement==="xySwapped")var v=n.axisX.sessionVariables.newViewportMinimum?n.axisX.sessionVariables.newViewportMinimum:n.axisX.options&&n.axisX.options.viewportMinimum?n.axisX.options.viewportMinimum:n.axisX.options&&n.axisX.options.minimum?n.axisX.options.minimum:n.axisX.logarithmic?0:-1/0,h=n.axisX.sessionVariables.newViewportMaximum?n.axisX.sessionVariables.newViewportMaximum:n.axisX.options&&n.axisX.options.viewportMaximum?n.axisX.options.viewportMaximum:n.axisX.options&&n.axisX.options.maximum?n.axisX.options.maximum:1/0;for((_.dataPoints[T].x&&_.dataPoints[T].x.getTime||_.xValueType==="dateTime")&&(p=!0),T=0;T<_.dataPoints.length;T++){if(typeof _.dataPoints[T].x>"u"&&(_.dataPoints[T].x=T+(n.axisX.logarithmic?1:0)),_.dataPoints[T].x.getTime?(p=!0,a=_.dataPoints[T].x.getTime()):a=_.dataPoints[T].x,l=_.dataPoints[T].y,a<r.min&&(r.min=a),a>r.max&&(r.max=a),l<d.min&&typeof l=="number"&&(d.min=l),l>d.max&&typeof l=="number"&&(d.max=l),0<T){if(n.axisX.logarithmic){var k=a/_.dataPoints[T-1].x;1>k&&(k=1/k),r.minDiff>k&&k!==1&&(r.minDiff=k)}else k=a-_.dataPoints[T-1].x,0>k&&(k*=-1),r.minDiff>k&&k!==0&&(r.minDiff=k);l!==null&&_.dataPoints[T-1].y!==null&&(n.axisY.logarithmic?(k=l/_.dataPoints[T-1].y,1>k&&(k=1/k),d.minDiff>k&&k!==1&&(d.minDiff=k)):(k=l-_.dataPoints[T-1].y,0>k&&(k*=-1),d.minDiff>k&&k!==0&&(d.minDiff=k)))}if(a<v&&!m)l!==null&&(y=a);else{if(!m&&(m=!0,0<T)){T-=2;continue}if(a>h&&!f)f=!0;else if(a>h&&f)continue;_.dataPoints[T].label&&(n.axisX.labels[a]=_.dataPoints[T].label),a<r.viewPortMin&&(r.viewPortMin=a),a>r.viewPortMax&&(r.viewPortMax=a),l===null?r.viewPortMin===a&&y<a&&(r.viewPortMin=y):(l<d.viewPortMin&&typeof l=="number"&&(d.viewPortMin=l),l>d.viewPortMax&&typeof l=="number"&&(d.viewPortMax=l))}}_.axisX.valueType=_.xValueType=p?"dateTime":"number"}},P.prototype._processStackedPlotUnit=function(n){if(n.dataSeriesIndexes&&!(1>n.dataSeriesIndexes.length)){for(var d=n.axisY.dataInfo,r=n.axisX.dataInfo,a,l,p=!1,g=[],_=[],T=1/0,m=-1/0,f={},y=0;y<n.dataSeriesIndexes.length;y++){var v=this.data[n.dataSeriesIndexes[y]],h=0,k=!1,I=!1,E;if(v.axisPlacement==="normal"||v.axisPlacement==="xySwapped")var w=n.axisX.sessionVariables.newViewportMinimum?n.axisX.sessionVariables.newViewportMinimum:n.axisX.options&&n.axisX.options.viewportMinimum?n.axisX.options.viewportMinimum:n.axisX.options&&n.axisX.options.minimum?n.axisX.options.minimum:-1/0,R=n.axisX.sessionVariables.newViewportMaximum?n.axisX.sessionVariables.newViewportMaximum:n.axisX.options&&n.axisX.options.viewportMaximum?n.axisX.options.viewportMaximum:n.axisX.options&&n.axisX.options.maximum?n.axisX.options.maximum:1/0;for((v.dataPoints[h].x&&v.dataPoints[h].x.getTime||v.xValueType==="dateTime")&&(p=!0),h=0;h<v.dataPoints.length;h++){if(typeof v.dataPoints[h].x>"u"&&(v.dataPoints[h].x=h+(n.axisX.logarithmic?1:0)),v.dataPoints[h].x.getTime?(p=!0,a=v.dataPoints[h].x.getTime()):a=v.dataPoints[h].x,l=b(v.dataPoints[h].y)?0:v.dataPoints[h].y,a<r.min&&(r.min=a),a>r.max&&(r.max=a),0<h){if(n.axisX.logarithmic){var M=a/v.dataPoints[h-1].x;1>M&&(M=1/M),r.minDiff>M&&M!==1&&(r.minDiff=M)}else M=a-v.dataPoints[h-1].x,0>M&&(M*=-1),r.minDiff>M&&M!==0&&(r.minDiff=M);l!==null&&v.dataPoints[h-1].y!==null&&(n.axisY.logarithmic?0<l&&(M=l/v.dataPoints[h-1].y,1>M&&(M=1/M),d.minDiff>M&&M!==1&&(d.minDiff=M)):(M=l-v.dataPoints[h-1].y,0>M&&(M*=-1),d.minDiff>M&&M!==0&&(d.minDiff=M)))}if(a<w&&!k)v.dataPoints[h].y!==null&&(E=a);else{if(!k&&(k=!0,0<h)){h-=2;continue}if(a>R&&!I)I=!0;else if(a>R&&I)continue;v.dataPoints[h].label&&(n.axisX.labels[a]=v.dataPoints[h].label),a<r.viewPortMin&&(r.viewPortMin=a),a>r.viewPortMax&&(r.viewPortMax=a),v.dataPoints[h].y===null?r.viewPortMin===a&&E<a&&(r.viewPortMin=E):(f[a]=(f[a]||0)+v.dataPoints[h].y,v.dataPointEOs[h].cumulativeY=f[a],n.yTotals[a]=(n.yTotals[a]?n.yTotals[a]:0)+l,n.yAbsTotals[a]=(n.yAbsTotals[a]?n.yAbsTotals[a]:0)+Math.abs(l),0<=l?g[a]?g[a]+=l:(g[a]=l,T=Math.min(l,T)):_[a]?_[a]+=l:(_[a]=l,m=Math.max(l,m)))}}n.axisY.scaleBreaks&&n.axisY.scaleBreaks.autoCalculate&&1<=n.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(d.dataPointYPositiveSums?(d.dataPointYPositiveSums.push.apply(d.dataPointYPositiveSums,g),d.dataPointYNegativeSums.push.apply(d.dataPointYPositiveSums,_)):(d.dataPointYPositiveSums=g,d.dataPointYNegativeSums=_)),v.axisX.valueType=v.xValueType=p?"dateTime":"number"}for(h in g)g.hasOwnProperty(h)&&!isNaN(h)&&(n=g[h],n<d.min&&(d.min=Math.min(n,T)),n>d.max&&(d.max=n),h<r.viewPortMin||h>r.viewPortMax||(n<d.viewPortMin&&(d.viewPortMin=Math.min(n,T)),n>d.viewPortMax&&(d.viewPortMax=n)));for(h in _)_.hasOwnProperty(h)&&!isNaN(h)&&(n=_[h],n<d.min&&(d.min=n),n>d.max&&(d.max=Math.max(n,m)),h<r.viewPortMin||h>r.viewPortMax||(n<d.viewPortMin&&(d.viewPortMin=n),n>d.viewPortMax&&(d.viewPortMax=Math.max(n,m))))}},P.prototype._processStacked100PlotUnit=function(n){if(n.dataSeriesIndexes&&!(1>n.dataSeriesIndexes.length)){for(var d=n.axisY.dataInfo,r=n.axisX.dataInfo,a,l,p=!1,g=!1,_=!1,T={},m=[],f=0;f<n.dataSeriesIndexes.length;f++){var y=this.data[n.dataSeriesIndexes[f]],v=0,h=!1,k=!1,I;if(y.axisPlacement==="normal"||y.axisPlacement==="xySwapped")var E=n.axisX.sessionVariables.newViewportMinimum?n.axisX.sessionVariables.newViewportMinimum:n.axisX.options&&n.axisX.options.viewportMinimum?n.axisX.options.viewportMinimum:n.axisX.options&&n.axisX.options.minimum?n.axisX.options.minimum:-1/0,w=n.axisX.sessionVariables.newViewportMaximum?n.axisX.sessionVariables.newViewportMaximum:n.axisX.options&&n.axisX.options.viewportMaximum?n.axisX.options.viewportMaximum:n.axisX.options&&n.axisX.options.maximum?n.axisX.options.maximum:1/0;for((y.dataPoints[v].x&&y.dataPoints[v].x.getTime||y.xValueType==="dateTime")&&(p=!0),v=0;v<y.dataPoints.length;v++){if(typeof y.dataPoints[v].x>"u"&&(y.dataPoints[v].x=v+(n.axisX.logarithmic?1:0)),y.dataPoints[v].x.getTime?(p=!0,a=y.dataPoints[v].x.getTime()):a=y.dataPoints[v].x,l=b(y.dataPoints[v].y)?null:y.dataPoints[v].y,a<r.min&&(r.min=a),a>r.max&&(r.max=a),0<v){if(n.axisX.logarithmic){var R=a/y.dataPoints[v-1].x;1>R&&(R=1/R),r.minDiff>R&&R!==1&&(r.minDiff=R)}else R=a-y.dataPoints[v-1].x,0>R&&(R*=-1),r.minDiff>R&&R!==0&&(r.minDiff=R);b(l)||y.dataPoints[v-1].y===null||(n.axisY.logarithmic?0<l&&(R=l/y.dataPoints[v-1].y,1>R&&(R=1/R),d.minDiff>R&&R!==1&&(d.minDiff=R)):(R=l-y.dataPoints[v-1].y,0>R&&(R*=-1),d.minDiff>R&&R!==0&&(d.minDiff=R)))}if(a<E&&!h)l!==null&&(I=a);else{if(!h&&(h=!0,0<v)){v-=2;continue}if(a>w&&!k)k=!0;else if(a>w&&k)continue;y.dataPoints[v].label&&(n.axisX.labels[a]=y.dataPoints[v].label),a<r.viewPortMin&&(r.viewPortMin=a),a>r.viewPortMax&&(r.viewPortMax=a),l===null?r.viewPortMin===a&&I<a&&(r.viewPortMin=I):(T[a]=(T[a]||0)+y.dataPoints[v].y,y.dataPointEOs[v].cumulativeY=T[a],n.yTotals[a]=(n.yTotals[a]?n.yTotals[a]:0)+l,n.yAbsTotals[a]=(n.yAbsTotals[a]?n.yAbsTotals[a]:0)+Math.abs(l),0<=l?g=!0:0>l&&(_=!0),m[a]=m[a]?m[a]+Math.abs(l):Math.abs(l))}}y.axisX.valueType=y.xValueType=p?"dateTime":"number"}n.axisY.logarithmic?(d.max=b(d.viewPortMax)?99*Math.pow(n.axisY.logarithmBase,-.05):Math.max(d.viewPortMax,99*Math.pow(n.axisY.logarithmBase,-.05)),d.min=b(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&!_?(d.max=b(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=b(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&_?(d.max=b(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=b(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)):!g&&_&&(d.max=b(d.viewPortMax)?-1:Math.max(d.viewPortMax,-1),d.min=b(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)),d.viewPortMin=d.min,d.viewPortMax=d.max,n.dataPointYSums=m}},P.prototype._processMultiYPlotUnit=function(n){if(n.dataSeriesIndexes&&!(1>n.dataSeriesIndexes.length))for(var d=n.axisY.dataInfo,r=n.axisX.dataInfo,a,l,p,g,_=!1,T=0;T<n.dataSeriesIndexes.length;T++){var m=this.data[n.dataSeriesIndexes[T]],f=0,y=!1,v=!1,h,k,I;if(m.axisPlacement==="normal"||m.axisPlacement==="xySwapped")var E=n.axisX.sessionVariables.newViewportMinimum?n.axisX.sessionVariables.newViewportMinimum:n.axisX.options&&n.axisX.options.viewportMinimum?n.axisX.options.viewportMinimum:n.axisX.options&&n.axisX.options.minimum?n.axisX.options.minimum:n.axisX.logarithmic?0:-1/0,w=n.axisX.sessionVariables.newViewportMaximum?n.axisX.sessionVariables.newViewportMaximum:n.axisX.options&&n.axisX.options.viewportMaximum?n.axisX.options.viewportMaximum:n.axisX.options&&n.axisX.options.maximum?n.axisX.options.maximum:1/0;for((m.dataPoints[f].x&&m.dataPoints[f].x.getTime||m.xValueType==="dateTime")&&(_=!0),f=0;f<m.dataPoints.length;f++){if(typeof m.dataPoints[f].x>"u"&&(m.dataPoints[f].x=f+(n.axisX.logarithmic?1:0)),m.dataPoints[f].x.getTime?(_=!0,a=m.dataPoints[f].x.getTime()):a=m.dataPoints[f].x,(l=m.dataPoints[f].y)&&l.length){p=Math.min.apply(null,l),g=Math.max.apply(null,l),k=!0;for(var R=0;R<l.length;R++)l.k===null&&(k=!1);k&&(y||(I=h),h=a)}if(a<r.min&&(r.min=a),a>r.max&&(r.max=a),p<d.min&&(d.min=p),g>d.max&&(d.max=g),0<f&&(n.axisX.logarithmic?(k=a/m.dataPoints[f-1].x,1>k&&(k=1/k),r.minDiff>k&&k!==1&&(r.minDiff=k)):(k=a-m.dataPoints[f-1].x,0>k&&(k*=-1),r.minDiff>k&&k!==0&&(r.minDiff=k)),l&&l[0]!==null&&m.dataPoints[f-1].y&&m.dataPoints[f-1].y[0]!==null&&(n.axisY.logarithmic?(k=l[0]/m.dataPoints[f-1].y[0],1>k&&(k=1/k),d.minDiff>k&&k!==1&&(d.minDiff=k)):(k=l[0]-m.dataPoints[f-1].y[0],0>k&&(k*=-1),d.minDiff>k&&k!==0&&(d.minDiff=k)))),!(a<E)||y){if(!y&&(y=!0,0<f)){f-=2,h=I;continue}if(a>w&&!v)v=!0;else if(a>w&&v)continue;if(m.dataPoints[f].label&&(n.axisX.labels[a]=m.dataPoints[f].label),a<r.viewPortMin&&(r.viewPortMin=a),a>r.viewPortMax&&(r.viewPortMax=a),r.viewPortMin===a&&l){for(R=0;R<l.length;R++)if(l[R]===null&&h<a){r.viewPortMin=h;break}}l===null?r.viewPortMin===a&&h<a&&(r.viewPortMin=h):(p<d.viewPortMin&&(d.viewPortMin=p),g>d.viewPortMax&&(d.viewPortMax=g))}}m.axisX.valueType=m.xValueType=_?"dateTime":"number"}},P.prototype._processSpecificPlotUnit=function(n){if(n.type==="waterfall"&&n.dataSeriesIndexes&&!(1>n.dataSeriesIndexes.length))for(var d=n.axisY.dataInfo,r=n.axisX.dataInfo,a,l,p=!1,g=0;g<n.dataSeriesIndexes.length;g++){var _=this.data[n.dataSeriesIndexes[g]],T=0,m=!1,f=!1,y=a=0;if(_.axisPlacement==="normal"||_.axisPlacement==="xySwapped")var v=n.axisX.sessionVariables.newViewportMinimum?n.axisX.sessionVariables.newViewportMinimum:n.axisX.options&&n.axisX.options.viewportMinimum?n.axisX.options.viewportMinimum:n.axisX.options&&n.axisX.options.minimum?n.axisX.options.minimum:n.axisX.logarithmic?0:-1/0,h=n.axisX.sessionVariables.newViewportMaximum?n.axisX.sessionVariables.newViewportMaximum:n.axisX.options&&n.axisX.options.viewportMaximum?n.axisX.options.viewportMaximum:n.axisX.options&&n.axisX.options.maximum?n.axisX.options.maximum:1/0;for((_.dataPoints[T].x&&_.dataPoints[T].x.getTime||_.xValueType==="dateTime")&&(p=!0),T=0;T<_.dataPoints.length;T++)typeof _.dataPoints[T].isCumulativeSum<"u"&&_.dataPoints[T].isCumulativeSum===!0?(_.dataPointEOs[T].cumulativeSumYStartValue=0,_.dataPointEOs[T].cumulativeSum=T===0?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPoints[T].y=T===0?0:_.dataPointEOs[T-1].cumulativeSum):typeof _.dataPoints[T].isIntermediateSum<"u"&&_.dataPoints[T].isIntermediateSum===!0?(_.dataPointEOs[T].cumulativeSumYStartValue=y,_.dataPointEOs[T].cumulativeSum=T===0?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPoints[T].y=T===0?0:a,y=T===0?0:_.dataPointEOs[T-1].cumulativeSum,a=0):(l=typeof _.dataPoints[T].y!="number"?0:_.dataPoints[T].y,_.dataPointEOs[T].cumulativeSumYStartValue=T===0?0:_.dataPointEOs[T-1].cumulativeSum,_.dataPointEOs[T].cumulativeSum=T===0?l:_.dataPointEOs[T-1].cumulativeSum+l,a+=l);for(T=0;T<_.dataPoints.length;T++)if(typeof _.dataPoints[T].x>"u"&&(_.dataPoints[T].x=T+(n.axisX.logarithmic?1:0)),_.dataPoints[T].x.getTime?(p=!0,a=_.dataPoints[T].x.getTime()):a=_.dataPoints[T].x,l=_.dataPoints[T].y,a<r.min&&(r.min=a),a>r.max&&(r.max=a),_.dataPointEOs[T].cumulativeSum<d.min&&(d.min=_.dataPointEOs[T].cumulativeSum),_.dataPointEOs[T].cumulativeSum>d.max&&(d.max=_.dataPointEOs[T].cumulativeSum),0<T&&(n.axisX.logarithmic?(y=a/_.dataPoints[T-1].x,1>y&&(y=1/y),r.minDiff>y&&y!==1&&(r.minDiff=y)):(y=a-_.dataPoints[T-1].x,0>y&&(y*=-1),r.minDiff>y&&y!==0&&(r.minDiff=y)),l!==null&&_.dataPoints[T-1].y!==null&&(n.axisY.logarithmic?(l=_.dataPointEOs[T].cumulativeSum/_.dataPointEOs[T-1].cumulativeSum,1>l&&(l=1/l),d.minDiff>l&&l!==1&&(d.minDiff=l)):(l=_.dataPointEOs[T].cumulativeSum-_.dataPointEOs[T-1].cumulativeSum,0>l&&(l*=-1),d.minDiff>l&&l!==0&&(d.minDiff=l)))),!(a<v)||m){if(!m&&(m=!0,0<T)){T-=2;continue}if(a>h&&!f)f=!0;else if(a>h&&f)continue;_.dataPoints[T].label&&(n.axisX.labels[a]=_.dataPoints[T].label),a<r.viewPortMin&&(r.viewPortMin=a),a>r.viewPortMax&&(r.viewPortMax=a),0<T&&(_.dataPointEOs[T-1].cumulativeSum<d.viewPortMin&&(d.viewPortMin=_.dataPointEOs[T-1].cumulativeSum),_.dataPointEOs[T-1].cumulativeSum>d.viewPortMax&&(d.viewPortMax=_.dataPointEOs[T-1].cumulativeSum)),_.dataPointEOs[T].cumulativeSum<d.viewPortMin&&(d.viewPortMin=_.dataPointEOs[T].cumulativeSum),_.dataPointEOs[T].cumulativeSum>d.viewPortMax&&(d.viewPortMax=_.dataPointEOs[T].cumulativeSum)}_.axisX.valueType=_.xValueType=p?"dateTime":"number"}},P.prototype.calculateAutoBreaks=function(){function n(k,I,E,w){return w?(E=Math.pow(Math.min(E*k/I,I/k),.2),1>=E&&(E=Math.pow(1>k?1/k:Math.min(I/k,k),.25)),{startValue:k*E,endValue:I/E}):(E=.2*Math.min(E-I+k,I-k),0>=E&&(E=.25*Math.min(I-k,Math.abs(k))),{startValue:k+E,endValue:I-E})}function d(k){if(k.dataSeriesIndexes&&!(1>k.dataSeriesIndexes.length)){var I=k.axisX.scaleBreaks&&k.axisX.scaleBreaks.autoCalculate&&1<=k.axisX.scaleBreaks.maxNumberOfAutoBreaks,E=k.axisY.scaleBreaks&&k.axisY.scaleBreaks.autoCalculate&&1<=k.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(I||E)for(var le=k.axisY.dataInfo,V=k.axisX.dataInfo,w,R=V.min,M=V.max,W=le.min,j=le.max,V=V._dataRanges,le=le._dataRanges,ye,te=0,ie=0;ie<k.dataSeriesIndexes.length;ie++){var G=l.data[k.dataSeriesIndexes[ie]];if(!(4>G.dataPoints.length)){for(te=0;te<G.dataPoints.length;te++)if(I&&(ye=(M+1-R)*Math.max(parseFloat(k.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,w=G.dataPoints[te].x.getTime?G.dataPoints[te].x.getTime():G.dataPoints[te].x,ye=Math.floor((w-R)/ye),w<V[ye].min&&(V[ye].min=w),w>V[ye].max&&(V[ye].max=w)),E){var $=(j+1-W)*Math.max(parseFloat(k.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((w=k.type==="waterfall"?G.dataPointEOs[te].cumulativeSum:G.dataPoints[te].y)&&w.length)for(var N=0;N<w.length;N++)ye=Math.floor((w[N]-W)/$),w[N]<le[ye].min&&(le[ye].min=w[N]),w[N]>le[ye].max&&(le[ye].max=w[N]);else b(w)||(ye=Math.floor((w-W)/$),w<le[ye].min&&(le[ye].min=w),w>le[ye].max&&(le[ye].max=w))}}}}}function r(k){if(k.dataSeriesIndexes&&!(1>k.dataSeriesIndexes.length)&&k.axisX.scaleBreaks&&k.axisX.scaleBreaks.autoCalculate&&1<=k.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var I=k.axisX.dataInfo,E=I.min,w=I.max,R=I._dataRanges,M,W=0,j=0;j<k.dataSeriesIndexes.length;j++){var V=l.data[k.dataSeriesIndexes[j]];if(!(4>V.dataPoints.length))for(W=0;W<V.dataPoints.length;W++)M=(w+1-E)*Math.max(parseFloat(k.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,I=V.dataPoints[W].x.getTime?V.dataPoints[W].x.getTime():V.dataPoints[W].x,M=Math.floor((I-E)/M),I<R[M].min&&(R[M].min=I),I>R[M].max&&(R[M].max=I)}}for(var a,l=this,p=!1,g=0;g<this._axes.length;g++)if(this._axes[g].scaleBreaks&&this._axes[g].scaleBreaks.autoCalculate&&1<=this._axes[g].scaleBreaks.maxNumberOfAutoBreaks){p=!0,this._axes[g].dataInfo._dataRanges=[];for(var _=0;_<100/Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10);_++)this._axes[g].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(p){for(g=0;g<this.plotInfo.plotTypes.length;g++)for(p=this.plotInfo.plotTypes[g],_=0;_<p.plotUnits.length;_++)a=p.plotUnits[_],a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="column"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="bar"||a.type==="bubble"||a.type==="scatter"||a.type==="candlestick"||a.type==="ohlc"||a.type==="rangeColumn"||a.type==="rangeBar"||a.type==="rangeArea"||a.type==="rangeSplineArea"||a.type==="waterfall"||a.type==="error"||a.type==="boxAndWhisker"?d(a):0<=a.type.indexOf("stacked")&&r(a);for(g=0;g<this._axes.length;g++)if(this._axes[g].dataInfo._dataRanges){var T=this._axes[g].dataInfo.min;a=(this._axes[g].dataInfo.max+1-T)*Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10)/100;var m=this._axes[g].dataInfo._dataRanges,f,y,p=[];if(this._axes[g].dataInfo.dataPointYPositiveSums){var v=this._axes[g].dataInfo.dataPointYPositiveSums;f=m;for(_ in v)if(v.hasOwnProperty(_)&&!isNaN(_)&&(y=v[_],!b(y))){var h=Math.floor((y-T)/a);y<f[h].min&&(f[h].min=y),y>f[h].max&&(f[h].max=y)}delete this._axes[g].dataInfo.dataPointYPositiveSums}if(this._axes[g].dataInfo.dataPointYNegativeSums){v=this._axes[g].dataInfo.dataPointYNegativeSums,f=m;for(_ in v)v.hasOwnProperty(_)&&!isNaN(_)&&(y=-1*v[_],b(y)||(h=Math.floor((y-T)/a),y<f[h].min&&(f[h].min=y),y>f[h].max&&(f[h].max=y)));delete this._axes[g].dataInfo.dataPointYNegativeSums}for(_=0;_<m.length-1;_++)if(f=m[_].max,isFinite(f))for(;_<m.length-1;)if(T=m[_+1].min,isFinite(T)){y=T-f,y>a&&p.push({diff:y,start:f,end:T});break}else _++;if(this._axes[g].scaleBreaks.customBreaks)for(_=0;_<this._axes[g].scaleBreaks.customBreaks.length;_++)for(a=0;a<p.length;a++)(this._axes[g].scaleBreaks.customBreaks[_].startValue<=p[a].start&&p[a].start<=this._axes[g].scaleBreaks.customBreaks[_].endValue||this._axes[g].scaleBreaks.customBreaks[_].startValue<=p[a].start&&p[a].start<=this._axes[g].scaleBreaks.customBreaks[_].endValue||p[a].start<=this._axes[g].scaleBreaks.customBreaks[_].startValue&&this._axes[g].scaleBreaks.customBreaks[_].startValue<=p[a].end||p[a].start<=this._axes[g].scaleBreaks.customBreaks[_].endValue&&this._axes[g].scaleBreaks.customBreaks[_].endValue<=p[a].end)&&(p.splice(a,1),a--);for(p.sort(function(I,E){return E.diff-I.diff}),_=0;_<Math.min(p.length,this._axes[g].scaleBreaks.maxNumberOfAutoBreaks);_++)a=n(p[_].start,p[_].end,this._axes[g].logarithmic?this._axes[g].dataInfo.max/this._axes[g].dataInfo.min:this._axes[g].dataInfo.max-this._axes[g].dataInfo.min,this._axes[g].logarithmic),this._axes[g].scaleBreaks.autoBreaks.push(new Et(this,"autoBreaks",a,_,++this._eventManager.lastObjectId,this._axes[g].scaleBreaks)),this._axes[g].scaleBreaks._appliedBreaks.push(this._axes[g].scaleBreaks.autoBreaks[this._axes[g].scaleBreaks.autoBreaks.length-1]);this._axes[g].scaleBreaks._appliedBreaks.sort(function(I,E){return I.startValue-E.startValue})}}},P.prototype.renderCrosshairs=function(n){for(var d=0;d<this.axisX.length;d++)this.axisX[d]!=n&&this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&!this.axisX[d].crosshair._hidden&&this.axisX[d].showCrosshair(this.axisX[d].crosshair._updatedValue);for(d=0;d<this.axisX2.length;d++)this.axisX2[d]!=n&&this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&!this.axisX2[d].crosshair._hidden&&this.axisX2[d].showCrosshair(this.axisX2[d].crosshair._updatedValue);for(d=0;d<this.axisY.length;d++)this.axisY[d]!=n&&this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&!this.axisY[d].crosshair._hidden&&this.axisY[d].showCrosshair(this.axisY[d].crosshair._updatedValue);for(d=0;d<this.axisY2.length;d++)this.axisY2[d]!=n&&this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&!this.axisY2[d].crosshair._hidden&&this.axisY2[d].showCrosshair(this.axisY2[d].crosshair._updatedValue)},P.prototype.getDataPointAtXY=function(n,d,r){r=r||!1;for(var a=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var p=null;(p=this._dataInRenderedOrder[l].getDataPointAtXY(n,d,r))&&a.push(p)}for(n=null,d=!1,r=0;r<a.length;r++)if((a[r].dataSeries.type==="line"||a[r].dataSeries.type==="stepLine"||a[r].dataSeries.type==="area"||a[r].dataSeries.type==="stepArea")&&(l=pe("markerSize",a[r].dataPoint,a[r].dataSeries)||8,a[r].distance<=l/2)){d=!0;break}for(r=0;r<a.length;r++)d&&a[r].dataSeries.type!=="line"&&a[r].dataSeries.type!=="stepLine"&&a[r].dataSeries.type!=="area"&&a[r].dataSeries.type!=="stepArea"||(n?a[r].distance<=n.distance&&(n=a[r]):n=a[r]);return n},P.prototype.getObjectAtXY=function(n,d,r){var a=null;if(r=this.getDataPointAtXY(n,d,r||!1))a=r.dataSeries.dataPointIds[r.dataPointIndex];else if(X)a=ke(n,d,this._eventManager.ghostCtx);else for(r=0;r<this.legend.items.length;r++){var l=this.legend.items[r];n>=l.x1&&n<=l.x2&&d>=l.y1&&d<=l.y2&&(a=l.id)}return a},P.prototype.getAutoFontSize=Qe,P.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},P.prototype.clearCanvas=Fe,P.prototype.attachEvent=function(n){this._events.push(n)},P.prototype._touchEventHandler=function(n){if(n.changedTouches&&this.interactivityEnabled){var d=[],r=n.changedTouches,a=r?r[0]:n,l=null;switch(n.type){case"touchstart":case"MSPointerDown":d=["mousemove","mousedown"],this._lastTouchData=Ct(a),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":d=["mousemove"];break;case"touchend":case"MSPointerUp":var p=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,d=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>p?["mouseup","click"]:["mouseup"];break;default:return}if(!(r&&1<r.length)){l=Ct(a),l.time=new Date;try{var g=l.y-this._lastTouchData.y,p=l.time-this._lastTouchData.time;(1<Math.abs(g)&&this._lastTouchData.scroll||5<Math.abs(g)&&250>p)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=n.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(r=0;r<d.length;r++)l=d[r],g=document.createEvent("MouseEvent"),g.initMouseEvent(l,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(g),(!b(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<p||l==="click")&&(n.preventManipulation&&n.preventManipulation(),n.preventDefault&&n.cancelable&&n.preventDefault())}}},P.prototype._dispatchRangeEvent=function(n,d){var r={chart:this};r.type=n,r.trigger=d;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var l=0;l<a.length;l++)if(b(r[a[l]])&&(r[a[l]]=[]),a[l]==="axisY")for(var p=0;p<this.axisY.length;p++)r[a[l]].push({viewportMinimum:this[a[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[a[l]][p].sessionVariables.newViewportMaximum});else if(a[l]==="axisY2")for(p=0;p<this.axisY2.length;p++)r[a[l]].push({viewportMinimum:this[a[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[a[l]][p].sessionVariables.newViewportMaximum});else if(a[l]==="axisX")for(p=0;p<this.axisX.length;p++)r[a[l]].push({viewportMinimum:this[a[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[a[l]][p].sessionVariables.newViewportMaximum});else if(a[l]==="axisX2")for(p=0;p<this.axisX2.length;p++)r[a[l]].push({viewportMinimum:this[a[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[a[l]][p].sessionVariables.newViewportMaximum});this.dispatchEvent(n,r,this)},P.prototype._mouseEventHandler=function(n){function d(){P.capturedEventParam&&(l=P.capturedEventParam,g=l.bounds,a==="mouseup"&&(P.capturedEventParam=null,l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",l.chart._mouseEventHandler,!1)),l.hasOwnProperty(a)&&(a!=="mouseup"||l.chart.overlaidCanvas.releaseCapture?n.target!==l.chart.overlaidCanvas&&X||l[a].call(l.context,r.x,r.y):n.target!==l.chart.overlaidCanvas&&(l.chart.isDrag=!1)))}typeof n.target>"u"&&n.srcElement&&(n.target=n.srcElement);var r=Ct(n),a=n.type,l,p;if(n.which?p=n.which==3:n.button&&(p=n.button==2),this._ignoreNextEvent)d(),this._ignoreNextEvent=!1;else if(d(),this.interactivityEnabled){n.preventManipulation&&n.preventManipulation(),n.preventDefault&&n.preventDefault();var g;if(!p){if(!P.capturedEventParam&&this._events){for(p=0;p<this._events.length;p++)if(this._events[p].hasOwnProperty(a))if(l=this._events[p],g=l.bounds,r.x>=g.x1&&r.x<=g.x2&&r.y>=g.y1&&r.y<=g.y2){l[a].call(l.context,r.x,r.y),a==="mousedown"&&l.capture===!0?(P.capturedEventParam=l,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):a==="mouseup"&&(l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else l=null;n.target.style.cursor=l&&l.cursor?l.cursor:this._defaultCursor}if(p=this.plotArea,r.x<p.x1||r.x>p.x2||r.y<p.y1||r.y>p.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&(this.axisX[p].crosshair.hide(),this.axisX[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[p].options},this.axisX[p].crosshair));for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&(this.axisX2[p].crosshair.hide(),this.axisX2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[p].options},this.axisX2[p].crosshair));for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&(this.axisY[p].crosshair.hide(),this.axisY[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[p].options},this.axisY[p].crosshair));for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&(this.axisY2[p].crosshair.hide(),this.axisY2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[p].options},this.axisY2[p].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(n)}}},P.prototype._plotAreaMouseDown=function(n,d){this.isDrag=!0,this.dragStartPoint={x:n,y:d}},P.prototype._plotAreaMouseUp=function(n,d){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var r=d-this.dragStartPoint.y,a=n-this.dragStartPoint.x,_=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),l=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var p=g,g=_,_=p;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(_=g=0;_<this._axes.length;_++)r=this._axes[_],r.logarithmic?r.viewportMinimum<r.minimum?(g=r.minimum/r.viewportMinimum,r.sessionVariables.newViewportMinimum=r.viewportMinimum*g,r.sessionVariables.newViewportMaximum=r.viewportMaximum*g,l=!0):r.viewportMaximum>r.maximum&&(g=r.viewportMaximum/r.maximum,r.sessionVariables.newViewportMinimum=r.viewportMinimum/g,r.sessionVariables.newViewportMaximum=r.viewportMaximum/g,l=!0):r.viewportMinimum<r.minimum?(g=r.minimum-r.viewportMinimum,r.sessionVariables.newViewportMinimum=r.viewportMinimum+g,r.sessionVariables.newViewportMaximum=r.viewportMaximum+g,l=!0):r.viewportMaximum>r.maximum&&(g=r.viewportMaximum-r.maximum,r.sessionVariables.newViewportMinimum=r.viewportMinimum-g,r.sessionVariables.newViewportMaximum=r.viewportMaximum-g,l=!0);else if((!_||2<Math.abs(a))&&(!g||2<Math.abs(r))&&this.zoomEnabled){if(!this.dragStartPoint)return;r=_?this.dragStartPoint.x:this.plotArea.x1,a=g?this.dragStartPoint.y:this.plotArea.y1,_=_?n:this.plotArea.x2,g=g?d:this.plotArea.y2,2<Math.abs(r-_)&&2<Math.abs(a-g)&&this._zoomPanToSelectedRegion(r,a,_,g)&&(l=!0)}l&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),l&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(Ae(this._zoomButton,this._resetButton),We(this,this._zoomButton,"pan"),We(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(n,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(n,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(n,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(n,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},P.prototype._plotAreaMouseMove=function(n,d){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var r=0,a=0,l=r=null,l=0<=this.zoomType.indexOf("x"),p=0<=this.zoomType.indexOf("y"),g=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(r=p,p=l,l=r),r=this.dragStartPoint.x-n,a=this.dragStartPoint.y-d,2<Math.abs(r)&&8>Math.abs(r)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var _=0;_<this.axisX.length;_++)this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&(this.axisX[_].crosshair.hide(),this.axisX[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[_].options},this.axisX[_].crosshair));for(_=0;_<this.axisX2.length;_++)this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&(this.axisX2[_].crosshair.hide(),this.axisX2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[_].options},this.axisX2[_].crosshair));for(_=0;_<this.axisY.length;_++)this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&(this.axisY[_].crosshair.hide(),this.axisY[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[_].options},this.axisY[_].crosshair));for(_=0;_<this.axisY2.length;_++)this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&(this.axisY2[_].crosshair.hide(),this.axisY2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[_].options},this.axisY2[_].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(n,d);if((!l||2<Math.abs(r)||!p||2<Math.abs(a))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)l={x1:l?this.plotArea.x1+r:this.plotArea.x1,y1:p?this.plotArea.y1+a:this.plotArea.y1,x2:l?this.plotArea.x2+r:this.plotArea.x2,y2:p?this.plotArea.y2+a:this.plotArea.y2},clearTimeout(g._panTimerId),g._panTimerId=setTimeout(function(f,y,v,h){return function(){g._zoomPanToSelectedRegion(f,y,v,h,!0)&&(g._dispatchRangeEvent("rangeChanging","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanging",g.stockChart.dispatchEvent("rangeChanging",g.stockChart._rangeEventParameter,g.stockChart)),g.render(),g._dispatchRangeEvent("rangeChanged","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanged",g.stockChart.dispatchEvent("rangeChanged",g.stockChart._rangeEventParameter,g.stockChart)),g.dragStartPoint.x=n,g.dragStartPoint.y=d)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),r=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var a=l?this.dragStartPoint.x:this.plotArea.x1,_=p?this.dragStartPoint.y:this.plotArea.y1,T=l?n-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,m=p?d-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(a,_,l?n:this.plotArea.x2-this.plotArea.x1,p?d:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(a,_,T,m),this.overlaidCanvasCtx.globalAlpha=r}}}else if(this.toolTip.mouseMoveHandler(n,d),this.plotInfo.axisPlacement!=="none"){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(n,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(n,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(n,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(n,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},P.prototype._zoomPanToSelectedRegion=function(n,d,r,a,l){if(n=this.validateRegion(n,d,r,a,l),d=n.axesWithValidRange,r=n.axesRanges,n.isValid)for(a=0;a<d.length;a++)l=r[a],d[a].setViewPortRange(l.val1,l.val2),this.syncCharts&&this.zoomType!="y"&&this.syncCharts(l.val1,l.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:l.val1,maximum:l.val2});return n.isValid},P.prototype.validateRegion=function(n,d,r,a,l){l=l||!1;for(var p=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),_=!1,T=[],m=[],f=[],y=0;y<this._axes.length;y++)(this._axes[y].type==="axisX"&&p||this._axes[y].type==="axisY"&&g)&&m.push(this._axes[y]);for(g=0;g<m.length;g++){var y=m[g],p=!1,k=y.convertPixelToValue({x:n,y:d}),h=y.convertPixelToValue({x:r,y:a});if(k>h)var v=h,h=k,k=v;if(y.scaleBreaks)for(v=0;!p&&v<y.scaleBreaks._appliedBreaks.length;v++)p=y.scaleBreaks._appliedBreaks[v].startValue<=k&&y.scaleBreaks._appliedBreaks[v].endValue>=h;if(isFinite(y.dataInfo.minDiff)){if(v=y.getApparentDifference(k,h,null,!0),!(p||!(this.panEnabled&&y.scaleBreaks&&y.scaleBreaks._appliedBreaks.length)&&(y.logarithmic&&v<Math.pow(y.dataInfo.minDiff,3)||!y.logarithmic&&v<3*Math.abs(y.dataInfo.minDiff))||k<y.minimum||h>y.maximum))T.push(y),f.push({val1:k,val2:h}),_=!0;else if(!l){_=!1;break}}}return{isValid:_,axesWithValidRange:T,axesRanges:f}},P.prototype.preparePlotArea=function(){var n=this.plotArea;if(!X&&(0<n.x1||0<n.y1)&&n.ctx.translate(n.x1,n.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var d=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var r=this.axisY[0];n.x1=d.x1<d.x2?d.x1:r.lineCoordinates.x1,n.y1=d.y1<r.lineCoordinates.y1?d.y1:r.lineCoordinates.y1,n.x2=d.x2>r.lineCoordinates.x2?d.x2:r.lineCoordinates.x2,n.y2=d.y1>r.lineCoordinates.y2?d.y1:r.lineCoordinates.y2,n.width=n.x2-n.x1,n.height=n.y2-n.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(r=this.axisY2[0],n.x1=d.x1<d.x2?d.x1:r.lineCoordinates.x1,n.y1=d.y1<r.lineCoordinates.y1?d.y1:r.lineCoordinates.y1,n.x2=d.x2>r.lineCoordinates.x2?d.x2:r.lineCoordinates.x2,n.y2=d.y2>r.lineCoordinates.y2?d.y2:r.lineCoordinates.y2,n.width=n.x2-n.x1,n.height=n.y2-n.y1)}else d=this.layoutManager.getFreeSpace(),n.x1=d.x1,n.x2=d.x2,n.y1=d.y1,n.y2=d.y2,n.width=d.width,n.height=d.height;X||(n.canvas.width=n.width,n.canvas.height=n.height,n.canvas.style.left=n.x1+"px",n.canvas.style.top=n.y1+"px",(0<n.x1||0<n.y1)&&n.ctx.translate(-n.x1,-n.y1)),n.layoutManager=new ze(n.x1,n.y1,n.x2,n.y2,2)},P.prototype.renderIndexLabels=function(n){var d=n||this.plotArea.ctx,r=this.plotArea,a=0,l=0,p=0,g=l=p=0,_=0,T=a=0,m=0;for(n=0;n<this._indexLabels.length;n++){var f=this._indexLabels[n],y=f.chartType.toLowerCase(),v,h,_=pe("indexLabelFontColor",f.dataPoint,f.dataSeries),k=pe("indexLabelFontSize",f.dataPoint,f.dataSeries),T=pe("indexLabelFontFamily",f.dataPoint,f.dataSeries),m=pe("indexLabelFontStyle",f.dataPoint,f.dataSeries);v=pe("indexLabelFontWeight",f.dataPoint,f.dataSeries);var I=pe("indexLabelBackgroundColor",f.dataPoint,f.dataSeries);h=pe("indexLabelMaxWidth",f.dataPoint,f.dataSeries);var p=pe("indexLabelWrap",f.dataPoint,f.dataSeries),E=pe("indexLabelLineDashType",f.dataPoint,f.dataSeries),w=pe("indexLabelLineColor",f.dataPoint,f.dataSeries),R=b(f.dataPoint.indexLabelLineThickness)?b(f.dataSeries.options.indexLabelLineThickness)?0:f.dataSeries.options.indexLabelLineThickness:f.dataPoint.indexLabelLineThickness,a=0<R?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,M={percent:null,total:null},W=null;(0<=f.dataSeries.type.indexOf("stacked")||f.dataSeries.type==="pie"||f.dataSeries.type==="doughnut")&&(M=this.getPercentAndTotal(f.dataSeries,f.dataPoint)),(f.dataSeries.indexLabelFormatter||f.dataPoint.indexLabelFormatter)&&(W={chart:this,dataSeries:f.dataSeries,dataPoint:f.dataPoint,index:f.indexKeyword,total:M.total,percent:M.percent});var j=f.dataPoint.indexLabelFormatter?f.dataPoint.indexLabelFormatter(W):f.dataPoint.indexLabel?this.replaceKeywordsWithValue(f.dataPoint.indexLabel,f.dataPoint,f.dataSeries,null,f.indexKeyword):f.dataSeries.indexLabelFormatter?f.dataSeries.indexLabelFormatter(W):f.dataSeries.indexLabel?this.replaceKeywordsWithValue(f.dataSeries.indexLabel,f.dataPoint,f.dataSeries,null,f.indexKeyword):null;if(j!==null&&j!==""){var M=pe("indexLabelPlacement",f.dataPoint,f.dataSeries),W=pe("indexLabelOrientation",f.dataPoint,f.dataSeries),V=pe("indexLabelTextAlign",f.dataPoint,f.dataSeries),le=f.direction,l=f.dataSeries.axisX,g=f.dataSeries.axisY,ye=!1,I=new Le(d,{x:0,y:0,maxWidth:h||.5*this.width,maxHeight:p?5*k:1.5*k,angle:W==="horizontal"?0:-90,text:j,padding:0,backgroundColor:I,textAlign:V,fontSize:k,fontFamily:T,fontWeight:v,fontColor:_,fontStyle:m,textBaseline:"middle"});if(I.measureText(),f.dataSeries.indexLabelMaxWidth=I.maxWidth,y==="stackedarea100"){if(f.point.x<r.x1||f.point.x>r.x2||f.point.y<r.y1-1||f.point.y>r.y2+1)continue}else if(y==="rangearea"||y==="rangesplinearea"){if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum||Math.max.apply(null,f.dataPoint.y)<g.viewportMinimum||Math.min.apply(null,f.dataPoint.y)>g.viewportMaximum)continue}else if(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("bubble")||0<=y.indexOf("scatter")){if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum||f.dataPoint.y<g.viewportMinimum||f.dataPoint.y>g.viewportMaximum)continue}else if(0<=y.indexOf("column")||y==="waterfall"||y==="error"&&!f.axisSwapped){if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum||f.bounds.y1>r.y2||f.bounds.y2<r.y1)continue}else if(0<=y.indexOf("bar")||y==="error"){if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum||f.bounds.x1>r.x2||f.bounds.x2<r.x1)continue}else if(y==="candlestick"||y==="ohlc"){if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum||Math.max.apply(null,f.dataPoint.y)<g.viewportMinimum||Math.min.apply(null,f.dataPoint.y)>g.viewportMaximum)continue}else if(f.dataPoint.x<l.viewportMinimum||f.dataPoint.x>l.viewportMaximum)continue;g=_=2,W==="horizontal"?(T=I.width,m=I.height):(m=I.width,T=I.height),this.plotInfo.axisPlacement==="normal"?(0<=y.indexOf("line")||0<=y.indexOf("area")?(M="auto",_=4):0<=y.indexOf("stacked")?M==="auto"&&(M="inside"):(y==="bubble"||y==="scatter")&&(M="inside"),v=f.point.x-T/2+(W==="horizontal"?0:I._lineHeight/2),M!=="inside"?(l=r.y1,p=r.y2,0<le?(h=f.point.y+I._lineHeight/2-m-_-a,h<l&&(h=M==="auto"?Math.max(f.point.y,l)+I._lineHeight/2+_+a:l+I._lineHeight/2+_+a,ye=h+(W==="horizontal"?m-I._lineHeight/2:0)>f.point.y,!ye||0<=y.indexOf("line")||0<=y.indexOf("area")||(h-=a))):(h=f.point.y+I._lineHeight/2+_+a,h>p-m+I._lineHeight/2-_&&(h=M==="auto"?Math.min(f.point.y,p)+I._lineHeight/2-m-_-a:p+I._lineHeight/2-m-_-a,ye=h-(W==="horizontal"?I._lineHeight/2:m)<f.point.y,!ye||0<=y.indexOf("line")||0<=y.indexOf("area")||(h+=a)))):(Math.max(f.bounds.y1,r.y1),p=Math.min(f.bounds.y2,r.y2)-m+I._lineHeight/2,a=0<=y.indexOf("range")||y==="error"?0<le?Math.max(f.bounds.y1,r.y1)+I._lineHeight/2+_:Math.min(f.bounds.y2,r.y2)+I._lineHeight/2-m-_:(Math.max(f.bounds.y1,r.y1)+Math.min(f.bounds.y2,r.y2))/2-m/2+I._lineHeight/2,0<le?(h=a,(y==="bubble"||y==="scatter")&&(h=f.point.y-m/2+I._lineHeight/2,m>f.bounds.y2-f.bounds.y1&&(h-=m/2+_),0>h-I._lineHeight/2&&(h+=Math.abs(h-I._lineHeight/2)<=(f.bounds.y2-f.bounds.y1)/2+_?Math.abs(h-I._lineHeight/2):(f.bounds.y2-f.bounds.y1)/2+_))):(h=Math.min(f.point.y,a),h>p-m-_&&(y==="bubble"||y==="scatter")&&(h=Math.min(f.point.y+_,r.y2-m-_))),h=Math.min(h,p))):(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("scatter")?(M="auto",g=4):0<=y.indexOf("stacked")?M==="auto"&&(M="inside"):y==="bubble"&&(M="inside"),h=f.point.y+I._lineHeight/2-m/2,M!=="inside"?(p=r.x1,l=r.x2,0>le?(v=f.point.x-T+(W==="horizontal"?0:I._lineHeight/2)-g-a,(W==="horizontal"?v:v-I._lineHeight/2)<p&&(v=M==="auto"?Math.max(f.point.x,p)+(W==="horizontal"?0:I._lineHeight/2)+_+a:p+(W==="horizontal"?0:I._lineHeight/2)+g,(ye=v+T-(W==="horizontal"?0:I._lineHeight/2)>f.point.x)&&(v-=a))):(v=f.point.x+(W==="horizontal"?0:I._lineHeight/2)+g+a,(W==="horizontal"?v:v-I._lineHeight/2)>l-T-g-a&&(v=M==="auto"?Math.min(f.point.x,l)-(W==="horizontal"?T:T-I._lineHeight/2)-g-a:l-T-g+(W==="horizontal"?0:I._lineHeight/2),(ye=v-(W==="horizontal"?0:I._lineHeight/2)<f.point.x)&&(v+=a)))):(p=Math.max(f.bounds.x1,r.x1),Math.min(f.bounds.x2,r.x2),a=0<=y.indexOf("range")||y==="error"?0>le?Math.max(f.bounds.x1,r.x1):Math.min(f.bounds.x2,r.x2)-T-g+(W==="horizontal"?0:I._lineHeight/2):(Math.max(f.bounds.x1,r.x1)+Math.min(f.bounds.x2,r.x2))/2-T/2+(W==="horizontal"?0:I._lineHeight/2),v=0>le?a:Math.min(f.point.x,a),v=Math.max(v,p+(W==="horizontal"?0:I._lineHeight/2+_)))),W==="vertical"&&(h+=m-I._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(y)&&(ye=0<le?h+(W==="horizontal"?m-I._lineHeight/2:0)>f.point.y:h-(W==="horizontal"?I._lineHeight/2:m)<f.point.y),y==="bubble"||y==="scatter")&&(v+=I._lineHeight/2-k/2),I.x=v,I.y=h,I.render(!0),R&&M!=="inside"&&(0>y.indexOf("bar")&&(y!=="error"||!f.axisSwapped)&&f.point.x>r.x1&&f.point.x<r.x2||!ye)&&("ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(y)===-1&&(y!=="error"||f.axisSwapped)&&f.point.y>r.y1&&f.point.y<r.y2||!ye)&&(d.lineWidth=R,d.strokeStyle=w||"gray",d.setLineDash&&d.setLineDash(q(E,R)),d.beginPath(),d.moveTo(f.point.x,f.point.y),0<=y.indexOf("bar")||y==="error"&&f.axisSwapped?d.lineTo(v+(0<f.direction?0:T)+(W==="vertical"?-I._lineHeight/2:0),h+(W==="vertical"?-m/2:m/2-I._lineHeight/2)):0<=y.indexOf("column")||y==="error"&&!f.axisSwapped?d.lineTo(v+T/2-(W==="horizontal"?0:I._lineHeight/2),h+(W==="vertical"?h-m<f.point.y?0:-m:(h-I._lineHeight/2<f.point.y?m:0)-I._lineHeight/2)):0<=y.indexOf("waterfall")?d.lineTo(v+T/2-(W==="horizontal"?0:I._lineHeight/2),W==="vertical"?0<le&&h<f.point.y?h:0>le&&h-m>f.point.y?h-m:f.point.y:0<le&&h+m-I._lineHeight/2<f.point.y?h+m-I._lineHeight/2:0>le&&h-I._lineHeight/2>f.point.y?h-I._lineHeight/2:f.point.y):d.lineTo(v+T/2-(W==="horizontal"?0:I._lineHeight/2),h+(W==="vertical"?h-m<f.point.y?0:-m:(h+m-I._lineHeight/2<f.point.y?m:0)-I._lineHeight/2)),d.stroke())}}for(d={source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0,startTimePercent:.7},n=0;n<this._indexLabels.length;n++)f=this._indexLabels[n],I=pe("indexLabelBackgroundColor",f.dataPoint,f.dataSeries),f.dataSeries.indexLabelBackgroundColor=b(I)?X?"transparent":null:I;return d},P.prototype.renderLine=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;r.save();var l=this.plotArea;r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip();for(var p=[],g,_=0;_<n.dataSeriesIndexes.length;_++){var T=n.dataSeriesIndexes[_],m=this.data[T];r.lineWidth=m.lineThickness;var f=m.dataPoints,y="solid";if(r.setLineDash){var v=q(m.nullDataLineDashType,m.lineThickness),y=m.lineDashType,h=q(y,m.lineThickness);r.setLineDash(h)}var k=m.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:T},k=C(k),a.strokeStyle=k,a.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var k=m._colorSet,I=k=m.lineColor=m.options.lineColor?m.options.lineColor:k[0];r.strokeStyle=k;var E=!0,w=0,R,M;if(r.beginPath(),0<f.length){for(var W=!1,w=0;w<f.length;w++)if(R=f[w].x.getTime?f[w].x.getTime():f[w].x,!(R<n.axisX.dataInfo.viewPortMin||R>n.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!W)))if(typeof f[w].y!="number")0<w&&!(m.connectNullData||W||E)&&(r.stroke(),X&&a.stroke()),W=!0;else{R=n.axisX.convertValueToPixel(R),M=n.axisY.convertValueToPixel(f[w].y);var j=m.dataPointIds[w];if(this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:w,x1:R,y1:M},E||W?(!E&&m.connectNullData?(r.setLineDash&&(m.options.nullDataLineDashType||y===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(r.stroke(),r.beginPath(),r.moveTo(g.x,g.y),y=m.nullDataLineDashType,r.setLineDash(v)),r.lineTo(R,M),X&&a.lineTo(R,M)):(r.beginPath(),r.moveTo(R,M),X&&(a.beginPath(),a.moveTo(R,M))),W=E=!1):(r.lineTo(R,M),X&&a.lineTo(R,M),w%500==0&&(r.stroke(),r.beginPath(),r.moveTo(R,M),X&&(a.stroke(),a.beginPath(),a.moveTo(R,M)))),g={x:R,y:M},w<f.length-1&&(I!==(f[w].lineColor||k)||y!==(f[w].lineDashType||m.lineDashType))&&(r.stroke(),r.beginPath(),r.moveTo(R,M),I=f[w].lineColor||k,r.strokeStyle=I,r.setLineDash&&(f[w].lineDashType?(y=f[w].lineDashType,r.setLineDash(q(y,m.lineThickness))):(y=m.lineDashType,r.setLineDash(h)))),f[w].markerSize!==0&&(0<f[w].markerSize||0<m.markerSize)){var V=m.getMarkerProperties(w,R,M,r);p.push(V),j=C(j),X&&p.push({x:R,y:M,ctx:a,type:V.type,size:V.size,color:j,borderColor:j,borderThickness:V.borderThickness})}(f[w].indexLabel||m.indexLabel||f[w].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:f[w],dataSeries:m,point:{x:R,y:M},direction:0>f[w].y===n.axisY.reversed?1:-1,color:k})}r.stroke(),X&&a.stroke()}}return Ut.drawMarkers(p),X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),a.beginPath()),r.restore(),r.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderStepLine=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;r.save();var l=this.plotArea;r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip();for(var p=[],g,_=0;_<n.dataSeriesIndexes.length;_++){var T=n.dataSeriesIndexes[_],m=this.data[T];r.lineWidth=m.lineThickness;var f=m.dataPoints,y="solid";if(r.setLineDash){var v=q(m.nullDataLineDashType,m.lineThickness),y=m.lineDashType,h=q(y,m.lineThickness);r.setLineDash(h)}var k=m.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:T},k=C(k),a.strokeStyle=k,a.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var k=m._colorSet,I=k=m.lineColor=m.options.lineColor?m.options.lineColor:k[0];r.strokeStyle=k;var E=!0,w=0,R,M;if(r.beginPath(),0<f.length){for(var W=!1,w=0;w<f.length;w++)if(R=f[w].getTime?f[w].x.getTime():f[w].x,!(R<n.axisX.dataInfo.viewPortMin||R>n.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!W)))if(typeof f[w].y!="number")0<w&&!(m.connectNullData||W||E)&&(r.stroke(),X&&a.stroke()),W=!0;else{var j=M;R=n.axisX.convertValueToPixel(R),M=n.axisY.convertValueToPixel(f[w].y);var V=m.dataPointIds[w];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:w,x1:R,y1:M},E||W?(!E&&m.connectNullData?(r.setLineDash&&(m.options.nullDataLineDashType||y===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(r.stroke(),r.beginPath(),r.moveTo(g.x,g.y),y=m.nullDataLineDashType,r.setLineDash(v)),r.lineTo(R,j),r.lineTo(R,M),X&&(a.lineTo(R,j),a.lineTo(R,M))):(r.beginPath(),r.moveTo(R,M),X&&(a.beginPath(),a.moveTo(R,M))),W=E=!1):(r.lineTo(R,j),X&&a.lineTo(R,j),r.lineTo(R,M),X&&a.lineTo(R,M),w%500==0&&(r.stroke(),r.beginPath(),r.moveTo(R,M),X&&(a.stroke(),a.beginPath(),a.moveTo(R,M)))),g={x:R,y:M},w<f.length-1&&(I!==(f[w].lineColor||k)||y!==(f[w].lineDashType||m.lineDashType))&&(r.stroke(),r.beginPath(),r.moveTo(R,M),I=f[w].lineColor||k,r.strokeStyle=I,r.setLineDash&&(f[w].lineDashType?(y=f[w].lineDashType,r.setLineDash(q(y,m.lineThickness))):(y=m.lineDashType,r.setLineDash(h)))),f[w].markerSize!==0&&(0<f[w].markerSize||0<m.markerSize)&&(j=m.getMarkerProperties(w,R,M,r),p.push(j),V=C(V),X&&p.push({x:R,y:M,ctx:a,type:j.type,size:j.size,color:V,borderColor:V,borderThickness:j.borderThickness})),(f[w].indexLabel||m.indexLabel||f[w].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:f[w],dataSeries:m,point:{x:R,y:M},direction:0>f[w].y===n.axisY.reversed?1:-1,color:k})}r.stroke(),X&&a.stroke()}}return Ut.drawMarkers(p),X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),a.beginPath()),r.restore(),r.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderSpline=function(n){function d(V){if(V=D(V,2),0<V.length){a.beginPath(),X&&l.beginPath(),a.moveTo(V[0].x,V[0].y),V[0].newStrokeStyle&&(a.strokeStyle=V[0].newStrokeStyle),V[0].newLineDashArray&&a.setLineDash(V[0].newLineDashArray),X&&l.moveTo(V[0].x,V[0].y);for(var le=0;le<V.length-3;le+=3)a.bezierCurveTo(V[le+1].x,V[le+1].y,V[le+2].x,V[le+2].y,V[le+3].x,V[le+3].y),X&&l.bezierCurveTo(V[le+1].x,V[le+1].y,V[le+2].x,V[le+2].y,V[le+3].x,V[le+3].y),(0<le&&le%3e3===0||V[le+3].newStrokeStyle||V[le+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(V[le+3].x,V[le+3].y),V[le+3].newStrokeStyle&&(a.strokeStyle=V[le+3].newStrokeStyle),V[le+3].newLineDashArray&&a.setLineDash(V[le+3].newLineDashArray),X&&(l.stroke(),l.beginPath(),l.moveTo(V[le+3].x,V[le+3].y)));a.stroke(),X&&l.stroke()}}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;a.save();var p=this.plotArea;a.beginPath(),a.rect(p.x1,p.y1,p.width,p.height),a.clip();for(var g=[],_=0;_<n.dataSeriesIndexes.length;_++){var T=n.dataSeriesIndexes[_],m=this.data[T];a.lineWidth=m.lineThickness;var f=m.dataPoints,y="solid";if(a.setLineDash){var v=q(m.nullDataLineDashType,m.lineThickness),y=m.lineDashType,h=q(y,m.lineThickness);a.setLineDash(h)}var k=m.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:T},k=C(k),l.strokeStyle=k,l.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var k=m._colorSet,I=k=m.lineColor=m.options.lineColor?m.options.lineColor:k[0];a.strokeStyle=k;var E=0,w,R,M=[];if(a.beginPath(),0<f.length){for(R=!1,E=0;E<f.length;E++)if(w=f[E].getTime?f[E].x.getTime():f[E].x,!(w<n.axisX.dataInfo.viewPortMin||w>n.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!R)))if(typeof f[E].y!="number")0<E&&!R&&(m.connectNullData?a.setLineDash&&0<M.length&&(m.options.nullDataLineDashType||!f[E-1].lineDashType)&&(M[M.length-1].newLineDashArray=v,y=m.nullDataLineDashType):(d(M),M=[])),R=!0;else{w=n.axisX.convertValueToPixel(w),R=n.axisY.convertValueToPixel(f[E].y);var W=m.dataPointIds[E];if(this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:E,x1:w,y1:R},M[M.length]={x:w,y:R},E<f.length-1&&(I!==(f[E].lineColor||k)||y!==(f[E].lineDashType||m.lineDashType))&&(I=f[E].lineColor||k,M[M.length-1].newStrokeStyle=I,a.setLineDash&&(f[E].lineDashType?(y=f[E].lineDashType,M[M.length-1].newLineDashArray=q(y,m.lineThickness)):(y=m.lineDashType,M[M.length-1].newLineDashArray=h))),f[E].markerSize!==0&&(0<f[E].markerSize||0<m.markerSize)){var j=m.getMarkerProperties(E,w,R,a);g.push(j),W=C(W),X&&g.push({x:w,y:R,ctx:l,type:j.type,size:j.size,color:W,borderColor:W,borderThickness:j.borderThickness})}(f[E].indexLabel||m.indexLabel||f[E].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:f[E],dataSeries:m,point:{x:w,y:R},direction:0>f[E].y===n.axisY.reversed?1:-1,color:k}),R=!1}}d(M)}return Ut.drawMarkers(g),X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(p.x1,p.y1,p.width,p.height),l.beginPath()),a.restore(),a.beginPath(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderColumn=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,m=0,p,g,_,T=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/n.plotType.totalDataSeries))<<0,y=n.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(n.axisX.range)),y=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(l.width*(n.axisX.logarithmic?Math.log(y)/Math.log(n.axisX.range):Math.abs(y)/Math.abs(n.axisX.range))/n.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>f&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<m&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),y<m&&(y=m),y>f&&(y=f),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),f=0;f<n.dataSeriesIndexes.length;f++){var v=n.dataSeriesIndexes[f],h=this.data[v],k=h.dataPoints;if(0<k.length){for(var I=!!(5<y&&h.bevelEnabled),m=0;m<k.length;m++)if(k[m].getTime?_=k[m].x.getTime():_=k[m].x,!(_<n.axisX.dataInfo.viewPortMin||_>n.axisX.dataInfo.viewPortMax)&&typeof k[m].y=="number"){p=n.axisX.convertValueToPixel(_),g=n.axisY.convertValueToPixel(k[m].y),p=n.axisX.reversed?p+n.plotType.totalDataSeries*y/2-(n.previousDataSeriesCount+f)*y<<0:p-n.plotType.totalDataSeries*y/2+(n.previousDataSeriesCount+f)*y<<0;var E=n.axisX.reversed?p-y<<0:p+y<<0,w;0<=k[m].y?w=T:(w=g,g=T),g>w&&(a=g,g=w,w=a),a=k[m].color?k[m].color:h._colorSet[m%h._colorSet.length],Dt(r,n.axisX.reversed?E:p,g,n.axisX.reversed?p:E,w,a,0,null,I&&(n.axisY.reversed?0>k[m].y:0<=k[m].y),(n.axisY.reversed?0<=k[m].y:0>k[m].y)&&I,!1,!1,h.fillOpacity),a=h.dataPointIds[m],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:m,x1:p,y1:g,x2:E,y2:w},a=C(a),X&&Dt(this._eventManager.ghostCtx,n.axisX.reversed?E:p,g,n.axisX.reversed?p:E,w,a,0,null,!1,!1),(k[m].indexLabel||h.indexLabel||k[m].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:k[m],dataSeries:h,point:{x:p+(E-p)/2,y:0>k[m].y===n.axisY.reversed?g:w},direction:0>k[m].y===n.axisY.reversed?1:-1,bounds:{x1:p,y1:Math.min(g,w),x2:E,y2:Math.max(g,w)},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.yScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:T<n.axisY.bounds.y1?n.axisY.bounds.y1:T>n.axisY.bounds.y2?n.axisY.bounds.y2:T}}},P.prototype.renderStackedColumn=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,p=[],g=[],_=[],T=[],v=0,m,f,y=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,k=n.axisX.dataInfo.minDiff;for(isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.9*(l.width*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))/n.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<n.dataSeriesIndexes.length;h++){var I=n.dataSeriesIndexes[h],E=this.data[I],w=E.dataPoints;if(0<w.length){var R=!!(5<k&&E.bevelEnabled);for(r.strokeStyle="#4572A7 ",v=0;v<w.length;v++)if(a=w[v].x.getTime?w[v].x.getTime():w[v].x,!(a<n.axisX.dataInfo.viewPortMin||a>n.axisX.dataInfo.viewPortMax)&&typeof w[v].y=="number"){m=n.axisX.convertValueToPixel(a),m=m-n.plotType.plotUnits.length*k/2+n.index*k<<0;var M=m+k<<0,W;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0<w[v].y)_[a]=w[v].y+(_[a]?_[a]:0),0<_[a]&&(f=n.axisY.convertValueToPixel(_[a]),W=typeof p[a]<"u"?p[a]:y,p[a]=f);else if(n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0>=w[v].y)T[a]=w[v].y+(T[a]?T[a]:0),W=n.axisY.convertValueToPixel(T[a]),f=typeof g[a]<"u"?g[a]:y,g[a]=W;else if(f=n.axisY.convertValueToPixel(w[v].y),0<=w[v].y){var j=typeof p[a]<"u"?p[a]:0;f-=j,W=y-j,p[a]=j+(W-f)}else j=g[a]?g[a]:0,W=f+j,f=y+j,g[a]=j+(W-f);a=w[v].color?w[v].color:E._colorSet[v%E._colorSet.length],Dt(r,m,n.axisY.reversed?W:f,M,n.axisY.reversed?f:W,a,0,null,R&&(n.axisY.reversed?0>w[v].y:0<=w[v].y),(n.axisY.reversed?0<=w[v].y:0>w[v].y)&&R,!1,!1,E.fillOpacity),a=E.dataPointIds[v],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:v,x1:m,y1:f,x2:M,y2:W},a=C(a),X&&Dt(this._eventManager.ghostCtx,m,f,M,W,a,0,null,!1,!1),(w[v].indexLabel||E.indexLabel||w[v].indexLabelFormatter||E.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:w[v],dataSeries:E,point:{x:m+(M-m)/2,y:0<=w[v].y?f:W},direction:0>w[v].y===n.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(f,W),x2:M,y2:Math.max(f,W)},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.yScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:y<n.axisY.bounds.y1?n.axisY.bounds.y1:y>n.axisY.bounds.y2?n.axisY.bounds.y2:y}}},P.prototype.renderStackedColumn100=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,p=[],g=[],_=[],T=[],v=0,m,f,y=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,k=n.axisX.dataInfo.minDiff;for(isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.9*(l.width*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))/n.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<n.dataSeriesIndexes.length;h++){var I=n.dataSeriesIndexes[h],E=this.data[I],w=E.dataPoints;if(0<w.length){for(var R=!!(5<k&&E.bevelEnabled),v=0;v<w.length;v++)if(a=w[v].x.getTime?w[v].x.getTime():w[v].x,!(a<n.axisX.dataInfo.viewPortMin||a>n.axisX.dataInfo.viewPortMax)&&typeof w[v].y=="number"){m=n.axisX.convertValueToPixel(a),f=n.dataPointYSums[a]!==0?100*(w[v].y/n.dataPointYSums[a]):0,m=m-n.plotType.plotUnits.length*k/2+n.index*k<<0;var M=m+k<<0,W;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0<w[v].y){if(_[a]=f+(typeof _[a]<"u"?_[a]:0),0>=_[a])continue;f=n.axisY.convertValueToPixel(_[a]),W=p[a]?p[a]:y,p[a]=f}else if(n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0>=w[v].y)T[a]=f+(typeof T[a]<"u"?T[a]:0),W=n.axisY.convertValueToPixel(T[a]),f=g[a]?g[a]:y,g[a]=W;else if(f=n.axisY.convertValueToPixel(f),0<=w[v].y){var j=typeof p[a]<"u"?p[a]:0;f-=j,W=y-j,n.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y1-f)&&(f=l.y1),p[a]=j+(W-f)}else j=typeof g[a]<"u"?g[a]:0,W=f+j,f=y+j,n.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y2-W)&&(W=l.y2),g[a]=j+(W-f);a=w[v].color?w[v].color:E._colorSet[v%E._colorSet.length],Dt(r,m,n.axisY.reversed?W:f,M,n.axisY.reversed?f:W,a,0,null,R&&(n.axisY.reversed?0>w[v].y:0<=w[v].y),(n.axisY.reversed?0<=w[v].y:0>w[v].y)&&R,!1,!1,E.fillOpacity),a=E.dataPointIds[v],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:v,x1:m,y1:f,x2:M,y2:W},a=C(a),X&&Dt(this._eventManager.ghostCtx,m,f,M,W,a,0,null,!1,!1),(w[v].indexLabel||E.indexLabel||w[v].indexLabelFormatter||E.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:w[v],dataSeries:E,point:{x:m+(M-m)/2,y:0<=w[v].y?f:W},direction:0>w[v].y===n.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(f,W),x2:M,y2:Math.max(f,W)},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.yScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:y<n.axisY.bounds.y1?n.axisY.bounds.y1:y>n.axisY.bounds.y2?n.axisY.bounds.y2:y}}},P.prototype.renderBar=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,m=0,p,g,_,T=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/n.plotType.totalDataSeries))<<0,y=n.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(n.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.9*(l.height*(n.axisX.logarithmic?Math.log(y)/Math.log(n.axisX.range):Math.abs(y)/Math.abs(n.axisX.range))/n.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>f&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<m&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),y<m&&(y=m),y>f&&(y=f),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),f=0;f<n.dataSeriesIndexes.length;f++){var v=n.dataSeriesIndexes[f],h=this.data[v],k=h.dataPoints;if(0<k.length){var I=!!(5<y&&h.bevelEnabled);for(r.strokeStyle="#4572A7 ",m=0;m<k.length;m++)if(k[m].getTime?_=k[m].x.getTime():_=k[m].x,!(_<n.axisX.dataInfo.viewPortMin||_>n.axisX.dataInfo.viewPortMax)&&typeof k[m].y=="number"){g=n.axisX.convertValueToPixel(_),p=n.axisY.convertValueToPixel(k[m].y),g=n.axisX.reversed?g+n.plotType.totalDataSeries*y/2-(n.previousDataSeriesCount+f)*y<<0:g-n.plotType.totalDataSeries*y/2+(n.previousDataSeriesCount+f)*y<<0;var E=n.axisX.reversed?g-y<<0:g+y<<0,w;0<=k[m].y?w=T:(w=p,p=T),a=k[m].color?k[m].color:h._colorSet[m%h._colorSet.length],Dt(r,n.axisY.reversed?p:w,n.axisX.reversed?E:g,n.axisY.reversed?w:p,n.axisX.reversed?g:E,a,0,null,I,!1,!1,!1,h.fillOpacity),a=h.dataPointIds[m],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:m,x1:w,y1:g,x2:p,y2:E},a=C(a),X&&Dt(this._eventManager.ghostCtx,w,n.axisX.reversed?E:g,p,n.axisX.reversed?g:E,a,0,null,!1,!1),(k[m].indexLabel||h.indexLabel||k[m].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:k[m],dataSeries:h,point:{x:0<=k[m].y?p:w,y:g+(E-g)/2},direction:0>k[m].y===n.axisY.reversed?1:-1,bounds:{x1:Math.min(w,p),y1:g,x2:Math.max(w,p),y2:E},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.xScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:T<n.axisY.bounds.x1?n.axisY.bounds.x1:T>n.axisY.bounds.x2?n.axisY.bounds.x2:T}}},P.prototype.renderStackedBar=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,p=[],g=[],_=[],T=[],v=0,m,f,y=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,k=n.axisX.dataInfo.minDiff;for(isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.9*(l.height*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))/n.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<n.dataSeriesIndexes.length;h++){var I=n.dataSeriesIndexes[h],E=this.data[I],w=E.dataPoints;if(0<w.length){var R=!!(5<k&&E.bevelEnabled);for(r.strokeStyle="#4572A7 ",v=0;v<w.length;v++)if(a=w[v].x.getTime?w[v].x.getTime():w[v].x,!(a<n.axisX.dataInfo.viewPortMin||a>n.axisX.dataInfo.viewPortMax)&&typeof w[v].y=="number"){f=n.axisX.convertValueToPixel(a),f=f-n.plotType.plotUnits.length*k/2+n.index*k<<0;var M=f+k<<0,W;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0<w[v].y)_[a]=w[v].y+(_[a]?_[a]:0),0<_[a]&&(W=p[a]?p[a]:y,p[a]=m=n.axisY.convertValueToPixel(_[a]));else if(n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0>=w[v].y)T[a]=w[v].y+(T[a]?T[a]:0),m=g[a]?g[a]:y,g[a]=W=n.axisY.convertValueToPixel(T[a]);else if(m=n.axisY.convertValueToPixel(w[v].y),0<=w[v].y){var j=p[a]?p[a]:0;W=y+j,m+=j,p[a]=j+(m-W)}else j=g[a]?g[a]:0,W=m-j,m=y-j,g[a]=j+(m-W);a=w[v].color?w[v].color:E._colorSet[v%E._colorSet.length],Dt(r,n.axisY.reversed?m:W,f,n.axisY.reversed?W:m,M,a,0,null,R,!1,!1,!1,E.fillOpacity),a=E.dataPointIds[v],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:v,x1:W,y1:f,x2:m,y2:M},a=C(a),X&&Dt(this._eventManager.ghostCtx,W,f,m,M,a,0,null,!1,!1),(w[v].indexLabel||E.indexLabel||w[v].indexLabelFormatter||E.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:w[v],dataSeries:E,point:{x:0<=w[v].y?m:W,y:f+(M-f)/2},direction:0>w[v].y===n.axisY.reversed?1:-1,bounds:{x1:Math.min(W,m),y1:f,x2:Math.max(W,m),y2:M},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.xScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:y<n.axisY.bounds.x1?n.axisY.bounds.x1:y>n.axisY.bounds.x2?n.axisY.bounds.x2:y}}},P.prototype.renderStackedBar100=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,p=[],g=[],_=[],T=[],v=0,m,f,y=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,k=n.axisX.dataInfo.minDiff;for(isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.9*(l.height*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))/n.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<n.dataSeriesIndexes.length;h++){var I=n.dataSeriesIndexes[h],E=this.data[I],w=E.dataPoints;if(0<w.length){var R=!!(5<k&&E.bevelEnabled);for(r.strokeStyle="#4572A7 ",v=0;v<w.length;v++)if(a=w[v].x.getTime?w[v].x.getTime():w[v].x,!(a<n.axisX.dataInfo.viewPortMin||a>n.axisX.dataInfo.viewPortMax)&&typeof w[v].y=="number"){f=n.axisX.convertValueToPixel(a);var M;M=n.dataPointYSums[a]!==0?100*(w[v].y/n.dataPointYSums[a]):0,f=f-n.plotType.plotUnits.length*k/2+n.index*k<<0;var W=f+k<<0;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0<w[v].y){if(_[a]=M+(_[a]?_[a]:0),0>=_[a])continue;M=p[a]?p[a]:y,p[a]=m=n.axisY.convertValueToPixel(_[a])}else if(n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length&&0>=w[v].y)T[a]=M+(T[a]?T[a]:0),m=g[a]?g[a]:y,g[a]=M=n.axisY.convertValueToPixel(T[a]);else if(m=n.axisY.convertValueToPixel(M),0<=w[v].y){var j=p[a]?p[a]:0;M=y+j,m+=j,n.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x2-m)&&(m=l.x2),p[a]=j+(m-M)}else j=g[a]?g[a]:0,M=m-j,m=y-j,n.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x1-M)&&(M=l.x1),g[a]=j+(m-M);a=w[v].color?w[v].color:E._colorSet[v%E._colorSet.length],Dt(r,n.axisY.reversed?m:M,f,n.axisY.reversed?M:m,W,a,0,null,R,!1,!1,!1,E.fillOpacity),a=E.dataPointIds[v],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:v,x1:M,y1:f,x2:m,y2:W},a=C(a),X&&Dt(this._eventManager.ghostCtx,M,f,m,W,a,0,null,!1,!1),(w[v].indexLabel||E.indexLabel||w[v].indexLabelFormatter||E.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:w[v],dataSeries:E,point:{x:0<=w[v].y?m:M,y:f+(W-f)/2},direction:0>w[v].y===n.axisY.reversed?1:-1,bounds:{x1:Math.min(M,m),y1:f,x2:Math.max(M,m),y2:W},color:a})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.xScaleAnimation,easingFunction:qe.easing.easeOutQuart,animationBase:y<n.axisY.bounds.x1?n.axisY.bounds.x1:y>n.axisY.bounds.x2?n.axisY.bounds.x2:y}}},P.prototype.renderArea=function(n){var d,r;function a(){j&&(0<h.lineThickness&&p.stroke(),n.axisY.logarithmic||0>=n.axisY.viewportMinimum&&0<=n.axisY.viewportMaximum?W=M:0>n.axisY.viewportMaximum?W=_.y1:0<n.axisY.viewportMinimum&&(W=M),p.lineTo(E,W),p.lineTo(j.x,W),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,X&&(g.lineTo(E,W),g.lineTo(j.x,W),g.closePath(),g.fill()),p.beginPath(),p.moveTo(E,w),g.beginPath(),g.moveTo(E,w),j={x:E,y:w})}var l=n.targetCanvasCtx||this.plotArea.ctx,p=X?this._preRenderCtx:l;if(!(0>=n.dataSeriesIndexes.length)){var g=this._eventManager.ghostCtx,_=n.axisY.lineCoordinates,T=[],m=this.plotArea,f;p.save(),X&&g.save(),p.beginPath(),p.rect(m.x1,m.y1,m.width,m.height),p.clip(),X&&(g.beginPath(),g.rect(m.x1,m.y1,m.width,m.height),g.clip());for(var y=0;y<n.dataSeriesIndexes.length;y++){var v=n.dataSeriesIndexes[y],h=this.data[v],k=h.dataPoints,T=h.id;this._eventManager.objectMap[T]={objectType:"dataSeries",dataSeriesIndex:v},T=C(T),g.fillStyle=T,T=[],d=!0;var I=0,E,w,R,M=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),W,j=null;if(0<k.length){var V=h._colorSet[I%h._colorSet.length],le=h.lineColor=h.options.lineColor||V,ye=le;if(p.fillStyle=V,p.strokeStyle=le,p.lineWidth=h.lineThickness,r="solid",p.setLineDash){var te=q(h.nullDataLineDashType,h.lineThickness);r=h.lineDashType;var ie=q(r,h.lineThickness);p.setLineDash(ie)}for(var G=!0;I<k.length;I++)if(R=k[I].x.getTime?k[I].x.getTime():k[I].x,!(R<n.axisX.dataInfo.viewPortMin||R>n.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!G)))if(typeof k[I].y!="number")h.connectNullData||G||d||a(),G=!0;else{E=n.axisX.convertValueToPixel(R),w=n.axisY.convertValueToPixel(k[I].y),d||G?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||r===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=E,r=w,E=f.x,w=f.y,a(),p.moveTo(f.x,f.y),E=d,w=r,j=f,r=h.nullDataLineDashType,p.setLineDash(te)),p.lineTo(E,w),X&&g.lineTo(E,w)):(p.beginPath(),p.moveTo(E,w),X&&(g.beginPath(),g.moveTo(E,w)),j={x:E,y:w}),G=d=!1):(p.lineTo(E,w),X&&g.lineTo(E,w),I%250==0&&a()),f={x:E,y:w},I<k.length-1&&(ye!==(k[I].lineColor||le)||r!==(k[I].lineDashType||h.lineDashType))&&(a(),ye=k[I].lineColor||le,p.strokeStyle=ye,p.setLineDash&&(k[I].lineDashType?(r=k[I].lineDashType,p.setLineDash(q(r,h.lineThickness))):(r=h.lineDashType,p.setLineDash(ie))));var $=h.dataPointIds[I];this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:I,x1:E,y1:w},k[I].markerSize!==0&&(0<k[I].markerSize||0<h.markerSize)&&(R=h.getMarkerProperties(I,E,w,p),T.push(R),$=C($),X&&T.push({x:E,y:w,ctx:g,type:R.type,size:R.size,color:$,borderColor:$,borderThickness:R.borderThickness})),(k[I].indexLabel||h.indexLabel||k[I].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:k[I],dataSeries:h,point:{x:E,y:w},direction:0>k[I].y===n.axisY.reversed?1:-1,color:V})}a(),Ut.drawMarkers(T)}}return X&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&p.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&p.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderSplineArea=function(n){function d(){var G=D(R,2);if(0<G.length){if(0<f.lineThickness){a.beginPath(),a.moveTo(G[0].x,G[0].y),G[0].newStrokeStyle&&(a.strokeStyle=G[0].newStrokeStyle),G[0].newLineDashArray&&a.setLineDash(G[0].newLineDashArray);for(var $=0;$<G.length-3;$+=3)a.bezierCurveTo(G[$+1].x,G[$+1].y,G[$+2].x,G[$+2].y,G[$+3].x,G[$+3].y),X&&l.bezierCurveTo(G[$+1].x,G[$+1].y,G[$+2].x,G[$+2].y,G[$+3].x,G[$+3].y),(G[$+3].newStrokeStyle||G[$+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(G[$+3].x,G[$+3].y),G[$+3].newStrokeStyle&&(a.strokeStyle=G[$+3].newStrokeStyle),G[$+3].newLineDashArray&&a.setLineDash(G[$+3].newLineDashArray));a.stroke()}for(a.beginPath(),a.moveTo(G[0].x,G[0].y),X&&(l.beginPath(),l.moveTo(G[0].x,G[0].y)),$=0;$<G.length-3;$+=3)a.bezierCurveTo(G[$+1].x,G[$+1].y,G[$+2].x,G[$+2].y,G[$+3].x,G[$+3].y),X&&l.bezierCurveTo(G[$+1].x,G[$+1].y,G[$+2].x,G[$+2].y,G[$+3].x,G[$+3].y);n.axisY.logarithmic||0>=n.axisY.viewportMinimum&&0<=n.axisY.viewportMaximum?E=I:0>n.axisY.viewportMaximum?E=p.y1:0<n.axisY.viewportMinimum&&(E=I),w={x:G[0].x,y:G[0].y},a.lineTo(G[G.length-1].x,E),a.lineTo(w.x,E),a.closePath(),a.globalAlpha=f.fillOpacity,a.fill(),a.globalAlpha=1,X&&(l.lineTo(G[G.length-1].x,E),l.lineTo(w.x,E),l.closePath(),l.fill())}}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=n.axisY.lineCoordinates,g=[],_=this.plotArea;a.save(),X&&l.save(),a.beginPath(),a.rect(_.x1,_.y1,_.width,_.height),a.clip(),X&&(l.beginPath(),l.rect(_.x1,_.y1,_.width,_.height),l.clip());for(var T=0;T<n.dataSeriesIndexes.length;T++){var m=n.dataSeriesIndexes[T],f=this.data[m],y=f.dataPoints,g=f.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:m},g=C(g),l.fillStyle=g;var g=[],v=0,h,k,I=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),E,w=null,R=[];if(0<y.length){var M=f._colorSet[v%f._colorSet.length],W=f.lineColor=f.options.lineColor||M,j=W;a.fillStyle=M,a.strokeStyle=W,a.lineWidth=f.lineThickness;var V="solid";if(a.setLineDash){var le=q(f.nullDataLineDashType,f.lineThickness),V=f.lineDashType,ye=q(V,f.lineThickness);a.setLineDash(ye)}for(k=!1;v<y.length;v++)if(h=y[v].x.getTime?y[v].x.getTime():y[v].x,!(h<n.axisX.dataInfo.viewPortMin||h>n.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!k)))if(typeof y[v].y!="number")0<v&&!k&&(f.connectNullData?a.setLineDash&&0<R.length&&(f.options.nullDataLineDashType||!y[v-1].lineDashType)&&(R[R.length-1].newLineDashArray=le,V=f.nullDataLineDashType):(d(),R=[])),k=!0;else{h=n.axisX.convertValueToPixel(h),k=n.axisY.convertValueToPixel(y[v].y);var te=f.dataPointIds[v];if(this._eventManager.objectMap[te]={id:te,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:v,x1:h,y1:k},R[R.length]={x:h,y:k},v<y.length-1&&(j!==(y[v].lineColor||W)||V!==(y[v].lineDashType||f.lineDashType))&&(j=y[v].lineColor||W,R[R.length-1].newStrokeStyle=j,a.setLineDash&&(y[v].lineDashType?(V=y[v].lineDashType,R[R.length-1].newLineDashArray=q(V,f.lineThickness)):(V=f.lineDashType,R[R.length-1].newLineDashArray=ye))),y[v].markerSize!==0&&(0<y[v].markerSize||0<f.markerSize)){var ie=f.getMarkerProperties(v,h,k,a);g.push(ie),te=C(te),X&&g.push({x:h,y:k,ctx:l,type:ie.type,size:ie.size,color:te,borderColor:te,borderThickness:ie.borderThickness})}(y[v].indexLabel||f.indexLabel||y[v].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:y[v],dataSeries:f,point:{x:h,y:k},direction:0>y[v].y===n.axisY.reversed?1:-1,color:M}),k=!1}d(),Ut.drawMarkers(g)}}return X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderStepArea=function(n){var d,r;function a(){j&&(0<h.lineThickness&&p.stroke(),n.axisY.logarithmic||0>=n.axisY.viewportMinimum&&0<=n.axisY.viewportMaximum?W=M:0>n.axisY.viewportMaximum?W=_.y1:0<n.axisY.viewportMinimum&&(W=M),p.lineTo(E,W),p.lineTo(j.x,W),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,X&&(g.lineTo(E,W),g.lineTo(j.x,W),g.closePath(),g.fill()),p.beginPath(),p.moveTo(E,w),g.beginPath(),g.moveTo(E,w),j={x:E,y:w})}var l=n.targetCanvasCtx||this.plotArea.ctx,p=X?this._preRenderCtx:l;if(!(0>=n.dataSeriesIndexes.length)){var g=this._eventManager.ghostCtx,_=n.axisY.lineCoordinates,T=[],m=this.plotArea,f;p.save(),X&&g.save(),p.beginPath(),p.rect(m.x1,m.y1,m.width,m.height),p.clip(),X&&(g.beginPath(),g.rect(m.x1,m.y1,m.width,m.height),g.clip());for(var y=0;y<n.dataSeriesIndexes.length;y++){var v=n.dataSeriesIndexes[y],h=this.data[v],k=h.dataPoints,T=h.id;this._eventManager.objectMap[T]={objectType:"dataSeries",dataSeriesIndex:v},T=C(T),g.fillStyle=T,T=[],d=!0;var I=0,E,w,R,M=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),W,j=null;if(r=!1,0<k.length){var V=h._colorSet[I%h._colorSet.length],le=h.lineColor=h.options.lineColor||V,ye=le;p.fillStyle=V,p.strokeStyle=le,p.lineWidth=h.lineThickness;var te="solid";if(p.setLineDash){var ie=q(h.nullDataLineDashType,h.lineThickness),te=h.lineDashType,G=q(te,h.lineThickness);p.setLineDash(G)}for(;I<k.length;I++)if(R=k[I].x.getTime?k[I].x.getTime():k[I].x,!(R<n.axisX.dataInfo.viewPortMin||R>n.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!r))){var $=w;typeof k[I].y!="number"?(h.connectNullData||r||d||a(),r=!0):(E=n.axisX.convertValueToPixel(R),w=n.axisY.convertValueToPixel(k[I].y),d||r?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||te===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=E,r=w,E=f.x,w=f.y,a(),p.moveTo(f.x,f.y),E=d,w=r,j=f,te=h.nullDataLineDashType,p.setLineDash(ie)),p.lineTo(E,$),p.lineTo(E,w),X&&(g.lineTo(E,$),g.lineTo(E,w))):(p.beginPath(),p.moveTo(E,w),X&&(g.beginPath(),g.moveTo(E,w)),j={x:E,y:w}),r=d=!1):(p.lineTo(E,$),X&&g.lineTo(E,$),p.lineTo(E,w),X&&g.lineTo(E,w),I%250==0&&a()),f={x:E,y:w},I<k.length-1&&(ye!==(k[I].lineColor||le)||te!==(k[I].lineDashType||h.lineDashType))&&(a(),ye=k[I].lineColor||le,p.strokeStyle=ye,p.setLineDash&&(k[I].lineDashType?(te=k[I].lineDashType,p.setLineDash(q(te,h.lineThickness))):(te=h.lineDashType,p.setLineDash(G)))),R=h.dataPointIds[I],this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:I,x1:E,y1:w},k[I].markerSize!==0&&(0<k[I].markerSize||0<h.markerSize)&&($=h.getMarkerProperties(I,E,w,p),T.push($),R=C(R),X&&T.push({x:E,y:w,ctx:g,type:$.type,size:$.size,color:R,borderColor:R,borderThickness:$.borderThickness})),(k[I].indexLabel||h.indexLabel||k[I].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:k[I],dataSeries:h,point:{x:E,y:w},direction:0>k[I].y===n.axisY.reversed?1:-1,color:V}))}a(),Ut.drawMarkers(T)}}return X&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&p.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&p.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderStackedArea=function(n){function d(){if(!(1>m.length)){for(0<V.lineThickness&&a.stroke();0<m.length;){var Y=m.pop();a.lineTo(Y.x,Y.y),X&&E.lineTo(Y.x,Y.y)}a.closePath(),a.globalAlpha=V.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),X&&(E.closePath(),E.fill(),E.beginPath()),m=[]}}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=null,p=null,g=[],_=this.plotArea,T=[],m=[],f=[],y=[],v=0,h,k,I=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),E=this._eventManager.ghostCtx,w,R,M;X&&E.beginPath(),a.save(),X&&E.save(),a.beginPath(),a.rect(_.x1,_.y1,_.width,_.height),a.clip(),X&&(E.beginPath(),E.rect(_.x1,_.y1,_.width,_.height),E.clip());for(var l=[],W=0;W<n.dataSeriesIndexes.length;W++){var j=n.dataSeriesIndexes[W],V=this.data[j],le=V.dataPoints;for(V.dataPointIndexes=[],v=0;v<le.length;v++)j=le[v].x.getTime?le[v].x.getTime():le[v].x,V.dataPointIndexes[j]=v,l[j]||(f.push(j),l[j]=!0);f.sort(x)}for(W=0;W<n.dataSeriesIndexes.length;W++){if(j=n.dataSeriesIndexes[W],V=this.data[j],le=V.dataPoints,R=!0,m=[],v=V.id,this._eventManager.objectMap[v]={objectType:"dataSeries",dataSeriesIndex:j},v=C(v),E.fillStyle=v,0<f.length){var l=V._colorSet[0],ye=V.lineColor=V.options.lineColor||l,te=ye;if(a.fillStyle=l,a.strokeStyle=ye,a.lineWidth=V.lineThickness,M="solid",a.setLineDash){var ie=q(V.nullDataLineDashType,V.lineThickness);M=V.lineDashType;var G=q(M,V.lineThickness);a.setLineDash(G)}for(var $=!0,v=0;v<f.length;v++){var p=f[v],N=null,N=0<=V.dataPointIndexes[p]?le[V.dataPointIndexes[p]]:{x:p,y:null};if(!(p<n.axisX.dataInfo.viewPortMin||p>n.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!$)))if(typeof N.y!="number")V.connectNullData||$||R||d(),$=!0;else{h=n.axisX.convertValueToPixel(p);var ae=T[p]?T[p]:0;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=N.y+(y[p]?y[p]:0),0>=y[p]&&n.axisY.logarithmic)continue;k=n.axisY.convertValueToPixel(y[p])}else k=n.axisY.convertValueToPixel(N.y),k-=ae;if(m.push({x:h,y:I-ae}),T[p]=I-k,R||$?(!R&&V.connectNullData?(a.setLineDash&&(V.options.nullDataLineDashType||M===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(R=m.pop(),M=m[m.length-1],d(),a.moveTo(w.x,w.y),m.push(M),m.push(R),M=V.nullDataLineDashType,a.setLineDash(ie)),a.lineTo(h,k),X&&E.lineTo(h,k)):(a.beginPath(),a.moveTo(h,k),X&&(E.beginPath(),E.moveTo(h,k))),$=R=!1):(a.lineTo(h,k),X&&E.lineTo(h,k),v%250==0&&(d(),a.moveTo(h,k),X&&E.moveTo(h,k),m.push({x:h,y:I-ae}))),w={x:h,y:k},v<le.length-1&&(te!==(le[v].lineColor||ye)||M!==(le[v].lineDashType||V.lineDashType))&&(d(),a.beginPath(),a.moveTo(h,k),m.push({x:h,y:I-ae}),te=le[v].lineColor||ye,a.strokeStyle=te,a.setLineDash&&(le[v].lineDashType?(M=le[v].lineDashType,a.setLineDash(q(M,V.lineThickness))):(M=V.lineDashType,a.setLineDash(G)))),0<=V.dataPointIndexes[p]){var xe=V.dataPointIds[V.dataPointIndexes[p]];this._eventManager.objectMap[xe]={id:xe,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:V.dataPointIndexes[p],x1:h,y1:k}}0<=V.dataPointIndexes[p]&&N.markerSize!==0&&(0<N.markerSize||0<V.markerSize)&&(ae=V.getMarkerProperties(V.dataPointIndexes[p],h,k,a),g.push(ae),p=C(xe),X&&g.push({x:h,y:k,ctx:E,type:ae.type,size:ae.size,color:p,borderColor:p,borderThickness:ae.borderThickness})),(N.indexLabel||V.indexLabel||N.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:N,dataSeries:V,point:{x:h,y:k},direction:0>N.y===n.axisY.reversed?1:-1,color:l})}}d(),a.moveTo(h,k),X&&E.moveTo(h,k)}delete V.dataPointIndexes}return Ut.drawMarkers(g),X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(_.x1,_.y1,_.width,_.height),E.restore()),a.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderStackedArea100=function(n){function d(){for(0<V.lineThickness&&a.stroke();0<m.length;){var ut=m.pop();a.lineTo(ut.x,ut.y),X&&M.lineTo(ut.x,ut.y)}a.closePath(),a.globalAlpha=V.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),X&&(M.closePath(),M.fill(),M.beginPath()),m=[]}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=null,p=null,g=this.plotArea,_=[],T=[],m=[],f=[],y=[],v=0,h,k,I,E,w,R=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),M=this._eventManager.ghostCtx;a.save(),X&&M.save(),a.beginPath(),a.rect(g.x1,g.y1,g.width,g.height),a.clip(),X&&(M.beginPath(),M.rect(g.x1,g.y1,g.width,g.height),M.clip());for(var l=[],W=0;W<n.dataSeriesIndexes.length;W++){var j=n.dataSeriesIndexes[W],V=this.data[j],le=V.dataPoints;for(V.dataPointIndexes=[],v=0;v<le.length;v++)j=le[v].x.getTime?le[v].x.getTime():le[v].x,V.dataPointIndexes[j]=v,l[j]||(f.push(j),l[j]=!0);f.sort(x)}for(W=0;W<n.dataSeriesIndexes.length;W++){if(j=n.dataSeriesIndexes[W],V=this.data[j],le=V.dataPoints,E=!0,l=V.id,this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:j},l=C(l),M.fillStyle=l,m=[],0<f.length){var l=V._colorSet[v%V._colorSet.length],ye=V.lineColor=V.options.lineColor||l,te=ye;if(a.fillStyle=l,a.strokeStyle=ye,a.lineWidth=V.lineThickness,w="solid",a.setLineDash){var ie=q(V.nullDataLineDashType,V.lineThickness);w=V.lineDashType;var G=q(w,V.lineThickness);a.setLineDash(G)}for(var $=!0,v=0;v<f.length;v++){var p=f[v],N=null,N=0<=V.dataPointIndexes[p]?le[V.dataPointIndexes[p]]:{x:p,y:null};if(!(p<n.axisX.dataInfo.viewPortMin||p>n.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!$)))if(typeof N.y!="number")V.connectNullData||$||E||d(),$=!0;else{var ae;ae=n.dataPointYSums[p]!==0?100*(N.y/n.dataPointYSums[p]):0,h=n.axisX.convertValueToPixel(p);var xe=T[p]?T[p]:0;if(n.axisY.logarithmic||n.axisY.scaleBreaks&&0<n.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=ae+(y[p]?y[p]:0),0>=y[p]&&n.axisY.logarithmic)continue;k=n.axisY.convertValueToPixel(y[p])}else k=n.axisY.convertValueToPixel(ae),k-=xe;if(m.push({x:h,y:R-xe}),T[p]=R-k,E||$?(!E&&V.connectNullData?(a.setLineDash&&(V.options.nullDataLineDashType||w===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(E=m.pop(),w=m[m.length-1],d(),a.moveTo(I.x,I.y),m.push(w),m.push(E),w=V.nullDataLineDashType,a.setLineDash(ie)),a.lineTo(h,k),X&&M.lineTo(h,k)):(a.beginPath(),a.moveTo(h,k),X&&(M.beginPath(),M.moveTo(h,k))),$=E=!1):(a.lineTo(h,k),X&&M.lineTo(h,k),v%250==0&&(d(),a.moveTo(h,k),X&&M.moveTo(h,k),m.push({x:h,y:R-xe}))),I={x:h,y:k},v<le.length-1&&(te!==(le[v].lineColor||ye)||w!==(le[v].lineDashType||V.lineDashType))&&(d(),a.beginPath(),a.moveTo(h,k),m.push({x:h,y:R-xe}),te=le[v].lineColor||ye,a.strokeStyle=te,a.setLineDash&&(le[v].lineDashType?(w=le[v].lineDashType,a.setLineDash(q(w,V.lineThickness))):(w=V.lineDashType,a.setLineDash(G)))),0<=V.dataPointIndexes[p]){var Y=V.dataPointIds[V.dataPointIndexes[p]];this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:V.dataPointIndexes[p],x1:h,y1:k}}0<=V.dataPointIndexes[p]&&N.markerSize!==0&&(0<N.markerSize||0<V.markerSize)&&(xe=V.getMarkerProperties(V.dataPointIndexes[p],h,k,a),_.push(xe),p=C(Y),X&&_.push({x:h,y:k,ctx:M,type:xe.type,size:xe.size,color:p,borderColor:p,borderThickness:xe.borderThickness})),(N.indexLabel||V.indexLabel||N.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:N,dataSeries:V,point:{x:h,y:k},direction:0>N.y===n.axisY.reversed?1:-1,color:l})}}d(),a.moveTo(h,k),X&&M.moveTo(h,k)}delete V.dataPointIndexes}return Ut.drawMarkers(_),X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(g.x1,g.y1,g.width,g.height),M.restore()),a.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderBubble=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=this.plotArea,l=0,p,g;r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var _=-1/0,T=1/0,m=0;m<n.dataSeriesIndexes.length;m++)for(var f=n.dataSeriesIndexes[m],y=this.data[f],v=y.dataPoints,h=0,l=0;l<v.length;l++)p=v[l].getTime?p=v[l].x.getTime():p=v[l].x,p<n.axisX.dataInfo.viewPortMin||p>n.axisX.dataInfo.viewPortMax||typeof v[l].z>"u"||(h=v[l].z,h>_&&(_=h),h<T&&(T=h));for(var k=25*Math.PI,I=Math.max(Math.pow(.25*Math.min(a.height,a.width)/2,2)*Math.PI,k),m=0;m<n.dataSeriesIndexes.length;m++)if(f=n.dataSeriesIndexes[m],y=this.data[f],v=y.dataPoints,0<v.length){for(r.strokeStyle="#4572A7 ",l=0;l<v.length;l++)if(p=v[l].getTime?p=v[l].x.getTime():p=v[l].x,!(p<n.axisX.dataInfo.viewPortMin||p>n.axisX.dataInfo.viewPortMax)&&typeof v[l].y=="number"){p=n.axisX.convertValueToPixel(p),g=n.axisY.convertValueToPixel(v[l].y);var h=v[l].z,E=2*Math.max(Math.sqrt((_===T?I/2:k+(I-k)/(_-T)*(h-T))/Math.PI)<<0,1),h=y.getMarkerProperties(l,r);h.size=E,r.globalAlpha=y.fillOpacity,Ut.drawMarker(p,g,r,h.type,h.size,h.color,h.borderColor,h.borderThickness),r.globalAlpha=1;var w=y.dataPointIds[l];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:l,x1:p,y1:g,size:E},E=C(w),X&&Ut.drawMarker(p,g,this._eventManager.ghostCtx,h.type,h.size,E,E,h.borderThickness),(v[l].indexLabel||y.indexLabel||v[l].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:v[l],dataSeries:y,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null})}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderScatter=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=this.plotArea,l=0,p,g;r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var _=0;_<n.dataSeriesIndexes.length;_++){var T=n.dataSeriesIndexes[_],m=this.data[T],f=m.dataPoints;if(0<f.length){r.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(a.height,a.width)/2,2);for(var y=0,v=0,l=0;l<f.length;l++)if(p=f[l].getTime?p=f[l].x.getTime():p=f[l].x,!(p<n.axisX.dataInfo.viewPortMin||p>n.axisX.dataInfo.viewPortMax)&&typeof f[l].y=="number"){p=n.axisX.convertValueToPixel(p),g=n.axisY.convertValueToPixel(f[l].y);var h=m.getMarkerProperties(l,p,g,r);r.globalAlpha=m.fillOpacity,Ut.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness),r.globalAlpha=1,Math.sqrt((y-p)*(y-p)+(v-g)*(v-g))<Math.min(h.size,5)&&f.length>Math.min(this.plotArea.width,this.plotArea.height)||(y=m.dataPointIds[l],this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:l,x1:p,y1:g},y=C(y),X&&Ut.drawMarker(h.x,h.y,this._eventManager.ghostCtx,h.type,h.size,y,y,h.borderThickness),(f[l].indexLabel||m.indexLabel||f[l].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:f[l],dataSeries:m,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null}),y=p,v=g)}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderCandlestick=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d,a=this._eventManager.ghostCtx;if(!(0>=n.dataSeriesIndexes.length)){var v=null,h=null,l=this.plotArea,p=0,g,_,T,m,f,y,v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,k=n.axisX.dataInfo.minDiff;isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&a.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var I=0;I<n.dataSeriesIndexes.length;I++){var E=n.dataSeriesIndexes[I],w=this.data[E],R=w.dataPoints;if(0<R.length){for(var M=!!(5<k&&w.bevelEnabled),p=0;p<R.length;p++)if(R[p].getTime?y=R[p].x.getTime():y=R[p].x,!(y<n.axisX.dataInfo.viewPortMin||y>n.axisX.dataInfo.viewPortMax)&&!b(R[p].y)&&R[p].y.length&&typeof R[p].y[0]=="number"&&typeof R[p].y[1]=="number"&&typeof R[p].y[2]=="number"&&typeof R[p].y[3]=="number"){g=n.axisX.convertValueToPixel(y),_=n.axisY.convertValueToPixel(R[p].y[0]),T=n.axisY.convertValueToPixel(R[p].y[1]),m=n.axisY.convertValueToPixel(R[p].y[2]),f=n.axisY.convertValueToPixel(R[p].y[3]);var W=g-k/2<<0,j=W+k<<0,h=w.options.fallingColor?w.fallingColor:w._colorSet[0],v=R[p].color?R[p].color:w._colorSet[0],V=Math.round(Math.max(1,.15*k)),le=V%2===0?0:.5,ye=w.dataPointIds[p];this._eventManager.objectMap[ye]={id:ye,objectType:"dataPoint",dataSeriesIndex:E,dataPointIndex:p,x1:W,y1:_,x2:j,y2:T,x3:g,y3:m,x4:g,y4:f,borderThickness:V,color:v},r.strokeStyle=v,r.beginPath(),r.lineWidth=V,a.lineWidth=Math.max(V,4),w.type==="candlestick"?(r.moveTo(g-le,T),r.lineTo(g-le,Math.min(_,f)),r.stroke(),r.moveTo(g-le,Math.max(_,f)),r.lineTo(g-le,m),r.stroke(),Dt(r,W,Math.min(_,f),j,Math.max(_,f),R[p].y[0]<=R[p].y[3]?w.risingColor:h,V,v,M,M,!1,!1,w.fillOpacity),X&&(v=C(ye),a.strokeStyle=v,a.moveTo(g-le,T),a.lineTo(g-le,Math.min(_,f)),a.stroke(),a.moveTo(g-le,Math.max(_,f)),a.lineTo(g-le,m),a.stroke(),Dt(a,W,Math.min(_,f),j,Math.max(_,f),v,0,null,!1,!1))):w.type==="ohlc"&&(r.moveTo(g-le,T),r.lineTo(g-le,m),r.stroke(),r.beginPath(),r.moveTo(g,_),r.lineTo(W,_),r.stroke(),r.beginPath(),r.moveTo(g,f),r.lineTo(j,f),r.stroke(),X&&(v=C(ye),a.strokeStyle=v,a.moveTo(g-le,T),a.lineTo(g-le,m),a.stroke(),a.beginPath(),a.moveTo(g,_),a.lineTo(W,_),a.stroke(),a.beginPath(),a.moveTo(g,f),a.lineTo(j,f),a.stroke())),(R[p].indexLabel||w.indexLabel||R[p].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:w.type,dataPoint:R[p],dataSeries:w,point:{x:W+(j-W)/2,y:n.axisY.reversed?m:T},direction:1,bounds:{x1:W,y1:Math.min(T,m),x2:j,y2:Math.max(T,m)},color:v})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),a.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderBoxAndWhisker=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d,a=this._eventManager.ghostCtx;if(!(0>=n.dataSeriesIndexes.length)){var v=null,l=this.plotArea,h=0,p,g,_,T,m,f,y,v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,k=n.axisX.dataInfo.minDiff;isFinite(k)||(k=.3*Math.abs(n.axisX.range)),k=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(n.axisX.logarithmic?Math.log(k)/Math.log(n.axisX.range):Math.abs(k)/Math.abs(n.axisX.range))<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),k<v&&(k=v),k>h&&(k=h),r.save(),X&&a.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var I=!1,I=!!n.axisY.reversed,E=0;E<n.dataSeriesIndexes.length;E++){var w=n.dataSeriesIndexes[E],R=this.data[w],M=R.dataPoints;if(0<M.length){for(var W=!!(5<k&&R.bevelEnabled),h=0;h<M.length;h++)if(M[h].getTime?y=M[h].x.getTime():y=M[h].x,!(y<n.axisX.dataInfo.viewPortMin||y>n.axisX.dataInfo.viewPortMax)&&!b(M[h].y)&&M[h].y.length&&typeof M[h].y[0]=="number"&&typeof M[h].y[1]=="number"&&typeof M[h].y[2]=="number"&&typeof M[h].y[3]=="number"&&typeof M[h].y[4]=="number"&&M[h].y.length===5){p=n.axisX.convertValueToPixel(y),g=n.axisY.convertValueToPixel(M[h].y[0]),_=n.axisY.convertValueToPixel(M[h].y[1]),T=n.axisY.convertValueToPixel(M[h].y[2]),m=n.axisY.convertValueToPixel(M[h].y[3]),f=n.axisY.convertValueToPixel(M[h].y[4]);var j=p-k/2<<0,V=p+k/2<<0,v=M[h].color?M[h].color:R._colorSet[0],le=Math.round(Math.max(1,.15*k)),ye=le%2===0?0:.5,te=M[h].whiskerColor?M[h].whiskerColor:M[h].color?R.whiskerColor?R.whiskerColor:M[h].color:R.whiskerColor?R.whiskerColor:v,ie=typeof M[h].whiskerThickness=="number"?M[h].whiskerThickness:typeof R.options.whiskerThickness=="number"?R.whiskerThickness:le,G=M[h].whiskerDashType?M[h].whiskerDashType:R.whiskerDashType,$=b(M[h].whiskerLength)?b(R.options.whiskerLength)?k:R.whiskerLength:M[h].whiskerLength,$=typeof $=="number"?0>=$?0:$>=k?k:$:typeof $=="string"?parseInt($)*k/100>k?k:parseInt($)*k/100:k,N=Math.round(ie)%2===1?.5:0,ae=M[h].stemColor?M[h].stemColor:M[h].color?R.stemColor?R.stemColor:M[h].color:R.stemColor?R.stemColor:v,xe=typeof M[h].stemThickness=="number"?M[h].stemThickness:typeof R.options.stemThickness=="number"?R.stemThickness:le,Y=Math.round(xe)%2===1?.5:0,ut=M[h].stemDashType?M[h].stemDashType:R.stemDashType,yt=M[h].lineColor?M[h].lineColor:M[h].color?R.lineColor?R.lineColor:M[h].color:R.lineColor?R.lineColor:v,St=typeof M[h].lineThickness=="number"?M[h].lineThickness:typeof R.options.lineThickness=="number"?R.lineThickness:le,At=M[h].lineDashType?M[h].lineDashType:R.lineDashType,Ye=Math.round(St)%2===1?.5:0,ei=R.upperBoxColor,Tt=R.lowerBoxColor,vt=b(R.options.fillOpacity)?1:R.fillOpacity,Xe=R.dataPointIds[h];this._eventManager.objectMap[Xe]={id:Xe,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:h,x1:j,y1:g,x2:V,y2:_,x3:p,y3:T,x4:p,y4:m,y5:f,borderThickness:le,color:v,stemThickness:xe,stemColor:ae,whiskerThickness:ie,whiskerLength:$,whiskerColor:te,lineThickness:St,lineColor:yt},r.save(),0<xe&&(r.beginPath(),r.strokeStyle=ae,r.lineWidth=xe,r.setLineDash&&r.setLineDash(q(ut,xe)),r.moveTo(p-Y,_),r.lineTo(p-Y,g),r.stroke(),r.moveTo(p-Y,m),r.lineTo(p-Y,T),r.stroke()),r.restore(),a.lineWidth=Math.max(le,4),r.beginPath(),Dt(r,j,Math.min(f,_),V,Math.max(_,f),Tt,0,v,I?W:!1,I?!1:W,!1,!1,vt),r.beginPath(),Dt(r,j,Math.min(T,f),V,Math.max(f,T),ei,0,v,I?!1:W,I?W:!1,!1,!1,vt),r.beginPath(),r.lineWidth=le,r.strokeStyle=v,r.rect(j-ye,Math.min(_,T)-ye,V-j+2*ye,Math.max(_,T)-Math.min(_,T)+2*ye),r.stroke(),r.save(),0<St&&(r.beginPath(),r.globalAlpha=1,r.setLineDash&&r.setLineDash(q(At,St)),r.strokeStyle=yt,r.lineWidth=St,r.moveTo(j,f-Ye),r.lineTo(V,f-Ye),r.stroke()),r.restore(),r.save(),0<ie&&(r.beginPath(),r.setLineDash&&r.setLineDash(q(G,ie)),r.strokeStyle=te,r.lineWidth=ie,r.moveTo(p-$/2<<0,m-N),r.lineTo(p+$/2<<0,m-N),r.stroke(),r.moveTo(p-$/2<<0,g+N),r.lineTo(p+$/2<<0,g+N),r.stroke()),r.restore(),X&&(v=C(Xe),a.strokeStyle=v,a.lineWidth=xe,0<xe&&(a.moveTo(p-ye-Y,_),a.lineTo(p-ye-Y,Math.max(g,m)),a.stroke(),a.moveTo(p-ye-Y,Math.min(g,m)),a.lineTo(p-ye-Y,T),a.stroke()),Dt(a,j,Math.max(_,T),V,Math.min(_,T),v,0,null,!1,!1),0<ie&&(a.beginPath(),a.lineWidth=ie,a.moveTo(p+$/2,m-N),a.lineTo(p-$/2,m-N),a.stroke(),a.moveTo(p+$/2,g+N),a.lineTo(p-$/2,g+N),a.stroke())),(M[h].indexLabel||R.indexLabel||M[h].indexLabelFormatter||R.indexLabelFormatter)&&this._indexLabels.push({chartType:R.type,dataPoint:M[h],dataSeries:R,point:{x:j+(V-j)/2,y:n.axisY.reversed?g:m},direction:1,bounds:{x1:j,y1:Math.min(g,m),x2:V,y2:Math.max(g,m)},color:v})}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),a.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeColumn=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,T=0,p,g,_,T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var m=n.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(n.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.9*(l.width*(n.axisX.logarithmic?Math.log(m)/Math.log(n.axisX.range):Math.abs(m)/Math.abs(n.axisX.range))/n.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&T>p&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<T&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T)),m<T&&(m=T),m>p&&(m=p),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var f=0;f<n.dataSeriesIndexes.length;f++){var y=n.dataSeriesIndexes[f],v=this.data[y],h=v.dataPoints;if(0<h.length){for(var k=!!(5<m&&v.bevelEnabled),T=0;T<h.length;T++)if(h[T].getTime?_=h[T].x.getTime():_=h[T].x,!(_<n.axisX.dataInfo.viewPortMin||_>n.axisX.dataInfo.viewPortMax)&&!b(h[T].y)&&h[T].y.length&&typeof h[T].y[0]=="number"&&typeof h[T].y[1]=="number"){a=n.axisX.convertValueToPixel(_),p=n.axisY.convertValueToPixel(h[T].y[0]),g=n.axisY.convertValueToPixel(h[T].y[1]);var I=n.axisX.reversed?a+n.plotType.totalDataSeries*m/2-(n.previousDataSeriesCount+f)*m<<0:a-n.plotType.totalDataSeries*m/2+(n.previousDataSeriesCount+f)*m<<0,E=n.axisX.reversed?I-m<<0:I+m<<0,a=h[T].color?h[T].color:v._colorSet[T%v._colorSet.length];if(p>g){var w=p;p=g,g=w}w=v.dataPointIds[T],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:T,x1:I,y1:p,x2:E,y2:g},Dt(r,n.axisX.reversed?E:I,p,n.axisX.reversed?I:E,g,a,0,a,k,k,!1,!1,v.fillOpacity),a=C(w),X&&Dt(this._eventManager.ghostCtx,n.axisX.reversed?E:I,p,n.axisX.reversed?I:E,g,a,0,null,!1,!1),(h[T].indexLabel||v.indexLabel||h[T].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[T],dataSeries:v,indexKeyword:0,point:{x:I+(E-I)/2,y:h[T].y[1]>=h[T].y[0]?g:p},direction:h[T].y[1]>=h[T].y[0]?-1:1,bounds:{x1:I,y1:Math.min(p,g),x2:E,y2:Math.max(p,g)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[T],dataSeries:v,indexKeyword:1,point:{x:I+(E-I)/2,y:h[T].y[1]>=h[T].y[0]?p:g},direction:h[T].y[1]>=h[T].y[0]?1:-1,bounds:{x1:I,y1:Math.min(p,g),x2:E,y2:Math.max(p,g)},color:a}))}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderError=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d,a=n.axisY._position?!(n.axisY._position==="left"||n.axisY._position==="right"):!1;if(!(0>=n.dataSeriesIndexes.length)){var l=null,p=!1,g=this.plotArea,_=0,T,m,f,y,v,h,k,I=n.axisX.dataInfo.minDiff;isFinite(I)||(I=.3*Math.abs(n.axisX.range)),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(g.x1,g.y1,g.width,g.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var E=0,w=0;w<this.data.length;w++)!this.data[w].type.match(/(bar|column)/ig)||!this.data[w].visible||this.data[w].type.match(/(stacked)/ig)&&E||E++;for(var R=0;R<n.dataSeriesIndexes.length;R++){var M=n.dataSeriesIndexes[R],W=this.data[M],j=W.dataPoints,V=b(W._linkedSeries)?!1:!!(W._linkedSeries.type.match(/(bar|column)/ig)&&W._linkedSeries.visible),le=0;if(V)for(l=W._linkedSeries.id,w=0;w<l;w++)!this.data[w].type.match(/(bar|column)/ig)||!this.data[w].visible||this.data[w].type.match(/(stacked)/ig)&&le||(this.data[w].type.match(/(range)/ig)&&(p=!0),le++);if(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,.9*(this.plotArea.height/(V?E:1)))<<0:.3*this.width,p&&(_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,.9*(this.plotArea.height/(V?E:1)))<<0:.03*this.width),w=this.options.dataPointWidth?this.dataPointWidth:.9*((a?g.height:g.width)*(n.axisX.logarithmic?Math.log(I)/Math.log(n.axisX.range):Math.abs(I)/Math.abs(n.axisX.range))/(V?E:1))<<0,this.dataPointMaxWidth&&l>_&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<l&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),w<l&&(w=l),w>_&&(w=_),0<j.length)for(var ye=W._colorSet,_=0;_<j.length;_++){var l=W.lineColor=W.options.color?W.options.color:ye[0],te={color:j[_].whiskerColor?j[_].whiskerColor:j[_].color?W.whiskerColor?W.whiskerColor:j[_].color:W.whiskerColor?W.whiskerColor:l,thickness:b(j[_].whiskerThickness)?W.whiskerThickness:j[_].whiskerThickness,dashType:j[_].whiskerDashType?j[_].whiskerDashType:W.whiskerDashType,length:b(j[_].whiskerLength)?b(W.options.whiskerLength)?w:W.options.whiskerLength:j[_].whiskerLength,trimLength:b(j[_].whiskerLength)&&b(W.options.whiskerLength)?50:0};te.length=typeof te.length=="number"?0>=te.length?0:te.length>=w?w:te.length:typeof te.length=="string"?parseInt(te.length)*w/100>w?w:parseInt(te.length)*w/100>w:w,te.thickness=typeof te.thickness=="number"?0>te.thickness?0:Math.round(te.thickness):2;var ie={color:j[_].stemColor?j[_].stemColor:j[_].color?W.stemColor?W.stemColor:j[_].color:W.stemColor?W.stemColor:l,thickness:j[_].stemThickness?j[_].stemThickness:W.stemThickness,dashType:j[_].stemDashType?j[_].stemDashType:W.stemDashType};if(ie.thickness=typeof ie.thickness=="number"?0>ie.thickness?0:Math.round(ie.thickness):2,j[_].getTime?k=j[_].x.getTime():k=j[_].x,!(k<n.axisX.dataInfo.viewPortMin||k>n.axisX.dataInfo.viewPortMax)&&!b(j[_].y)&&j[_].y.length&&typeof j[_].y[0]=="number"&&typeof j[_].y[1]=="number"){var G=n.axisX.convertValueToPixel(k);a?m=G:T=G,G=n.axisY.convertValueToPixel(j[_].y[0]),a?f=G:v=G,G=n.axisY.convertValueToPixel(j[_].y[1]),a?y=G:h=G,a?(v=n.axisX.reversed?m+(V?E:1)*w/2-(V?le-1:0)*w<<0:m-(V?E:1)*w/2+(V?le-1:0)*w<<0,h=n.axisX.reversed?v-w<<0:v+w<<0):(f=n.axisX.reversed?T+(V?E:1)*w/2-(V?le-1:0)*w<<0:T-(V?E:1)*w/2+(V?le-1:0)*w<<0,y=n.axisX.reversed?f-w<<0:f+w<<0),!a&&v>h&&(G=v,v=h,h=G),a&&f>y&&(G=f,f=y,y=G),G=W.dataPointIds[_],this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:_,x1:Math.min(f,y),y1:Math.min(v,h),x2:Math.max(y,f),y2:Math.max(h,v),isXYSwapped:a,stemProperties:ie,whiskerProperties:te},re(r,Math.min(f,y),Math.min(v,h),Math.max(y,f),Math.max(h,v),l,te,ie,a),X&&re(this._eventManager.ghostCtx,f,v,y,h,l,te,ie,a),(j[_].indexLabel||W.indexLabel||j[_].indexLabelFormatter||W.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:j[_],dataSeries:W,indexKeyword:0,point:{x:a?j[_].y[1]>=j[_].y[0]?f:y:f+(y-f)/2,y:a?v+(h-v)/2:j[_].y[1]>=j[_].y[0]?h:v},direction:j[_].y[1]>=j[_].y[0]?-1:1,bounds:{x1:a?Math.min(f,y):f,y1:a?v:Math.min(v,h),x2:a?Math.max(f,y):y,y2:a?h:Math.max(v,h)},color:l,axisSwapped:a}),this._indexLabels.push({chartType:"error",dataPoint:j[_],dataSeries:W,indexKeyword:1,point:{x:a?j[_].y[1]>=j[_].y[0]?y:f:f+(y-f)/2,y:a?v+(h-v)/2:j[_].y[1]>=j[_].y[0]?v:h},direction:j[_].y[1]>=j[_].y[0]?1:-1,bounds:{x1:a?Math.min(f,y):f,y1:a?v:Math.min(v,h),x2:a?Math.max(f,y):y,y2:a?h:Math.max(v,h)},color:l,axisSwapped:a}))}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeBar=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=null,l=this.plotArea,m=0,p,g,_,T,m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/n.plotType.totalDataSeries))<<0;var f=n.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(n.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:.9*(l.height*(n.axisX.logarithmic?Math.log(f)/Math.log(n.axisX.range):Math.abs(f)/Math.abs(n.axisX.range))/n.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>p&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<m&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),f<m&&(f=m),f>p&&(f=p),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(l.x1,l.y1,l.width,l.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var y=0;y<n.dataSeriesIndexes.length;y++){var v=n.dataSeriesIndexes[y],h=this.data[v],k=h.dataPoints;if(0<k.length){var I=!!(5<f&&h.bevelEnabled);for(r.strokeStyle="#4572A7 ",m=0;m<k.length;m++)if(k[m].getTime?T=k[m].x.getTime():T=k[m].x,!(T<n.axisX.dataInfo.viewPortMin||T>n.axisX.dataInfo.viewPortMax)&&!b(k[m].y)&&k[m].y.length&&typeof k[m].y[0]=="number"&&typeof k[m].y[1]=="number"){p=n.axisY.convertValueToPixel(k[m].y[0]),g=n.axisY.convertValueToPixel(k[m].y[1]),_=n.axisX.convertValueToPixel(T),_=n.axisX.reversed?_+n.plotType.totalDataSeries*f/2-(n.previousDataSeriesCount+y)*f<<0:_-n.plotType.totalDataSeries*f/2+(n.previousDataSeriesCount+y)*f<<0;var E=n.axisX.reversed?_-f<<0:_+f<<0;p>g&&(a=p,p=g,g=a),a=k[m].color?k[m].color:h._colorSet[m%h._colorSet.length],Dt(r,p,n.axisX.reversed?E:_,g,n.axisX.reversed?_:E,a,0,null,I,!1,!1,!1,h.fillOpacity),a=h.dataPointIds[m],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:m,x1:p,y1:_,x2:g,y2:E},a=C(a),X&&Dt(this._eventManager.ghostCtx,p,n.axisX.reversed?E:_,g,n.axisX.reversed?_:E,a,0,null,!1,!1),(k[m].indexLabel||h.indexLabel||k[m].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:k[m],dataSeries:h,indexKeyword:0,point:{x:k[m].y[1]>=k[m].y[0]?p:g,y:_+(E-_)/2},direction:k[m].y[1]>=k[m].y[0]?-1:1,bounds:{x1:Math.min(p,g),y1:_,x2:Math.max(p,g),y2:E},color:a}),this._indexLabels.push({chartType:"rangeBar",dataPoint:k[m],dataSeries:h,indexKeyword:1,point:{x:k[m].y[1]>=k[m].y[0]?g:p,y:_+(E-_)/2},direction:k[m].y[1]>=k[m].y[0]?1:-1,bounds:{x1:Math.min(p,g),y1:_,x2:Math.max(p,g),y2:E},color:a}))}}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeArea=function(n){function d(){if(R){for(var $=null,N=T.length-1;0<=N;N--)$=T[N],a.lineTo($.x,$.y2),l.lineTo($.x,$.y2);if(a.closePath(),a.globalAlpha=f.fillOpacity,a.fill(),a.globalAlpha=1,l.fill(),0<f.lineThickness){for(a.beginPath(),a.moveTo($.x,$.y2),N=0;N<T.length;N++)$=T[N],a.lineTo($.x,$.y2);for(a.moveTo(T[0].x,T[0].y1),N=0;N<T.length;N++)$=T[N],a.lineTo($.x,$.y1);a.stroke()}a.beginPath(),a.moveTo(k,I),l.beginPath(),l.moveTo(k,I),R={x:k,y:I},T=[],T.push({x:k,y1:I,y2:E})}}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;a.save(),X&&l.save(),a.beginPath(),a.rect(g.x1,g.y1,g.width,g.height),a.clip(),X&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var _=0;_<n.dataSeriesIndexes.length;_++){var T=[],m=n.dataSeriesIndexes[_],f=this.data[m],y=f.dataPoints,p=f.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:m},p=C(p),l.fillStyle=p;var p=[],v=!0,h=0,k,I,E,w,R=null;if(0<y.length){var M=f._colorSet[h%f._colorSet.length],W=f.lineColor=f.options.lineColor||M,j=W;a.fillStyle=M,a.strokeStyle=W,a.lineWidth=f.lineThickness;var V="solid";if(a.setLineDash){var le=q(f.nullDataLineDashType,f.lineThickness),V=f.lineDashType,ye=q(V,f.lineThickness);a.setLineDash(ye)}for(var te=!0;h<y.length;h++)if(w=y[h].x.getTime?y[h].x.getTime():y[h].x,!(w<n.axisX.dataInfo.viewPortMin||w>n.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!te)))if(y[h].y!==null&&y[h].y.length&&typeof y[h].y[0]=="number"&&typeof y[h].y[1]=="number"){if(k=n.axisX.convertValueToPixel(w),I=n.axisY.convertValueToPixel(y[h].y[0]),E=n.axisY.convertValueToPixel(y[h].y[1]),v||te?(f.connectNullData&&!v?(a.setLineDash&&(f.options.nullDataLineDashType||V===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(T[T.length-1].newLineDashArray=ye,V=f.nullDataLineDashType,a.setLineDash(le)),a.lineTo(k,I),X&&l.lineTo(k,I),T.push({x:k,y1:I,y2:E})):(a.beginPath(),a.moveTo(k,I),R={x:k,y:I},T=[],T.push({x:k,y1:I,y2:E}),X&&(l.beginPath(),l.moveTo(k,I))),te=v=!1):(a.lineTo(k,I),T.push({x:k,y1:I,y2:E}),X&&l.lineTo(k,I),h%250==0&&d()),w=f.dataPointIds[h],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:k,y1:I,y2:E},h<y.length-1&&(j!==(y[h].lineColor||W)||V!==(y[h].lineDashType||f.lineDashType))&&(d(),j=y[h].lineColor||W,T[T.length-1].newStrokeStyle=j,a.strokeStyle=j,a.setLineDash&&(y[h].lineDashType?(V=y[h].lineDashType,T[T.length-1].newLineDashArray=q(V,f.lineThickness),a.setLineDash(T[T.length-1].newLineDashArray)):(V=f.lineDashType,T[T.length-1].newLineDashArray=ye,a.setLineDash(ye)))),y[h].markerSize!==0&&(0<y[h].markerSize||0<f.markerSize)){var ie=f.getMarkerProperties(h,k,E,a);p.push(ie);var G=C(w);X&&p.push({x:k,y:E,ctx:l,type:ie.type,size:ie.size,color:G,borderColor:G,borderThickness:ie.borderThickness}),ie=f.getMarkerProperties(h,k,I,a),p.push(ie),G=C(w),X&&p.push({x:k,y:I,ctx:l,type:ie.type,size:ie.size,color:G,borderColor:G,borderThickness:ie.borderThickness})}(y[h].indexLabel||f.indexLabel||y[h].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:y[h],dataSeries:f,indexKeyword:0,point:{x:k,y:I},direction:y[h].y[0]>y[h].y[1]===n.axisY.reversed?-1:1,color:M}),this._indexLabels.push({chartType:"rangeArea",dataPoint:y[h],dataSeries:f,indexKeyword:1,point:{x:k,y:E},direction:y[h].y[0]>y[h].y[1]===n.axisY.reversed?1:-1,color:M}))}else te||v||d(),te=!0;d(),Ut.drawMarkers(p)}}return X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderRangeSplineArea=function(n){function d(ie,G){var $=D(I,2);if(0<$.length){if(0<m.lineThickness){a.strokeStyle=G,a.setLineDash&&a.setLineDash(ie),a.beginPath(),a.moveTo($[0].x,$[0].y);for(var N=0;N<$.length-3;N+=3)($[N].newStrokeStyle||$[N].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[N].x,$[N].y),$[N].newStrokeStyle&&(a.strokeStyle=$[N].newStrokeStyle),$[N].newLineDashArray&&a.setLineDash($[N].newLineDashArray)),a.bezierCurveTo($[N+1].x,$[N+1].y,$[N+2].x,$[N+2].y,$[N+3].x,$[N+3].y)}for(a.beginPath(),a.moveTo($[0].x,$[0].y),X&&(l.beginPath(),l.moveTo($[0].x,$[0].y)),N=0;N<$.length-3;N+=3)a.bezierCurveTo($[N+1].x,$[N+1].y,$[N+2].x,$[N+2].y,$[N+3].x,$[N+3].y),X&&l.bezierCurveTo($[N+1].x,$[N+1].y,$[N+2].x,$[N+2].y,$[N+3].x,$[N+3].y);for($=D(E,2),a.lineTo(E[E.length-1].x,E[E.length-1].y),N=$.length-1;2<N;N-=3)a.bezierCurveTo($[N-1].x,$[N-1].y,$[N-2].x,$[N-2].y,$[N-3].x,$[N-3].y),X&&l.bezierCurveTo($[N-1].x,$[N-1].y,$[N-2].x,$[N-2].y,$[N-3].x,$[N-3].y);if(a.closePath(),a.globalAlpha=m.fillOpacity,a.fill(),X&&(l.closePath(),l.fill()),a.globalAlpha=1,0<m.lineThickness){a.strokeStyle=G,a.setLineDash&&a.setLineDash(ie),a.beginPath(),a.moveTo($[0].x,$[0].y);for(var ae=N=0;N<$.length-3;N+=3,ae++)(I[ae].newStrokeStyle||I[ae].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[N].x,$[N].y),I[ae].newStrokeStyle&&(a.strokeStyle=I[ae].newStrokeStyle),I[ae].newLineDashArray&&a.setLineDash(I[ae].newLineDashArray)),a.bezierCurveTo($[N+1].x,$[N+1].y,$[N+2].x,$[N+2].y,$[N+3].x,$[N+3].y);for($=D(I,2),a.moveTo($[0].x,$[0].y),ae=N=0;N<$.length-3;N+=3,ae++)(I[ae].newStrokeStyle||I[ae].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[N].x,$[N].y),I[ae].newStrokeStyle&&(a.strokeStyle=I[ae].newStrokeStyle),I[ae].newLineDashArray&&a.setLineDash(I[ae].newLineDashArray)),a.bezierCurveTo($[N+1].x,$[N+1].y,$[N+2].x,$[N+2].y,$[N+3].x,$[N+3].y);a.stroke()}a.beginPath()}}var r=n.targetCanvasCtx||this.plotArea.ctx,a=X?this._preRenderCtx:r;if(!(0>=n.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;a.save(),X&&l.save(),a.beginPath(),a.rect(g.x1,g.y1,g.width,g.height),a.clip(),X&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var _=0;_<n.dataSeriesIndexes.length;_++){var T=n.dataSeriesIndexes[_],m=this.data[T],f=m.dataPoints,p=m.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:T},p=C(p),l.fillStyle=p;var p=[],y=0,v,h,k,I=[],E=[];if(0<f.length){var w=m._colorSet[y%m._colorSet.length],R=m.lineColor=m.options.lineColor||w,M=R;a.fillStyle=w,a.lineWidth=m.lineThickness;var W="solid",j;if(a.setLineDash){var V=q(m.nullDataLineDashType,m.lineThickness),W=m.lineDashType;j=q(W,m.lineThickness)}for(h=!1;y<f.length;y++)if(v=f[y].x.getTime?f[y].x.getTime():f[y].x,!(v<n.axisX.dataInfo.viewPortMin||v>n.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!h)))if(f[y].y!==null&&f[y].y.length&&typeof f[y].y[0]=="number"&&typeof f[y].y[1]=="number"){v=n.axisX.convertValueToPixel(v),h=n.axisY.convertValueToPixel(f[y].y[0]),k=n.axisY.convertValueToPixel(f[y].y[1]);var le=m.dataPointIds[y];if(this._eventManager.objectMap[le]={id:le,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:y,x1:v,y1:h,y2:k},I[I.length]={x:v,y:h},E[E.length]={x:v,y:k},y<f.length-1&&(M!==(f[y].lineColor||R)||W!==(f[y].lineDashType||m.lineDashType))&&(M=f[y].lineColor||R,I[I.length-1].newStrokeStyle=M,a.setLineDash&&(f[y].lineDashType?(W=f[y].lineDashType,I[I.length-1].newLineDashArray=q(W,m.lineThickness)):(W=m.lineDashType,I[I.length-1].newLineDashArray=j))),f[y].markerSize!==0&&(0<f[y].markerSize||0<m.markerSize)){var ye=m.getMarkerProperties(y,v,h,a);p.push(ye);var te=C(le);X&&p.push({x:v,y:h,ctx:l,type:ye.type,size:ye.size,color:te,borderColor:te,borderThickness:ye.borderThickness}),ye=m.getMarkerProperties(y,v,k,a),p.push(ye),te=C(le),X&&p.push({x:v,y:k,ctx:l,type:ye.type,size:ye.size,color:te,borderColor:te,borderThickness:ye.borderThickness})}(f[y].indexLabel||m.indexLabel||f[y].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:f[y],dataSeries:m,indexKeyword:0,point:{x:v,y:h},direction:f[y].y[0]<=f[y].y[1]?-1:1,color:w}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:f[y],dataSeries:m,indexKeyword:1,point:{x:v,y:k},direction:f[y].y[0]<=f[y].y[1]?1:-1,color:w})),h=!1}else 0<y&&!h&&(m.connectNullData?a.setLineDash&&0<I.length&&(m.options.nullDataLineDashType||!f[y-1].lineDashType)&&(I[I.length-1].newLineDashArray=V,W=m.nullDataLineDashType):(d(j,R),I=[],E=[])),h=!0;d(j,R),Ut.drawMarkers(p)}}return X&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&a.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&a.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:qe.xClipAnimation,easingFunction:qe.easing.linear,animationBase:0}}},P.prototype.renderWaterfall=function(n){var d=n.targetCanvasCtx||this.plotArea.ctx,r=X?this._preRenderCtx:d;if(!(0>=n.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,l=null,p=this.plotArea,y=0,g,_,T,m,f=n.axisY.convertValueToPixel(n.axisY.logarithmic?n.axisY.viewportMinimum:0),y=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/n.plotType.totalDataSeries))<<0;var v=n.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(n.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:.6*(p.width*(n.axisX.logarithmic?Math.log(v)/Math.log(n.axisX.range):Math.abs(v)/Math.abs(n.axisX.range))/n.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&y>_&&(y=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<y&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,y)),v<y&&(v=y),v>_&&(v=_),r.save(),X&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(p.x1,p.y1,p.width,p.height),r.clip(),X&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var h=0;h<n.dataSeriesIndexes.length;h++){var k=n.dataSeriesIndexes[h],I=this.data[k],E=I.dataPoints,l=I._colorSet[0];I.risingColor=I.options.risingColor?I.options.risingColor:l,I.fallingColor=I.options.fallingColor?I.options.fallingColor:"#e40a0a";var w=typeof I.options.lineThickness=="number"?Math.round(I.lineThickness):1,R=Math.round(w)%2===1?-.5:0;if(0<E.length)for(var M=!!(5<v&&I.bevelEnabled),W=!1,j=null,V=null,y=0;y<E.length;y++)if(E[y].getTime?m=E[y].x.getTime():m=E[y].x,typeof E[y].y!="number"){if(0<y&&!W&&I.connectNullData)var le=I.options.nullDataLineDashType||!E[y-1].lineDashType?I.nullDataLineDashType:E[y-1].lineDashType;W=!0}else{g=n.axisX.convertValueToPixel(m),_=I.dataPointEOs[y].cumulativeSum===0?f:n.axisY.convertValueToPixel(I.dataPointEOs[y].cumulativeSum),T=I.dataPointEOs[y].cumulativeSumYStartValue===0?f:n.axisY.convertValueToPixel(I.dataPointEOs[y].cumulativeSumYStartValue),g=n.axisX.reversed?g+n.plotType.totalDataSeries*v/2-(n.previousDataSeriesCount+h)*v<<0:g-n.plotType.totalDataSeries*v/2+(n.previousDataSeriesCount+h)*v<<0;var ye=n.axisX.reversed?g-v<<0:g+v<<0;_>T&&(l=_,_=T,T=l),n.axisY.reversed&&(l=_,_=T,T=l),l=I.dataPointIds[y],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:y,x1:g,y1:_,x2:ye,y2:T};var ie=E[y].color?E[y].color:0<E[y].y?I.risingColor:I.fallingColor;Dt(r,n.axisX.reversed?ye:g,n.axisY.reversed?T:_,n.axisX.reversed?g:ye,n.axisY.reversed?_:T,ie,0,ie,M,M,!1,!1,I.fillOpacity),l=C(l),X&&Dt(this._eventManager.ghostCtx,n.axisX.reversed?ye:g,_,n.axisX.reversed?g:ye,T,l,0,null,!1,!1);var te,ie=g;te=typeof E[y].isIntermediateSum<"u"&&E[y].isIntermediateSum===!0||typeof E[y].isCumulativeSum<"u"&&E[y].isCumulativeSum===!0?0<E[y].y?_:T:0<E[y].y?T:_,0<y&&j&&(!W||I.connectNullData)&&(W&&r.setLineDash&&r.setLineDash(q(le,w)),r.beginPath(),r.moveTo(j,V-R),r.lineTo(ie,te-R),0<w&&r.stroke(),X&&(a.beginPath(),a.moveTo(j,V-R),a.lineTo(ie,te-R),0<w&&a.stroke())),W=!1,j=ye,V=0<E[y].y?_:T,ie=E[y].lineDashType?E[y].lineDashType:I.options.lineDashType?I.options.lineDashType:"shortDash",r.strokeStyle=E[y].lineColor?E[y].lineColor:I.options.lineColor?I.options.lineColor:"#9e9e9e",r.lineWidth=w,r.setLineDash&&(ie=q(ie,w),r.setLineDash(ie)),(E[y].indexLabel||I.indexLabel||E[y].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:E[y],dataSeries:I,point:{x:g+(ye-g)/2,y:0<=E[y].y?_:T},direction:0>E[y].y===n.axisY.reversed?1:-1,bounds:{x1:g,y1:Math.min(_,T),x2:ye,y2:Math.max(_,T)},color:l})}}return X&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",n.axisX.maskCanvas&&r.drawImage(n.axisX.maskCanvas,0,0,this.width,this.height),n.axisY.maskCanvas&&r.drawImage(n.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:qe.fadeInAnimation,easingFunction:qe.easing.easeInQuad,animationBase:0}}};var zi=function(n,d,r,a,l,p,g,_,T){if(!(0>r)){if(typeof _>"u"&&(_=1),!X){var m=Number((g%(2*Math.PI)).toFixed(8));Number((p%(2*Math.PI)).toFixed(8))===m&&(g-=1e-4)}n.save(),n.globalAlpha=_,l==="pie"?(n.beginPath(),n.moveTo(d.x,d.y),n.arc(d.x,d.y,r,p,g,!1),n.fillStyle=a,n.strokeStyle="white",n.lineWidth=2,n.closePath(),n.fill()):l==="doughnut"&&(n.beginPath(),n.arc(d.x,d.y,r,p,g,!1),0<=T&&n.arc(d.x,d.y,T*r,g,p,!0),n.closePath(),n.fillStyle=a,n.strokeStyle="white",n.lineWidth=2,n.fill()),n.globalAlpha=1,n.restore()}};P.prototype.renderPie=function(n){function d(){if(m&&f){var te=0,ie=0,G=0,$=0;b(m.options.indexLabelMaxWidth)&&(m.indexLabelMaxWidth=.33*v.width);for(var N=0;N<f.length;N++){var ae=f[N],xe=m.dataPointIds[N];h[N].id=xe,h[N].objectType="dataPoint",h[N].dataPointIndex=N,h[N].dataSeriesIndex=0;var Y=h[N],yt={percent:null,total:null},ut=null,yt=T.getPercentAndTotal(m,ae);(m.indexLabelFormatter||ae.indexLabelFormatter)&&(ut={chart:T.options,dataSeries:m,dataPoint:ae,total:yt.total,percent:yt.percent}),yt=ae.indexLabelFormatter?ae.indexLabelFormatter(ut):ae.indexLabel?T.replaceKeywordsWithValue(ae.indexLabel,ae,m,N):m.indexLabelFormatter?m.indexLabelFormatter(ut):m.indexLabel?T.replaceKeywordsWithValue(m.indexLabel,ae,m,N):ae.label?ae.label:"",T._eventManager.objectMap[xe]=Y,Y.center={x:M.x,y:M.y},Y.y=ae.y,Y.radius=V,Y.percentInnerRadius=ye,Y.indexLabelText=yt,Y.indexLabelPlacement=m.indexLabelPlacement,Y.indexLabelLineColor=ae.indexLabelLineColor?ae.indexLabelLineColor:m.options.indexLabelLineColor?m.options.indexLabelLineColor:ae.color?ae.color:m._colorSet[N%m._colorSet.length],Y.indexLabelLineThickness=b(ae.indexLabelLineThickness)?m.indexLabelLineThickness:ae.indexLabelLineThickness,Y.indexLabelLineDashType=ae.indexLabelLineDashType?ae.indexLabelLineDashType:m.indexLabelLineDashType,Y.indexLabelFontColor=ae.indexLabelFontColor?ae.indexLabelFontColor:m.indexLabelFontColor,Y.indexLabelFontStyle=ae.indexLabelFontStyle?ae.indexLabelFontStyle:m.indexLabelFontStyle,Y.indexLabelFontWeight=ae.indexLabelFontWeight?ae.indexLabelFontWeight:m.indexLabelFontWeight,Y.indexLabelFontSize=b(ae.indexLabelFontSize)?m.indexLabelFontSize:ae.indexLabelFontSize,Y.indexLabelFontFamily=ae.indexLabelFontFamily?ae.indexLabelFontFamily:m.indexLabelFontFamily,Y.indexLabelBackgroundColor=ae.indexLabelBackgroundColor?ae.indexLabelBackgroundColor:m.options.indexLabelBackgroundColor?m.options.indexLabelBackgroundColor:m.indexLabelBackgroundColor,Y.indexLabelMaxWidth=ae.indexLabelMaxWidth?ae.indexLabelMaxWidth:m.indexLabelMaxWidth,Y.indexLabelWrap=typeof ae.indexLabelWrap<"u"?ae.indexLabelWrap:m.indexLabelWrap,Y.indexLabelTextAlign=ae.indexLabelTextAlign?ae.indexLabelTextAlign:m.indexLabelTextAlign?m.indexLabelTextAlign:"left",Y.startAngle=N===0?m.startAngle?m.startAngle/180*Math.PI:0:h[N-1].endAngle,Y.startAngle=(Y.startAngle+2*Math.PI)%(2*Math.PI),Y.endAngle=Y.startAngle+2*Math.PI/W*Math.abs(ae.y),ae=(Y.endAngle+Y.startAngle)/2,ae=(ae+2*Math.PI)%(2*Math.PI),Y.midAngle=ae,Y.midAngle>Math.PI/2-w&&Y.midAngle<Math.PI/2+w?((te===0||h[G].midAngle>Y.midAngle)&&(G=N),te++):Y.midAngle>3*Math.PI/2-w&&Y.midAngle<3*Math.PI/2+w&&((ie===0||h[$].midAngle>Y.midAngle)&&($=N),ie++),Y.hemisphere=ae>Math.PI/2&&ae<=3*Math.PI/2?"left":"right",Y.indexLabelTextBlock=new Le(T.plotArea.ctx,{fontSize:Y.indexLabelFontSize,fontFamily:Y.indexLabelFontFamily,fontColor:Y.indexLabelFontColor,fontStyle:Y.indexLabelFontStyle,fontWeight:Y.indexLabelFontWeight,textAlign:Y.indexLabelTextAlign,backgroundColor:Y.indexLabelBackgroundColor,maxWidth:Y.indexLabelMaxWidth,maxHeight:Y.indexLabelWrap?5*Y.indexLabelFontSize:1.5*Y.indexLabelFontSize,text:Y.indexLabelText,padding:0,textBaseline:"middle"}),Y.indexLabelTextBlock.measureText()}for(xe=ae=0,yt=!1,N=0;N<f.length;N++)Y=h[(G+N)%f.length],1<te&&Y.midAngle>Math.PI/2-w&&Y.midAngle<Math.PI/2+w&&(ae<=te/2&&!yt?(Y.hemisphere="right",ae++):(Y.hemisphere="left",yt=!0));for(yt=!1,N=0;N<f.length;N++)Y=h[($+N)%f.length],1<ie&&Y.midAngle>3*Math.PI/2-w&&Y.midAngle<3*Math.PI/2+w&&(xe<=ie/2&&!yt?(Y.hemisphere="left",xe++):(Y.hemisphere="right",yt=!0))}}function r(te,ie){var G=T.plotArea.ctx;for(G.clearRect(v.x1,v.y1,v.width,v.height),G.fillStyle=T.backgroundColor,G.fillRect(v.x1,v.y1,v.width,v.height),G=0;G<f.length;G++){var $=h[G].startAngle,N=h[G].endAngle;if(N>$){var ae=.07*V*Math.cos(h[G].midAngle),xe=.07*V*Math.sin(h[G].midAngle),Y=!1;f[G].exploded?(1e-9<Math.abs(h[G].center.x-(M.x+ae))||1e-9<Math.abs(h[G].center.y-(M.y+xe)))&&(h[G].center.x=M.x+ae*te,h[G].center.y=M.y+xe*te,Y=!0):(0<Math.abs(h[G].center.x-M.x)||0<Math.abs(h[G].center.y-M.y))&&(h[G].center.x=M.x+ae*(1-te),h[G].center.y=M.y+xe*(1-te),Y=!0),Y&&ie&&(ae={},ae.dataSeries=m,ae.dataPoint=m.dataPoints[G],ae.index=G,T.toolTip.highlightObjects([ae])),zi(T.plotArea.ctx,h[G].center,h[G].radius,f[G].color?f[G].color:m._colorSet[G%m._colorSet.length],m.type,$,N,m.fillOpacity,h[G].percentInnerRadius)}}for(G=T.plotArea.ctx,G.save(),G.fillStyle="black",G.strokeStyle="grey",G.textBaseline="middle",G.lineJoin="round",$=$=0;$<f.length;$++)N=h[$],N.indexLabelText&&(N.indexLabelTextBlock.y-=N.indexLabelTextBlock.height/2-N.indexLabelTextBlock.fontSize/2,ae=0,ae=N.hemisphere==="left"?m.indexLabelPlacement!=="inside"?-(N.indexLabelTextBlock.width+y):-N.indexLabelTextBlock.width/2:m.indexLabelPlacement!=="inside"?y:-N.indexLabelTextBlock.width/2,N.indexLabelTextBlock.x+=ae,N.indexLabelTextBlock.render(!0),N.indexLabelTextBlock.x-=ae,N.indexLabelTextBlock.y+=N.indexLabelTextBlock.height/2-N.indexLabelTextBlock.fontSize/2,N.indexLabelPlacement!=="inside"&&0<N.indexLabelLineThickness&&(ae=N.center.x+V*Math.cos(N.midAngle),xe=N.center.y+V*Math.sin(N.midAngle),G.strokeStyle=N.indexLabelLineColor,G.lineWidth=N.indexLabelLineThickness,G.setLineDash&&G.setLineDash(q(N.indexLabelLineDashType,N.indexLabelLineThickness)),G.beginPath(),G.moveTo(ae,xe),G.lineTo(N.indexLabelTextBlock.x,N.indexLabelTextBlock.y),G.lineTo(N.indexLabelTextBlock.x+(N.hemisphere==="left"?-y:y),N.indexLabelTextBlock.y),G.stroke()),G.lineJoin="miter");G.save()}function a(te,ie){var G=0,G=te.indexLabelTextBlock.y-te.indexLabelTextBlock.height/2,$=te.indexLabelTextBlock.y+te.indexLabelTextBlock.height/2,N=ie.indexLabelTextBlock.y-ie.indexLabelTextBlock.height/2,ae=ie.indexLabelTextBlock.y+ie.indexLabelTextBlock.height/2;return G=ie.indexLabelTextBlock.y>te.indexLabelTextBlock.y?N-$:G-ae}function l(te){for(var ie=null,G=1;G<f.length;G++)if(ie=(te+G+h.length)%h.length,h[ie].hemisphere!==h[te].hemisphere){ie=null;break}else{if(h[ie].indexLabelText&&ie!==te&&(0>a(h[ie],h[te])||(h[te].hemisphere==="right"?h[ie].indexLabelTextBlock.y>=h[te].indexLabelTextBlock.y:h[ie].indexLabelTextBlock.y<=h[te].indexLabelTextBlock.y)))break;ie=null}return ie}function p(te,ie,G){if(G=(G||0)+1,1e3<G)return 0;ie=ie||0;var $=0,N=M.y-1*I,ae=M.y+1*I;if(0<=te&&te<f.length){var xe=h[te];if(0>ie&&xe.indexLabelTextBlock.y<N||0<ie&&xe.indexLabelTextBlock.y>ae)return 0;var Y=0,ut=0,ut=Y=Y=0;for(0>ie?xe.indexLabelTextBlock.y-xe.indexLabelTextBlock.height/2>N&&xe.indexLabelTextBlock.y-xe.indexLabelTextBlock.height/2+ie<N&&(ie=-(N-(xe.indexLabelTextBlock.y-xe.indexLabelTextBlock.height/2+ie))):xe.indexLabelTextBlock.y+xe.indexLabelTextBlock.height/2<N&&xe.indexLabelTextBlock.y+xe.indexLabelTextBlock.height/2+ie>ae&&(ie=xe.indexLabelTextBlock.y+xe.indexLabelTextBlock.height/2+ie-ae),ie=xe.indexLabelTextBlock.y+ie,N=0,N=xe.hemisphere==="right"?M.x+Math.sqrt(Math.pow(I,2)-Math.pow(ie-M.y,2)):M.x-Math.sqrt(Math.pow(I,2)-Math.pow(ie-M.y,2)),ut=M.x+V*Math.cos(xe.midAngle),Y=M.y+V*Math.sin(xe.midAngle),Y=Math.sqrt(Math.pow(N-ut,2)+Math.pow(ie-Y,2)),ut=Math.acos(V/I),Y=Math.acos((I*I+V*V-Y*Y)/(2*V*I)),ie=Y<ut?ie-xe.indexLabelTextBlock.y:0,N=null,ae=1;ae<f.length;ae++)if(N=(te-ae+h.length)%h.length,h[N].hemisphere!==h[te].hemisphere){N=null;break}else{if(h[N].indexLabelText&&h[N].hemisphere===h[te].hemisphere&&N!==te&&(0>a(h[N],h[te])||(h[te].hemisphere==="right"?h[N].indexLabelTextBlock.y<=h[te].indexLabelTextBlock.y:h[N].indexLabelTextBlock.y>=h[te].indexLabelTextBlock.y)))break;N=null}ut=N,Y=l(te),ae=N=0,0>ie?(ae=xe.hemisphere==="right"?ut:Y,$=ie,ae!==null&&(ut=-ie,ie=xe.indexLabelTextBlock.y-xe.indexLabelTextBlock.height/2-(h[ae].indexLabelTextBlock.y+h[ae].indexLabelTextBlock.height/2),ie-ut<k&&(N=-ut,ae=p(ae,N,G+1),+ae.toFixed(R)>+N.toFixed(R)&&($=ie>k?-(ie-k):-(ut-(ae-N)))))):0<ie&&(ae=xe.hemisphere==="right"?Y:ut,$=ie,ae!==null&&(ut=ie,ie=h[ae].indexLabelTextBlock.y-h[ae].indexLabelTextBlock.height/2-(xe.indexLabelTextBlock.y+xe.indexLabelTextBlock.height/2),ie-ut<k&&(N=ut,ae=p(ae,N,G+1),+ae.toFixed(R)<+N.toFixed(R)&&($=ie>k?ie-k:ut-(N-ae))))),$&&(G=xe.indexLabelTextBlock.y+$,ie=0,ie=xe.hemisphere==="right"?M.x+Math.sqrt(Math.pow(I,2)-Math.pow(G-M.y,2)):M.x-Math.sqrt(Math.pow(I,2)-Math.pow(G-M.y,2)),xe.midAngle>Math.PI/2-w&&xe.midAngle<Math.PI/2+w?(N=(te-1+h.length)%h.length,N=h[N],te=h[(te+1+h.length)%h.length],xe.hemisphere==="left"&&N.hemisphere==="right"&&ie>N.indexLabelTextBlock.x?ie=N.indexLabelTextBlock.x-15:xe.hemisphere==="right"&&te.hemisphere==="left"&&ie<te.indexLabelTextBlock.x&&(ie=te.indexLabelTextBlock.x+15)):xe.midAngle>3*Math.PI/2-w&&xe.midAngle<3*Math.PI/2+w&&(N=(te-1+h.length)%h.length,N=h[N],te=h[(te+1+h.length)%h.length],xe.hemisphere==="right"&&N.hemisphere==="left"&&ie<N.indexLabelTextBlock.x?ie=N.indexLabelTextBlock.x+15:xe.hemisphere==="left"&&te.hemisphere==="right"&&ie>te.indexLabelTextBlock.x&&(ie=te.indexLabelTextBlock.x-15)),xe.indexLabelTextBlock.y=G,xe.indexLabelTextBlock.x=ie,xe.indexLabelAngle=Math.atan2(xe.indexLabelTextBlock.y-M.y,xe.indexLabelTextBlock.x-M.x))}return $}function g(){var te=T.plotArea.ctx;te.fillStyle="grey",te.strokeStyle="grey",te.font="16px Arial",te.textBaseline="middle";for(var $=te=0,ie=0,G=!0,$=0;10>$&&(1>$||0<ie);$++){if((m.radius||!m.radius&&typeof m.innerRadius<"u"&&m.innerRadius!==null&&V-ie<=le)&&(G=!1),G&&(V-=ie),ie=0,m.indexLabelPlacement!=="inside"){for(I=V*E,te=0;te<f.length;te++){var N=h[te];N.indexLabelTextBlock.x=M.x+I*Math.cos(N.midAngle),N.indexLabelTextBlock.y=M.y+I*Math.sin(N.midAngle),N.indexLabelAngle=N.midAngle,N.radius=V,N.percentInnerRadius=ye}for(var ae,xe,te=0;te<f.length;te++){var N=h[te],Y=l(te);if(Y!==null){ae=h[te],xe=h[Y];var ut=0,ut=a(ae,xe)-k;if(0>ut){for(var St=xe=0,yt=0;yt<f.length;yt++)yt!==te&&h[yt].hemisphere===N.hemisphere&&(h[yt].indexLabelTextBlock.y<N.indexLabelTextBlock.y?xe++:St++);xe=ut/(xe+St||1)*St;var St=-1*(ut-xe),At=yt=0;N.hemisphere==="right"?(yt=p(te,xe),St=-1*(ut-yt),At=p(Y,St),+At.toFixed(R)<+St.toFixed(R)&&+yt.toFixed(R)<=+xe.toFixed(R)&&p(te,-(St-At))):(yt=p(Y,xe),St=-1*(ut-yt),At=p(te,St),+At.toFixed(R)<+St.toFixed(R)&&+yt.toFixed(R)<=+xe.toFixed(R)&&p(Y,-(St-At)))}}}}else for(te=0;te<f.length;te++)N=h[te],I=m.type==="pie"?.7*V:.85*V,Y=M.x+I*Math.cos(N.midAngle),xe=M.y+I*Math.sin(N.midAngle),N.indexLabelTextBlock.x=Y,N.indexLabelTextBlock.y=xe;for(te=0;te<f.length;te++)N=h[te],Y=N.indexLabelTextBlock.measureText(),Y.height!==0&&Y.width!==0&&(Y=Y=0,N.hemisphere==="right"?(Y=v.x2-(N.indexLabelTextBlock.x+N.indexLabelTextBlock.width+y),Y*=-1):Y=v.x1-(N.indexLabelTextBlock.x-N.indexLabelTextBlock.width-y),0<Y&&(!G&&N.indexLabelText&&(xe=N.hemisphere==="right"?v.x2-N.indexLabelTextBlock.x:N.indexLabelTextBlock.x-v.x1,.3*N.indexLabelTextBlock.maxWidth>xe?N.indexLabelText="":N.indexLabelTextBlock.maxWidth=.85*xe,.3*N.indexLabelTextBlock.maxWidth<xe&&(N.indexLabelTextBlock.x-=N.hemisphere==="right"?2:-2)),Math.abs(N.indexLabelTextBlock.y-N.indexLabelTextBlock.height/2-M.y)<V||Math.abs(N.indexLabelTextBlock.y+N.indexLabelTextBlock.height/2-M.y)<V)&&(Y/=Math.abs(Math.cos(N.indexLabelAngle)),9<Y&&(Y*=.3),Y>ie&&(ie=Y)),Y=Y=0,0<N.indexLabelAngle&&N.indexLabelAngle<Math.PI?(Y=v.y2-(N.indexLabelTextBlock.y+N.indexLabelTextBlock.height/2+5),Y*=-1):Y=v.y1-(N.indexLabelTextBlock.y-N.indexLabelTextBlock.height/2-5),0<Y&&(!G&&N.indexLabelText&&(xe=0<N.indexLabelAngle&&N.indexLabelAngle<Math.PI?-1:1,p(te,Y*xe)===0&&p(te,2*xe)),Math.abs(N.indexLabelTextBlock.x-M.x)<V&&(Y/=Math.abs(Math.sin(N.indexLabelAngle)),9<Y&&(Y*=.3),Y>ie&&(ie=Y))));var Ye=function(ei,Tt,vt){for(var Xe=[],Xt=0;Xe.push(h[Tt]),Tt!==vt;Tt=(Tt+1+f.length)%f.length);for(Xe.sort(function(Gi,gi){return Gi.y-gi.y}),Tt=0;Tt<Xe.length&&(vt=Xe[Tt],Xt<.7*ei);Tt++)Xt+=vt.indexLabelTextBlock.height,vt.indexLabelTextBlock.text="",vt.indexLabelText="",vt.indexLabelTextBlock.measureText()};(function(){for(var ei=-1,Tt=-1,vt=0,Xe=!1,Xt=0;Xt<f.length;Xt++)if(Xe=!1,ae=h[Xt],ae.indexLabelText){var Gi=l(Xt);if(Gi!==null){var gi=h[Gi];ut=0,ut=a(ae,gi);var On;if(On=0>ut){On=ae.indexLabelTextBlock.x;var bn=ae.indexLabelTextBlock.y-ae.indexLabelTextBlock.height/2,ge=ae.indexLabelTextBlock.y+ae.indexLabelTextBlock.height/2,oo=gi.indexLabelTextBlock.y-gi.indexLabelTextBlock.height/2,fi=gi.indexLabelTextBlock.x+gi.indexLabelTextBlock.width,xa=gi.indexLabelTextBlock.y+gi.indexLabelTextBlock.height/2;On=!(ae.indexLabelTextBlock.x+ae.indexLabelTextBlock.width<gi.indexLabelTextBlock.x-y||On>fi+y||bn>xa+y||ge<oo-y)}On?(0>ei&&(ei=Xt),Gi!==ei&&(Tt=Gi,vt+=-ut),Xt%Math.max(f.length/10,3)===0&&(Xe=!0)):Xe=!0,Xe&&0<vt&&0<=ei&&0<=Tt&&(Ye(vt,ei,Tt),Tt=ei=-1,vt=0)}}0<vt&&Ye(vt,ei,Tt)})()}}function _(){if(T.plotArea.layoutManager.reset(),T.title&&(T.title.dockInsidePlotArea||T.title.horizontalAlign==="center"&&T.title.verticalAlign==="center")&&T.title.render(),T.subtitles)for(var te=0;te<T.subtitles.length;te++){var ie=T.subtitles[te];(ie.dockInsidePlotArea||ie.horizontalAlign==="center"&&ie.verticalAlign==="center")&&ie.render()}T.legend&&(T.legend.dockInsidePlotArea||T.legend.horizontalAlign==="center"&&T.legend.verticalAlign==="center")&&(T.legend.setLayout(),T.legend.render())}var T=this;if(!(0>=n.dataSeriesIndexes.length)){var m=this.data[n.dataSeriesIndexes[0]],f=m.dataPoints,y=10,v=this.plotArea,h=m.dataPointEOs,k=2,I,E=1.3,w=20/180*Math.PI,R=6,M={x:(v.x2+v.x1)/2,y:(v.y2+v.y1)/2},W=0;n=!1;for(var j=0;j<f.length;j++)W+=Math.abs(f[j].y),!n&&typeof f[j].indexLabel<"u"&&f[j].indexLabel!==null&&0<f[j].indexLabel.toString().length&&(n=!0),!n&&typeof f[j].label<"u"&&f[j].label!==null&&0<f[j].label.toString().length&&(n=!0);if(W!==0){n=n||typeof m.indexLabel<"u"&&m.indexLabel!==null&&0<m.indexLabel.toString().length;var V=m.indexLabelPlacement!=="inside"&&n?.75*Math.min(v.width,v.height)/2:.92*Math.min(v.width,v.height)/2;m.radius&&(V=st(m.radius,V));var le=typeof m.innerRadius<"u"&&m.innerRadius!==null?st(m.innerRadius,V):.7*V;m.radius=V,m.type==="doughnut"&&(m.innerRadius=le);var ye=Math.min(le/V,(V-1)/V);this.pieDoughnutClickHandler=function(te){T.isAnimating||!b(this.explodeOnClick)&&!this.explodeOnClick||(te=te.dataPoint,te.exploded=!te.exploded,1<this.dataPoints.length&&T._animator.animate(0,500,function(ie){r(ie,!0),_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),T.dispatchEvent("dataAnimationEnd",{chart:T})}))},d(),g(),g(),g(),g(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(te){var ie=T.plotArea.ctx;ie.clearRect(v.x1,v.y1,v.width,v.height),ie.fillStyle=T.backgroundColor,ie.fillRect(v.x1,v.y1,v.width,v.height);for(var ie=h[0].startAngle+2*Math.PI*te,G=0;G<f.length;G++){var $=G===0?h[G].startAngle:N,N=$+(h[G].endAngle-h[G].startAngle),ae=!1;N>ie&&(N=ie,ae=!0);var xe=f[G].color?f[G].color:m._colorSet[G%m._colorSet.length];if(N>$&&zi(T.plotArea.ctx,h[G].center,h[G].radius,xe,m.type,$,N,m.fillOpacity,h[G].percentInnerRadius),ae)break}_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),1<=te&&T.dispatchEvent("dataAnimationEnd",{chart:T})},function(){T.disableToolTip=!1,T._animator.animate(0,T.animatedRender?500:0,function(te){r(te,!1),_(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T})}),T.dispatchEvent("dataAnimationEnd",{chart:T})})}}};var Ri=function(n,d,r,a){typeof r>"u"&&(r=1),0>=Math.round(d.y4-d.y1)||(n.save(),n.globalAlpha=r,n.beginPath(),n.moveTo(Math.round(d.x1),Math.round(d.y1)),n.lineTo(Math.round(d.x2),Math.round(d.y2)),n.lineTo(Math.round(d.x3),Math.round(d.y3)),n.lineTo(Math.round(d.x4),Math.round(d.y4)),d.x5!=="undefined"&&(n.lineTo(Math.round(d.x5),Math.round(d.y5)),n.lineTo(Math.round(d.x6),Math.round(d.y6))),n.closePath(),n.fillStyle=a||d.color,n.fill(),n.globalAplha=1,n.restore())};P.prototype.renderFunnel=function(n){function d(){for(var be=0,ve=[],Re=0;Re<R.length;Re++){if(typeof R[Re].y>"u")return-1;R[Re].y=typeof R[Re].y=="number"?R[Re].y:0,be+=Math.abs(R[Re].y)}if(be===0)return-1;for(Re=ve[0]=0;Re<R.length;Re++)ve.push(Math.abs(R[Re].y)*le/be);return ve}function r(){var be=yt,ve=St,Re=Ye,pt=ei,Ve,wt;Ve=$,wt=N-xe,pt=Math.abs((wt-Ve)*(ve-be+(pt-Re))/2),Re=ei-Ye,Ve=wt-Ve,wt=Re*(wt-N),wt=Math.abs(wt),wt=pt+wt;for(var pt=[],Si=0,zt=0;zt<R.length;zt++){if(typeof R[zt].y>"u")return-1;R[zt].y=typeof R[zt].y=="number"?R[zt].y:0,Si+=Math.abs(R[zt].y)}if(Si===0)return-1;for(var Lt=pt[0]=0,Ue=0,jt,di,ve=ve-be,Lt=!1,zt=0;zt<R.length;zt++)be=Math.abs(R[zt].y)*wt/Si,Lt?jt=Number(Re.toFixed(3))==0?0:be/Re:(di=gi*gi*ve*ve-4*Math.abs(gi)*be,0>di?(di=Re,Lt=(ve+di)*(Ve-Ue)/2,be-=Lt,jt=Ve-Ue,Ue+=Ve-Ue,jt+=di==0?0:be/di,Ue+=be/di,Lt=!0):(jt=(Math.abs(gi)*ve-Math.sqrt(di))/2,di=ve-2*jt/Math.abs(gi),Ue+=jt,Ue>Ve&&(Ue-=jt,di=Re,Lt=(ve+di)*(Ve-Ue)/2,be-=Lt,jt=Ve-Ue,Ue+=Ve-Ue,jt+=be/di,Ue+=be/di,Lt=!0),ve=di)),pt.push(jt);return pt}function a(){if(w&&R){for(var be,ve,Re,pt,Ve,wt,Si,zt,Ue,jt,di,Lt,nt,bt,je,Mt=[],Mi=[],Yi={percent:null,total:null},Ii=null,gt=0;gt<R.length;gt++)je=Xe[gt],je=typeof je.x5<"u"?(je.y2+je.y4)/2:(je.y2+je.y3)/2,je=h(je).x2+1,Mt[gt]=G-je-ut;je=.5*ut;for(var gt=0,_i=R.length-1;gt<R.length||0<=_i;gt++,_i--)ve=w.reversed?R[_i]:R[gt],be=ve.color?ve.color:w.reversed?w._colorSet[(R.length-1-gt)%w._colorSet.length]:w._colorSet[gt%w._colorSet.length],Re=ve.indexLabelPlacement||w.indexLabelPlacement||"outside",bt=ve.indexLabelTextAlign||w.indexLabelTextAlign||"left",pt=ve.indexLabelBackgroundColor||w.indexLabelBackgroundColor||(X?"transparent":null),Ve=ve.indexLabelFontColor||w.indexLabelFontColor||"#979797",wt=b(ve.indexLabelFontSize)?w.indexLabelFontSize:ve.indexLabelFontSize,Si=ve.indexLabelFontStyle||w.indexLabelFontStyle||"normal",zt=ve.indexLabelFontFamily||w.indexLabelFontFamily||"arial",Ue=ve.indexLabelFontWeight||w.indexLabelFontWeight||"normal",be=ve.indexLabelLineColor||w.options.indexLabelLineColor||be,jt=typeof ve.indexLabelLineThickness=="number"?ve.indexLabelLineThickness:typeof w.indexLabelLineThickness=="number"?w.indexLabelLineThickness:2,di=ve.indexLabelLineDashType||w.indexLabelLineDashType||"solid",Lt=typeof ve.indexLabelWrap<"u"?ve.indexLabelWrap:typeof w.indexLabelWrap<"u"?w.indexLabelWrap:!0,nt=w.dataPointIds[gt],E._eventManager.objectMap[nt]={id:nt,objectType:"dataPoint",dataPointIndex:gt,dataSeriesIndex:0,funnelSection:Xe[w.reversed?R.length-1-gt:gt]},w.indexLabelPlacement==="inside"&&(Mt[gt]=gt!==Gi?w.reversed?Xe[gt].x2-Xe[gt].x1:Xe[gt].x3-Xe[gt].x4:Xe[gt].x3-Xe[gt].x6,20>Mt[gt]&&(Mt[gt]=gt!==Gi&&w.reversed?Xe[gt].x3-Xe[gt].x4:Xe[gt].x2-Xe[gt].x1,Mt[gt]/=2)),nt=ve.indexLabelMaxWidth?ve.indexLabelMaxWidth:w.options.indexLabelMaxWidth?w.indexLabelMaxWidth:Mt[gt],(nt>Mt[gt]||0>nt)&&(nt=Mt[gt]),Mi[gt]=w.indexLabelPlacement==="inside"?Lt?Math.max(Xe[gt].height,wt):1.5*wt:!1,Yi=E.getPercentAndTotal(w,ve),(w.indexLabelFormatter||ve.indexLabelFormatter)&&(Ii={chart:E.options,dataSeries:w,dataPoint:ve,total:Yi.total,percent:Yi.percent}),ve=ve.indexLabelFormatter?ve.indexLabelFormatter(Ii):ve.indexLabel?E.replaceKeywordsWithValue(ve.indexLabel,ve,w,gt):w.indexLabelFormatter?w.indexLabelFormatter(Ii):w.indexLabel?E.replaceKeywordsWithValue(w.indexLabel,ve,w,gt):ve.label?ve.label:"",0>=jt&&(jt=0),1e3>nt&&1e3-nt<je&&(nt+=1e3-nt),b(w.options.indexLabelMaxWidth)&&(w.indexLabelMaxWidth=b(w.indexLabelMaxWidth)?nt:Math.max(nt,w.indexLabelMaxWidth)),ae.roundRect||u(ae),Re=new Le(ae,{fontSize:wt,fontFamily:zt,fontColor:Ve,fontStyle:Si,fontWeight:Ue,horizontalAlign:Re,textAlign:bt,backgroundColor:pt,maxWidth:nt,maxHeight:Mi[gt]===!1?Lt?4.28571429*wt:1.5*wt:Mi[gt],text:ve,padding:bn,textBaseline:"middle"}),Re.measureText(),Re.height=Re.height===2*Re.padding?0:Re.height,Re.width=Re.width===2*Re.padding?0:Re.width,ge.push({textBlock:Re,id:w.reversed?_i:gt,isDirty:!1,lineColor:be,lineThickness:jt,lineDashType:di,height:Re.height<Re.maxHeight?Re.height:Re.maxHeight,width:Re.width<Re.maxWidth?Re.width:Re.maxWidth})}}function l(){var be,ve,Re,pt,Ve,wt=[];Ve=!1,Re=0;for(var Si,zt=G-St-ut/2,zt=w.options.indexLabelMaxWidth?w.indexLabelMaxWidth>zt?zt:w.indexLabelMaxWidth:zt,Ue=ge.length-1;0<=Ue;Ue--)Si=R[ge[Ue].id],Re=ge[Ue],pt=Re.textBlock,ve=(be=v(Ue)<Xe.length?ge[v(Ue)]:null)?be.textBlock:null,Re=Re.height,be&&pt.y+Re+bn>ve.y&&(Ve=!0),Re=Si.indexLabelMaxWidth||zt,(Re>zt||0>Re)&&(Re=zt),wt.push(Re);if(Ve)for(Ue=ge.length-1;0<=Ue;Ue--)be=Xe[Ue],ge[Ue].textBlock.maxWidth=wt[wt.length-(Ue+1)],ge[Ue].textBlock.measureText(),ge[Ue].textBlock.height=ge[Ue].textBlock.height===2*ge[Ue].textBlock.padding?0:ge[Ue].textBlock.height,ge[Ue].textBlock.width=ge[Ue].textBlock.width===2*ge[Ue].textBlock.padding?0:ge[Ue].textBlock.width,ge[Ue].textBlock.x=G-zt,Re=ge[Ue].textBlock.height<ge[Ue].textBlock.maxHeight?ge[Ue].textBlock.height:ge[Ue].textBlock.maxHeight,Ve=ge[Ue].textBlock.width<ge[Ue].textBlock.maxWidth?ge[Ue].textBlock.width:ge[Ue].textBlock.maxWidth,ge[Ue].height=Re,ge[Ue].width=Ve,Re=typeof be.x5<"u"?(be.y2+be.y4)/2:(be.y2+be.y3)/2,ge[Ue].textBlock.y=Re-ge[Ue].height/2,w.reversed?(ge[Ue].textBlock.y+ge[Ue].height>At+W&&(ge[Ue].textBlock.y=At+W-ge[Ue].height),ge[Ue].textBlock.y<vt-W&&(ge[Ue].textBlock.y=vt-W)):(ge[Ue].textBlock.y<At-W&&(ge[Ue].textBlock.y=At-W),ge[Ue].textBlock.y+ge[Ue].height>vt+W&&(ge[Ue].textBlock.y=vt+W-ge[Ue].height))}function p(){var be,ve,Re,pt;if(w.indexLabelPlacement!=="inside")for(var Ve=0;Ve<Xe.length;Ve++)ge[Ve].textBlock.text.length==0?ge[Ve].isDirty=!0:(be=Xe[Ve],Re=typeof be.x5<"u"?(be.y2+be.y4)/2:(be.y2+be.y3)/2,ve=w.reversed?typeof be.x5<"u"&&Re>Tt?h(Re).x2+1:(be.x2+be.x3)/2+1:typeof be.x5<"u"?Re<Tt?h(Re).x2+1:(be.x4+be.x3)/2+1:(be.x2+be.x3)/2+1,ge[Ve].textBlock.x=ve+ut,ge[Ve].textBlock.y=Re-ge[Ve].height/2,w.reversed?(ge[Ve].textBlock.y+ge[Ve].height>At+W&&(ge[Ve].textBlock.y=At+W-ge[Ve].height),ge[Ve].textBlock.y<vt-W&&(ge[Ve].textBlock.y=vt-W)):(ge[Ve].textBlock.y<At-W&&(ge[Ve].textBlock.y=At-W),ge[Ve].textBlock.y+ge[Ve].height>vt+W&&(ge[Ve].textBlock.y=vt+W-ge[Ve].height)));else for(Ve=0;Ve<Xe.length;Ve++)ge[Ve].textBlock.text.length==0?ge[Ve].isDirty=!0:(be=Xe[Ve],ve=be.height,Re=ge[Ve].height,pt=ge[Ve].width,ve>=Re?(ve=Ve!=Gi?(be.x4+be.x3)/2-pt/2:(be.x5+be.x4)/2-pt/2,Re=Ve!=Gi?(be.y1+be.y3)/2-Re/2:(be.y1+be.y4)/2-Re/2,ge[Ve].textBlock.x=ve,ge[Ve].textBlock.y=Re):ge[Ve].isDirty=!0)}function g(){function be(nt,bt){var je;if(0>nt||nt>=ge.length)return 0;var Mt,Mi=ge[nt].textBlock;return 0>bt?(bt*=-1,Mt=y(nt),je=_(Mt,nt),je>=bt?(Mi.y-=bt,bt):nt==0?(0<je&&(Mi.y-=je),je):(je+=be(Mt,-(bt-je)),0<je&&(Mi.y-=je),je)):(Mt=v(nt),je=_(nt,Mt),je>=bt?(Mi.y+=bt,bt):nt==Xe.length-1?(0<je&&(Mi.y+=je),je):(je+=be(Mt,bt-je),0<je&&(Mi.y+=je),je))}function ve(){var nt,bt,je,Mt,Mi=0,Yi;Mt=(N-$+2*W)/jt,Yi=jt;for(var Ii,gt=1;gt<Yi;gt++){je=gt*Mt;for(var _i=ge.length-1;0<=_i;_i--)!ge[_i].isDirty&&ge[_i].textBlock.y<je&&ge[_i].textBlock.y+ge[_i].height>je&&(Ii=v(_i),!(Ii>=ge.length-1)&&ge[_i].textBlock.y+ge[_i].height+bn>ge[Ii].textBlock.y&&(ge[_i].textBlock.y=ge[_i].textBlock.y+ge[_i].height-je>je-ge[_i].textBlock.y?je+1:je-ge[_i].height-1))}for(Ii=Xe.length-1;0<Ii;Ii--)if(!ge[Ii].isDirty){if(je=y(Ii),0>je&&(je=0,ge[je].isDirty))break;if(ge[Ii].textBlock.y<ge[je].textBlock.y+ge[je].height){for(bt=bt||Ii,Mt=Ii,Yi=0;ge[Mt].textBlock.y<ge[je].textBlock.y+ge[je].height+bn;){if(nt=nt||ge[Mt].textBlock.y+ge[Mt].height,Yi+=ge[Mt].height,Yi+=bn,Mt=je,0>=Mt){Mt=0,Yi+=ge[Mt].height;break}if(je=y(Mt),0>je){Mt=0,Yi+=ge[Mt].height;break}}if(Mt!=Ii){Mi=ge[Mt].textBlock.y,nt-=Mi,nt=Yi-nt,Mi=Re(nt,bt,Mt);break}}}return Mi}function Re(nt,bt,je){var Mt=[],Mi=0,Yi=0;for(nt=Math.abs(nt);je<=bt;je++)Mt.push(Xe[je]);for(Mt.sort(function(Ii,gt){return Ii.height-gt.height}),je=0;je<Mt.length&&(bt=Mt[je],Mi<nt);je++)Yi++,Mi+=ge[bt.id].height+bn,ge[bt.id].textBlock.text="",ge[bt.id].indexLabelText="",ge[bt.id].isDirty=!0,ge[bt.id].textBlock.measureText();return Yi}for(var pt,Ve,wt,Si,zt,Ue,jt=1,di=0;di<2*jt;di++){for(var Lt=ge.length-1;0<=Lt&&(0<=y(Lt)&&y(Lt),wt=ge[Lt],Si=wt.textBlock,Ue=(zt=v(Lt)<Xe.length?ge[v(Lt)]:null)?zt.textBlock:null,pt=+wt.height.toFixed(6),Ve=+Si.y.toFixed(6),!(!wt.isDirty&&zt&&Ve+pt+bn>+Ue.y.toFixed(6)&&(pt=Si.y+pt+bn-Ue.y,Ve=be(Lt,-pt),Ve<pt&&(0<Ve&&(pt-=Ve),Ve=be(v(Lt),pt),Ve!=pt))));Lt--);ve()}}function _(be,ve){return(ve<Xe.length?ge[ve].textBlock.y:w.reversed?At+W:vt+W)-(0>be?w.reversed?vt-W:At-W:ge[be].textBlock.y+ge[be].height+bn)}function T(be,ve,Re){var pt,Ve,wt,Si=[],zt=W,Ue=[];if(ve!==-1&&(0<=fi.indexOf(ve)?(Ve=fi.indexOf(ve),fi.splice(Ve,1)):(fi.push(ve),fi=fi.sort(function(Lt,nt){return Lt-nt}))),fi.length===0)Si=xa;else{Ve=W*(fi.length!=1||fi[0]!=0&&fi[0]!=Xe.length-1?2:1)/m();for(var jt=0;jt<Xe.length;jt++){if(fi.length==1&&fi[0]==0){if(jt===0){Si.push(xa[jt]),pt=zt;continue}}else jt===0&&(pt=-1*zt);Si.push(xa[jt]+pt),(0<=fi.indexOf(jt)||jt<Xe.length&&0<=fi.indexOf(jt+1))&&(pt+=Ve)}}wt=function(){for(var Lt=[],nt=0;nt<Xe.length;nt++)Lt.push(Si[nt]-Xe[nt].y1);return Lt}();var di={startTime:new Date().getTime(),duration:Re||500,easingFunction:function(Lt,nt,bt,je){return qe.easing.easeOutQuart(Lt,nt,bt,je)},changeSection:function(Lt){for(var nt,bt,je=0;je<Xe.length;je++)nt=wt[je],bt=Xe[je],nt*=Lt,typeof Ue[je]>"u"&&(Ue[je]=0),0>Ue&&(Ue*=-1),bt.y1+=nt-Ue[je],bt.y2+=nt-Ue[je],bt.y3+=nt-Ue[je],bt.y4+=nt-Ue[je],bt.y5&&(bt.y5+=nt-Ue[je],bt.y6+=nt-Ue[je]),Ue[je]=nt}};be._animator.animate(0,Re,function(Lt){var nt=be.plotArea.ctx||be.ctx;oo=!0,nt.clearRect(M.x1,M.y1,M.x2-M.x1,M.y2-M.y1),nt.fillStyle=be.backgroundColor,nt.fillRect(M.x1,M.y1,M.width,M.height),di.changeSection(Lt,ve);var bt={};for(bt.dataSeries=w,bt.dataPoint=w.reversed?w.dataPoints[R.length-1-ve]:w.dataPoints[ve],bt.index=w.reversed?R.length-1-ve:ve,be.toolTip.highlightObjects([bt]),bt=0;bt<Xe.length;bt++)Ri(nt,Xe[bt],w.fillOpacity);I(nt),te&&(w.indexLabelPlacement!=="inside"?f(nt):p(),k(nt)),1<=Lt&&(oo=!1)},null,qe.easing.easeOutQuart)}function m(){for(var be=0,ve=0;ve<Xe.length-1;ve++)(0<=fi.indexOf(ve)||0<=fi.indexOf(ve+1))&&be++;return be}function f(be){for(var ve,Re,pt,Ve,wt=0;wt<Xe.length;wt++)Ve=ge[wt].lineThickness%2===1?.5:0,Re=((Xe[wt].y2+Xe[wt].y4)/2<<0)+Ve,ve=h(Re).x2-1,pt=ge[wt].textBlock.x,Ve=(ge[wt].textBlock.y+ge[wt].height/2<<0)+Ve,ge[wt].isDirty||ge[wt].lineThickness==0||(be.strokeStyle=ge[wt].lineColor,be.lineWidth=ge[wt].lineThickness,be.setLineDash&&be.setLineDash(q(ge[wt].lineDashType,ge[wt].lineThickness)),be.beginPath(),be.moveTo(ve,Re),be.lineTo(pt,Ve),be.stroke())}function y(be){for(be-=1;-1<=be&&be!=-1&&ge[be].isDirty;be--);return be}function v(be){for(be+=1;be<=Xe.length&&be!=Xe.length&&ge[be].isDirty;be++);return be}function h(be){for(var ve,Re=0;Re<R.length;Re++)if(Xe[Re].y1<be&&Xe[Re].y4>be){ve=Xe[Re];break}return ve?(be=ve.y6&&be>ve.y6?ve.x3+(ve.x4-ve.x3)/(ve.y4-ve.y3)*(be-ve.y3):ve.x2+(ve.x3-ve.x2)/(ve.y3-ve.y2)*(be-ve.y2),{x1:be,x2:be}):-1}function k(be){for(var ve=0;ve<Xe.length;ve++)ge[ve].isDirty||(be&&(ge[ve].textBlock.ctx=be),ge[ve].textBlock.y+=ge[ve].textBlock._lineHeight/2,ge[ve].textBlock.render(!0),ge[ve].textBlock.y-=ge[ve].textBlock._lineHeight/2)}function I(be){if(E.plotArea.layoutManager.reset(),be.roundRect||u(be),E.title&&(E.title.dockInsidePlotArea||E.title.horizontalAlign==="center"&&E.title.verticalAlign==="center")&&(E.title.ctx=be,E.title.render()),E.subtitles)for(var ve=0;ve<E.subtitles.length;ve++){var Re=E.subtitles[ve];(Re.dockInsidePlotArea||Re.horizontalAlign==="center"&&Re.verticalAlign==="center")&&(E.subtitles.ctx=be,Re.render())}E.legend&&(E.legend.dockInsidePlotArea||E.legend.horizontalAlign==="center"&&E.legend.verticalAlign==="center")&&(E.legend.ctx=be,E.legend.setLayout(),E.legend.render()),Yt.fNg&&Yt.fNg(E)}var E=this;if(!(0>=n.dataSeriesIndexes.length)){for(var w=this.data[n.dataSeriesIndexes[0]],R=w.dataPoints,M=this.plotArea,W=.025*M.width,j=.01*M.width,V=0,le=M.height-2*W,ye=Math.min(M.width-2*j,2.8*M.height),te=!1,ie=0;ie<R.length;ie++)!te&&typeof R[ie].indexLabel<"u"&&R[ie].indexLabel!==null&&0<R[ie].indexLabel.toString().length&&(te=!0),!te&&typeof R[ie].label<"u"&&R[ie].label!==null&&0<R[ie].label.toString().length&&(te=!0),(!te&&typeof w.indexLabelFormatter=="function"||typeof R[ie].indexLabelFormatter=="function")&&(te=!0);te=te||typeof w.indexLabel<"u"&&w.indexLabel!==null&&0<w.indexLabel.toString().length,w.indexLabelPlacement!=="inside"&&te||(j=(M.width-.75*ye)/2);var ie=M.x1+j,G=M.x2-j,$=M.y1+W,N=M.y2-W,ae=n.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(w.length!=0&&w.dataPoints&&w.visible&&R.length!==0){var xe,Y;n=75*ye/100;var ut=30*(G-n)/100;w.type==="funnel"?(xe=b(w.options.neckHeight)?.35*le:w.neckHeight,Y=b(w.options.neckWidth)?.25*n:w.neckWidth,typeof xe=="string"&&xe.match(/%$/)?(xe=parseInt(xe),xe=xe*le/100):xe=parseInt(xe),typeof Y=="string"&&Y.match(/%$/)?(Y=parseInt(Y),Y=Y*n/100):Y=parseInt(Y),xe>le?xe=le:0>=xe&&(xe=0),Y>n?Y=n-.5:0>=Y&&(Y=0)):w.type==="pyramid"&&(Y=xe=0,w.reversed=!w.reversed);var j=ie+n/2,yt=ie,St=ie+n,At=w.reversed?N:$,Ye=j-Y/2,ei=j+Y/2,Tt=w.reversed?$+xe:N-xe,vt=w.reversed?$:N;Y=w.valueRepresents=w.valueRepresents?w.valueRepresents:"height",ie=[],n=[];var Xe=[],j=[],Xt=$,Gi,gi=(Tt-At)/(Ye-yt),On=-gi,ye=Y==="area"?r():d();if(ye!==-1){if(w.reversed)for(j.push(Xt),Y=ye.length-1;0<Y;Y--)Xt+=ye[Y],j.push(Xt);else for(Y=0;Y<ye.length;Y++)Xt+=ye[Y],j.push(Xt);if(w.reversed)for(Y=0;Y<ye.length;Y++)j[Y]<Tt?(ie.push(Ye),n.push(ei),Gi=Y):(ie.push((j[Y]-At+gi*yt)/gi),n.push((j[Y]-At+On*St)/On));else for(Y=0;Y<ye.length;Y++)j[Y]<Tt?(ie.push((j[Y]-At+gi*yt)/gi),n.push((j[Y]-At+On*St)/On),Gi=Y):(ie.push(Ye),n.push(ei));for(Y=0;Y<ye.length-1;Y++)Xt=w.reversed?R[R.length-1-Y].color?R[R.length-1-Y].color:w._colorSet[(R.length-1-Y)%w._colorSet.length]:R[Y].color?R[Y].color:w._colorSet[Y%w._colorSet.length],Y===Gi?Xe.push({x1:ie[Y],y1:j[Y],x2:n[Y],y2:j[Y],x3:ei,y3:Tt,x4:n[Y+1],y4:j[Y+1],x5:ie[Y+1],y5:j[Y+1],x6:Ye,y6:Tt,id:Y,height:j[Y+1]-j[Y],color:Xt}):Xe.push({x1:ie[Y],y1:j[Y],x2:n[Y],y2:j[Y],x3:n[Y+1],y3:j[Y+1],x4:ie[Y+1],y4:j[Y+1],id:Y,height:j[Y+1]-j[Y],color:Xt});var bn=2,ge=[],oo=!1,fi=[],xa=[],ie=!1;for(n=n=0,L(fi),Y=0;Y<R.length;Y++)R[Y].exploded&&(ie=!0,w.reversed?fi.push(R.length-1-Y):fi.push(Y));if(ae.clearRect(M.x1,M.y1,M.width,M.height),ae.fillStyle=E.backgroundColor,ae.fillRect(M.x1,M.y1,M.width,M.height),te&&w.visible&&(a(),p(),w.indexLabelPlacement!=="inside")){for(l(),g(),Y=0;Y<R.length;Y++)ge[Y].isDirty||(n=ge[Y].textBlock.x+ge[Y].width,n=(G-n)/2,Y==0&&(V=n),V>n&&(V=n));for(Y=0;Y<Xe.length;Y++)Xe[Y].x1+=V,Xe[Y].x2+=V,Xe[Y].x3+=V,Xe[Y].x4+=V,Xe[Y].x5&&(Xe[Y].x5+=V,Xe[Y].x6+=V),ge[Y].textBlock.x+=V}for(Y=0;Y<Xe.length;Y++)V=Xe[Y],Ri(ae,V,w.fillOpacity),xa.push(V.y1);if(I(ae),te&&w.visible&&(w.indexLabelPlacement==="inside"||E.animationEnabled||f(ae),E.animationEnabled||k()),!te)for(Y=0;Y<R.length;Y++)V=w.dataPointIds[Y],n={id:V,objectType:"dataPoint",dataPointIndex:Y,dataSeriesIndex:0,funnelSection:Xe[w.reversed?R.length-1-Y:Y]},E._eventManager.objectMap[V]=n;return(!E.animationEnabled&&ie||E.animationEnabled&&!E.animatedRender)&&T(E,-1,0),this.funnelPyramidClickHandler=function(pt){var Ve=-1;!oo&&!E.isAnimating&&(b(pt.dataSeries.explodeOnClick)||pt.dataSeries.explodeOnClick)&&(Ve=w.reversed?R.length-1-pt.dataPointIndex:pt.dataPointIndex,0<=Ve)&&(pt=Ve,(w.type==="funnel"||w.type==="pyramid")&&(w.reversed?R[R.length-1-pt].exploded=!R[R.length-1-pt].exploded:R[pt].exploded=!R[pt].exploded),T(E,Ve,500))},{source:ae,dest:this.plotArea.ctx,animationCallback:function(pt,Ve){qe.fadeInAnimation(pt,Ve),1<=pt&&(T(E,-1,500),I(E.plotArea.ctx||E.ctx))},easingFunction:qe.easing.easeInQuad,animationBase:0}}}}},P.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),P.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,P.prototype.set=function(n,d,r){r=typeof r>"u"?!0:r,n==="options"?(this.options=d,r&&this.render()):P.base.set.call(this,n,d,r)},P.prototype.exportChart=function(n){n=typeof n>"u"?{}:n;var d=n.format?n.format:"png",r=n.fileName?n.fileName:this.exportFileName;if(n.toDataURL)return this.canvas.toDataURL("image/"+d);var a=this.canvas;if(a&&d&&r){r=r+"."+d,n="image/"+d;var a=a.toDataURL(n),l=!1,p=document.createElement("a");if(p.download=r,p.href=a,typeof Blob<"u"&&new Blob){for(var g=a.replace(/^data:[a-z\/]*;base64,/,""),g=atob(g),_=new ArrayBuffer(g.length),_=new Uint8Array(_),T=0;T<g.length;T++)_[T]=g.charCodeAt(T);d=new Blob([_.buffer],{type:"image/"+d});try{window.navigator.msSaveBlob(d,r),l=!0}catch{p.dataset.downloadurl=[n,p.download,p.href].join(":"),p.href=window.URL.createObjectURL(d)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent?p.dispatchEvent(event):p.fireEvent&&p.fireEvent("onclick")}catch{d=window.open(),d.document.write("<img src='"+a+"'></img><div>Please right click on the image and save it to your device</div>"),d.document.close()}}},P.prototype.print=function(){var n=this.exportChart({toDataURL:!0}),d=document.createElement("iframe");d.setAttribute("class","canvasjs-chart-print-frame"),me(d,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),d.style.height=this.height+"px",this._canvasJSContainer.appendChild(d);var r=this,a=d.contentWindow||d.contentDocument.document||d.contentDocument;a.document.open(),a.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+n+'"/><body/></html>'),a.document.body&&a.document.body.style&&(a.document.body.style.margin="0px 0px 0px 0px",a.document.body.style.padding="0px 0px 0px 0px"),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){r._canvasJSContainer.removeChild(d)},1e3)},500)},P.prototype.getPercentAndTotal=function(n,d){var r=null,a=null,l=r=null;if(0<=n.type.indexOf("stacked"))a=0,r=d.x.getTime?d.x.getTime():d.x,r in n.plotUnit.yTotals&&(a=n.plotUnit.yTotals[r],r=n.plotUnit.yAbsTotals[r],l=isNaN(d.y)||r===0?0:100*(d.y/r));else if(n.type==="pie"||n.type==="doughnut"||n.type==="funnel"||n.type==="pyramid"){for(r=a=0;r<n.dataPoints.length;r++)isNaN(n.dataPoints[r].y)||(a+=n.dataPoints[r].y);l=isNaN(d.y)?0:100*(d.y/a)}return{percent:l,total:a}},P.prototype.replaceKeywordsWithValue=function(n,d,r,a,l){var p=this;if(l=typeof l>"u"?0:l,(0<=r.type.indexOf("stacked")||r.type==="pie"||r.type==="doughnut"||r.type==="funnel"||r.type==="pyramid")&&(0<=n.indexOf("#percent")||0<=n.indexOf("#total"))){var T="#percent",_="#total",g=this.getPercentAndTotal(r,d),_=isNaN(g.total)?_:g.total,T=isNaN(g.percent)?T:g.percent;do{if(g="",r.percentFormatString)g=r.percentFormatString;else{var g="#,##0.",m=Math.max(Math.ceil(Math.log(1/Math.abs(T))/Math.LN10),2);(isNaN(m)||!isFinite(m))&&(m=2);for(var f=0;f<m;f++)g+="#";r.percentFormatString=g}n=n.replace("#percent",Ge(T,g,p._cultureInfo)),n=n.replace("#total",Ge(_,r.yValueFormatString?r.yValueFormatString:"#,##0.########",p._cultureInfo))}while(0<=n.indexOf("#percent")||0<=n.indexOf("#total"))}return n.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(y){if(y[0]==='"'&&y[y.length-1]==='"'||y[0]==="'"&&y[y.length-1]==="'")return y.slice(1,y.length-1);y=c(y.slice(1,y.length-1)),y=y.replace("#index",l);var v=null;try{var h=y.match(/(.*?)\s*\[\s*(.*?)\s*\]/);h&&0<h.length&&(v=c(h[2]),y=c(h[1]))}catch{}if(h=null,y==="color")return r.type==="waterfall"?d.color?d.color:0<d.y?r.risingColor:r.fallingColor:r.type==="error"?r.color?r.color:r._colorSet[v%r._colorSet.length]:d.color?d.color:r.color?r.color:r._colorSet[a%r._colorSet.length];if(d.hasOwnProperty(y))h=d;else if(r.hasOwnProperty(y))h=r;else return"";return h=h[y],v!==null&&(h=h[v]),y==="x"?(r.axisX&&r.axisX.valueType==="dateTime"||r.xValueType==="dateTime"||d.x&&d.x.getTime)&&!r.axisX.logarithmic?it(h,d.xValueFormatString?d.xValueFormatString:r.xValueFormatString?r.xValueFormatString:r.xValueFormatString=p.axisX&&p.axisX.autoValueFormatString?p.axisX.autoValueFormatString:"DD MMM YY",p._cultureInfo):Ge(h,d.xValueFormatString?d.xValueFormatString:r.xValueFormatString?r.xValueFormatString:r.xValueFormatString="#,##0.########",p._cultureInfo):y==="y"?Ge(h,d.yValueFormatString?d.yValueFormatString:r.yValueFormatString?r.yValueFormatString:r.yValueFormatString="#,##0.########",p._cultureInfo):y==="z"?Ge(h,d.zValueFormatString?d.zValueFormatString:r.zValueFormatString?r.zValueFormatString:r.zValueFormatString="#,##0.########",p._cultureInfo):h})},e(Se,et),Se.prototype.setLayout=function(){var n=this.dockInsidePlotArea?this.chart.plotArea:this.chart,d=n.layoutManager.getFreeSpace(),r=null,a=0,l=0,p=0,g=0,_=this.markerMargin=this.chart.options.legend&&!b(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var T=[],m=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",r=this.verticalAlign,p=this.maxWidth=this.maxWidth!==null?this.maxWidth:d.width,g=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*d.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(r=this.horizontalAlign),p=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*d.width,g=this.maxHeight=this.maxHeight!==null?this.maxHeight:d.height),this.errorMarkerColor=[];for(var f=0;f<this.dataSeries.length;f++){var y=this.dataSeries[f];if(y.dataPoints&&y.dataPoints.length)if(y.type!=="pie"&&y.type!=="doughnut"&&y.type!=="funnel"&&y.type!=="pyramid"){var v=y.legendMarkerType=y.legendMarkerType?y.legendMarkerType:y.type!=="line"&&y.type!=="stepLine"&&y.type!=="spline"&&y.type!=="scatter"&&y.type!=="bubble"||!y.markerType?y.type==="error"&&y._linkedSeries?y._linkedSeries.legendMarkerType?y._linkedSeries.legendMarkerType:Oe.getDefaultLegendMarker(y._linkedSeries.type):Oe.getDefaultLegendMarker(y.type):y.markerType,h=y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:null}):y.name,k=y.legendMarkerColor=y.legendMarkerColor?y.legendMarkerColor:y.markerColor?y.markerColor:y.type==="error"?b(y.whiskerColor)?y._colorSet[0]:y.whiskerColor:y._colorSet[0],I=y.markerSize||y.type!=="line"&&y.type!=="stepLine"&&y.type!=="spline"?.75*this.lineHeight:0,E=y.legendMarkerBorderColor?y.legendMarkerBorderColor:y.markerBorderColor,w=y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:y.markerBorderThickness?Math.max(1,Math.round(.2*I)):0;y.type==="error"&&this.errorMarkerColor.push(k),h=this.chart.replaceKeywordsWithValue(h,y.dataPoints[0],y,f),v={markerType:v,markerColor:k,text:h,textBlock:null,chartType:y.type,markerSize:I,lineColor:y._colorSet[0],dataSeriesIndex:y.index,dataPointIndex:null,markerBorderColor:E,markerBorderThickness:w},T.push(v)}else for(var R=0;R<y.dataPoints.length;R++){var M=y.dataPoints[R],v=M.legendMarkerType?M.legendMarkerType:y.legendMarkerType?y.legendMarkerType:Oe.getDefaultLegendMarker(y.type),h=M.legendText?M.legendText:y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:M}):M.name?M.name:"DataPoint: "+(R+1),k=M.legendMarkerColor?M.legendMarkerColor:y.legendMarkerColor?y.legendMarkerColor:M.color?M.color:y.color?y.color:y._colorSet[R%y._colorSet.length],I=.75*this.lineHeight,E=M.legendMarkerBorderColor?M.legendMarkerBorderColor:y.legendMarkerBorderColor?y.legendMarkerBorderColor:M.markerBorderColor?M.markerBorderColor:y.markerBorderColor,w=M.legendMarkerBorderThickness?M.legendMarkerBorderThickness:y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:M.markerBorderThickness||y.markerBorderThickness?Math.max(1,Math.round(.2*I)):0,h=this.chart.replaceKeywordsWithValue(h,M,y,R),v={markerType:v,markerColor:k,text:h,textBlock:null,chartType:y.type,markerSize:I,dataSeriesIndex:f,dataPointIndex:R,markerBorderColor:E,markerBorderThickness:w};(M.showInLegend||y.showInLegend&&M.showInLegend!==!1)&&T.push(v)}}if(this.reversed===!0&&T.reverse(),0<T.length){for(y=null,h=M=R=0,M=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,p):this.itemMaxWidth=Math.min(this.itemWidth,p):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,p):this.itemMaxWidth=p,I=I===0?.75*this.lineHeight:I,M=(this.itemMaxWidth?this.itemMaxWidth:M)-(I+_),f=0;f<T.length;f++)v=T[f],k=M,(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine")&&(k-=2*.1*this.lineHeight),0>=g||typeof g>"u"||0>=k||typeof k>"u"||(this.orientation==="horizontal"?(v.textBlock=new Le(this.ctx,{x:0,y:0,maxWidth:k,maxHeight:this.itemWrap?g:this.lineHeight,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),this.itemWidth!==null&&(v.textBlock.width=this.itemWidth-(I+_+(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!y||y.width+Math.round(v.textBlock.width+I+_+(y.width===0?0:this.horizontalSpacing)+(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine"?2*.1*this.lineHeight:0))>p)&&(y={items:[],width:0},m.push(y),this.height+=h,h=0),h=Math.max(h,v.textBlock.height?v.textBlock.height:this.lineHeight),v.textBlock.x=y.width,v.textBlock.y=0,y.width+=Math.round(v.textBlock.width+I+_+(y.width===0?0:this.horizontalSpacing)+(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine"?2*.1*this.lineHeight:0)),y.items.push(v),this.width=Math.max(y.width,this.width)):(v.textBlock=new Le(this.ctx,{x:0,y:0,maxWidth:M,maxHeight:this.itemWrap===!0?g:1.5*this.fontSize,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),this.itemWidth!==null&&(v.textBlock.width=this.itemWidth-(I+_+(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<g-this.lineHeight?(y={items:[],width:0},m.push(y)):(y=m[R],R=(R+1)%m.length),y&&(this.height+=v.textBlock.height?v.textBlock.height:this.lineHeight,v.textBlock.x=y.width,v.textBlock.y=0,y.width+=Math.round(v.textBlock.width+I+_+(y.width===0?0:this.horizontalSpacing)+(v.chartType==="line"||v.chartType==="spline"||v.chartType==="stepLine"?2*.1*this.lineHeight:0)),y.items.push(v),this.width=Math.max(y.width,this.width))));this.height=this.itemWrap===!1?m.length*this.lineHeight:this.height+h,this.height=Math.min(g,this.height),this.width=Math.min(p,this.width)}for(this.verticalAlign==="top"?(l=this.horizontalAlign==="left"?d.x1:this.horizontalAlign==="right"?d.x2-this.width:d.x1+d.width/2-this.width/2,a=d.y1):this.verticalAlign==="center"?(l=this.horizontalAlign==="left"?d.x1:this.horizontalAlign==="right"?d.x2-this.width:d.x1+d.width/2-this.width/2,a=d.y1+d.height/2-this.height/2):this.verticalAlign==="bottom"&&(l=this.horizontalAlign==="left"?d.x1:this.horizontalAlign==="right"?d.x2-this.width:d.x1+d.width/2-this.width/2,a=d.y2-this.height),this.items=T,f=0;f<this.items.length;f++)v=T[f],v.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[v.id]={id:v.id,objectType:"legendItem",legendItemIndex:f,dataSeriesIndex:v.dataSeriesIndex,dataPointIndex:v.dataPointIndex};this.markerSize=I,this.rows=m,0<T.length&&n.layoutManager.registerSpace(r,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:a,x2:l+this.width,y2:a+this.height}},Se.prototype.render=function(){var n=this.bounds.x1,d=this.bounds.y1,r=this.markerMargin,a=this.maxWidth,l=this.maxHeight,p=this.markerSize,g=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(n,d,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var _=0,T=0;T<g.length;T++){for(var m=g[T],f=0,y=0;y<m.items.length;y++){var v=m.items[y],h=v.textBlock.x+n+(y===0?.2*p:this.horizontalSpacing),k=d+_,I=h;if(this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(n,d,a,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),(v.chartType==="line"||v.chartType==="stepLine"||v.chartType==="spline")&&(this.ctx.strokeStyle=v.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(h-.1*this.lineHeight,k+this.lineHeight/2),this.ctx.lineTo(h+.85*this.lineHeight,k+this.lineHeight/2),this.ctx.stroke(),I-=.1*this.lineHeight),v.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=p/8,this.ctx.beginPath();var E=h-.08*this.lineHeight+.1*this.lineHeight,w=k+.15*this.lineHeight,R=.7*this.lineHeight,M=R+.02*this.lineHeight;this.ctx.moveTo(E,w),this.ctx.lineTo(E+R,w),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(E+R/2,w),this.ctx.lineTo(E+R/2,w+M),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(E,w+M),this.ctx.lineTo(E+R,w+M),this.ctx.stroke(),this.errorMarkerColor.shift()}Ut.drawMarker(h+p/2,k+this.lineHeight/2,this.ctx,v.markerType,v.chartType==="error"||v.chartType==="line"||v.chartType==="spline"?v.markerSize/2:v.markerSize,v.markerColor,v.markerBorderColor,v.markerBorderThickness),v.textBlock.x=h+r+p,(v.chartType==="line"||v.chartType==="stepLine"||v.chartType==="spline")&&(v.textBlock.x+=.1*this.lineHeight),v.textBlock.y=Math.round(k+this.lineHeight/2),v.textBlock.render(!0),this.ctx.restore(),f=0<y?Math.max(f,v.textBlock.height?v.textBlock.height:this.lineHeight):v.textBlock.height?v.textBlock.height:this.lineHeight,this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),h=C(v.id),this.ghostCtx.fillStyle=h,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(I,v.textBlock.y-this.lineHeight/2,v.textBlock.x+v.textBlock.width-I,v.textBlock.height?v.textBlock.height:this.lineHeight),v.x1=this.chart._eventManager.objectMap[v.id].x1=I,v.y1=this.chart._eventManager.objectMap[v.id].y1=v.textBlock.y-this.lineHeight/2,v.x2=this.chart._eventManager.objectMap[v.id].x2=v.textBlock.x+v.textBlock.width,v.y2=this.chart._eventManager.objectMap[v.id].y2=v.textBlock.y+(v.textBlock.height?v.textBlock.height:this.lineHeight)-this.lineHeight/2}_+=f}},e(Oe,et),Oe.prototype.getDefaultAxisPlacement=function(){var n=this.type;return n==="column"||n==="line"||n==="stepLine"||n==="spline"||n==="area"||n==="stepArea"||n==="splineArea"||n==="stackedColumn"||n==="stackedLine"||n==="bubble"||n==="scatter"||n==="stackedArea"||n==="stackedColumn100"||n==="stackedLine100"||n==="stackedArea100"||n==="candlestick"||n==="ohlc"||n==="rangeColumn"||n==="rangeArea"||n==="rangeSplineArea"||n==="boxAndWhisker"||n==="waterfall"?"normal":n==="bar"||n==="stackedBar"||n==="stackedBar100"||n==="rangeBar"?"xySwapped":n==="pie"||n==="doughnut"||n==="funnel"||n==="pyramid"?"none":(n!=="error"&&window.console.log("Unknown Chart Type: "+n),null)},Oe.getDefaultLegendMarker=function(n){return n==="column"||n==="stackedColumn"||n==="stackedLine"||n==="bar"||n==="stackedBar"||n==="stackedBar100"||n==="bubble"||n==="scatter"||n==="stackedColumn100"||n==="stackedLine100"||n==="stepArea"||n==="candlestick"||n==="ohlc"||n==="rangeColumn"||n==="rangeBar"||n==="rangeArea"||n==="rangeSplineArea"||n==="boxAndWhisker"||n==="waterfall"?"square":n==="line"||n==="stepLine"||n==="spline"||n==="pie"||n==="doughnut"?"circle":n==="area"||n==="splineArea"||n==="stackedArea"||n==="stackedArea100"||n==="funnel"||n==="pyramid"?"triangle":n==="error"?"none":(window.console.log("Unknown Chart Type: "+n),null)},Oe.prototype.getDataPointAtX=function(n,d){if(!this.dataPoints||this.dataPoints.length===0)return null;var r={dataPoint:null,distance:1/0,index:NaN},a=null,l=0,p=0,g=1,_=1/0,T=0,m=0,f=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(f=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),f=1<f?Math.min(Math.max((this.dataPoints.length-1)/f*Math.log(n/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(f=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,f=0<f?Math.min(Math.max((this.dataPoints.length-1)/f*(n-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(p=0<g?f+l:f-l,0<=p&&p<this.dataPoints.length){var a=this.dataPoints[p],y=this.axisX.logarithmic?a.x>n?a.x/n:n/a.x:Math.abs(a.x-n);if(y<r.distance&&(r.dataPoint=a,r.distance=y,r.index=p),a=y,a<=_?_=a:0<g?T++:m++,1e3<T&&1e3<m)break}else if(0>f-l&&f+l>=this.dataPoints.length)break;g===-1?(l++,g=1):g=-1}return d||(r.dataPoint.x.getTime?r.dataPoint.x.getTime():r.dataPoint.x)!==(n.getTime?n.getTime():n)?d&&r.dataPoint!==null?r:null:r},Oe.prototype.getDataPointAtXY=function(n,d,r){if(!this.dataPoints||this.dataPoints.length===0||n<this.chart.plotArea.x1||n>this.chart.plotArea.x2||d<this.chart.plotArea.y1||d>this.chart.plotArea.y2)return null;r=r||!1;var a=[],l=0,p=0,g=1,_=!1,T=1/0,m=0,f=0,v=0;if(this.chart.plotInfo.axisPlacement!=="none")if(v=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:n,y:d}),this.axisX.logarithmic)var y=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),v=1<y?Math.min(Math.max((this.dataPoints.length-1)/y*Math.log(v/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else y=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,v=0<y?Math.min(Math.max((this.dataPoints.length-1)/y*(v-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(p=0<g?v+l:v-l,0<=p&&p<this.dataPoints.length){var y=this.chart._eventManager.objectMap[this.dataPointIds[p]],h=this.dataPoints[p],k=null;if(y){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":n>=y.x1&&n<=y.x2&&d>=y.y1&&d<=y.y2&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-n),Math.abs(y.x2-n),Math.abs(y.y1-d),Math.abs(y.y2-d))}),_=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var I=pe("markerSize",h,this)||4,E=r?20:I,k=Math.sqrt(Math.pow(y.x1-n,2)+Math.pow(y.y1-d,2));k<=E&&a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:k}),y=Math.abs(y.x1-n),y<=T?T=y:0<g?m++:f++,k<=I/2&&(_=!0);break;case"rangeArea":case"rangeSplineArea":I=pe("markerSize",h,this)||4,E=r?20:I,k=Math.min(Math.sqrt(Math.pow(y.x1-n,2)+Math.pow(y.y1-d,2)),Math.sqrt(Math.pow(y.x1-n,2)+Math.pow(y.y2-d,2))),k<=E&&a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:k}),y=Math.abs(y.x1-n),y<=T?T=y:0<g?m++:f++,k<=I/2&&(_=!0);break;case"bubble":I=y.size,k=Math.sqrt(Math.pow(y.x1-n,2)+Math.pow(y.y1-d,2)),k<=I/2&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:k}),_=!0);break;case"pie":case"doughnut":I=y.center,E=this.type==="doughnut"?y.percentInnerRadius*y.radius:0,k=Math.sqrt(Math.pow(I.x-n,2)+Math.pow(I.y-d,2)),k<y.radius&&k>E&&(k=Math.atan2(d-I.y,n-I.x),0>k&&(k+=2*Math.PI),k=Number(((180*(k/Math.PI)%360+360)%360).toFixed(12)),I=Number(((180*(y.startAngle/Math.PI)%360+360)%360).toFixed(12)),E=Number(((180*(y.endAngle/Math.PI)%360+360)%360).toFixed(12)),E===0&&1<y.endAngle&&(E=360),I>=E&&h.y!==0&&!b(h.y)&&(E+=360,k<I&&(k+=360)),k>I&&k<E&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:0}),_=!0));break;case"funnel":case"pyramid":k=y.funnelSection,d>k.y1&&d<k.y4&&(k.y6?d>k.y6?(p=k.x6+(k.x5-k.x6)/(k.y5-k.y6)*(d-k.y6),k=k.x3+(k.x4-k.x3)/(k.y4-k.y3)*(d-k.y3)):(p=k.x1+(k.x6-k.x1)/(k.y6-k.y1)*(d-k.y1),k=k.x2+(k.x3-k.x2)/(k.y3-k.y2)*(d-k.y2)):(p=k.x1+(k.x4-k.x1)/(k.y4-k.y1)*(d-k.y1),k=k.x2+(k.x3-k.x2)/(k.y3-k.y2)*(d-k.y2)),n>p&&n<k&&(a.push({dataPoint:h,dataPointIndex:y.dataPointIndex,dataSeries:this,distance:0}),_=!0));break;case"boxAndWhisker":(n>=y.x1-y.borderThickness/2&&n<=y.x2+y.borderThickness/2&&d>=y.y4-y.borderThickness/2&&d<=y.y1+y.borderThickness/2||Math.abs(y.x2-n+y.x1-n)<y.borderThickness&&d>=y.y1&&d<=y.y4)&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-n),Math.abs(y.x2-n),Math.abs(y.y2-d),Math.abs(y.y3-d))}),_=!0);break;case"candlestick":(n>=y.x1-y.borderThickness/2&&n<=y.x2+y.borderThickness/2&&d>=y.y2-y.borderThickness/2&&d<=y.y3+y.borderThickness/2||Math.abs(y.x2-n+y.x1-n)<y.borderThickness&&d>=y.y1&&d<=y.y4)&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-n),Math.abs(y.x2-n),Math.abs(y.y2-d),Math.abs(y.y3-d))}),_=!0);break;case"ohlc":(Math.abs(y.x2-n+y.x1-n)<y.borderThickness&&d>=y.y2&&d<=y.y3||n>=y.x1&&n<=(y.x2+y.x1)/2&&d>=y.y1-y.borderThickness/2&&d<=y.y1+y.borderThickness/2||n>=(y.x1+y.x2)/2&&n<=y.x2&&d>=y.y4-y.borderThickness/2&&d<=y.y4+y.borderThickness/2)&&(a.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-n),Math.abs(y.x2-n),Math.abs(y.y2-d),Math.abs(y.y3-d))}),_=!0)}if(_||1e3<m&&1e3<f)break}}else if(0>v-l&&v+l>=this.dataPoints.length)break;g===-1?(l++,g=1):g=-1}for(n=null,d=0;d<a.length;d++)n?a[d].distance<=n.distance&&(n=a[d]):n=a[d];return n},Oe.prototype.getMarkerProperties=function(n,d,r,a){var l=this.dataPoints,p=l[n].markerColor?l[n].markerColor:this.markerColor?this.markerColor:l[n].color?l[n].color:this.color?this.color:this._colorSet[n%this._colorSet.length],g=l[n].markerBorderColor?l[n].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,_=b(l[n].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:l[n].markerBorderThickness,T=l[n].markerType?l[n].markerType:this.markerType;return n=b(l[n].markerSize)?this.markerSize:l[n].markerSize,{x:d,y:r,ctx:a,type:T,size:n,color:p,borderColor:g,borderThickness:_}},e(fe,et),fe.prototype.createExtraLabelsForLog=function(n){if(n=(n||0)+1,!(5<n)){var d=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(d/this.viewportMinimum)<this.noTicks-1){for(var r=fe.getNiceNumber((d-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/r)*r;a<d;a+=r)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(x),this.createExtraLabelsForLog(n)}}},fe.prototype.createLabels=function(){var n,d,r=0,g=0,a,l=0,p=0,g=0,g=this.interval,_=0,T,m=.6*this.chart.height,f;n=!1;var y=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],v=y.length?b(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(a=this.viewportMaximum,this.labels){n=Math.ceil(g);for(var g=Math.ceil(this.intervalStartPosition),h=!1,r=g;r<this.viewportMaximum;r+=n)if(this.labels[r])h=!0;else{h=!1;break}h&&(this.interval=n,this.intervalStartPosition=g)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),g=0,h=v;g<this.logLabelValues.length;g++)if(r=this.logLabelValues[g],r<this.viewportMinimum)g++;else{for(;h<y.length&&r>y[h].endValue;h++);n=h<y.length&&r>=y[h].startValue&&r<=y[h].endValue,f=r,n||(n=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:f,label:this.labels[f]?this.labels[f]:null}):this.type==="axisX"&&this.labels[f]?this.labels[f]:Ge(f,this.valueFormatString,this.chart._cultureInfo),n=new Le(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+n+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:f,textBlock:n,effectiveHeight:null}))}for(h=v,r=this.intervalStartPosition;r<=a;r=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?r*Math.pow(this.logarithmBase,this.interval):r+this.interval:(this.logarithmic&&this.equidistantInterval?r*Math.pow(this.logarithmBase,this.interval):r+this.interval).toFixed(12))){for(;h<y.length&&r>y[h].endValue;h++);n=h<y.length&&r>=y[h].startValue&&r<=y[h].endValue,f=r,n||(n=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:f,label:this.labels[f]?this.labels[f]:null}):this.type==="axisX"&&this.labels[f]?this.labels[f]:Ge(f,this.valueFormatString,this.chart._cultureInfo),n=new Le(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+n+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:f,textBlock:n,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),a=s(new Date(this.viewportMaximum),this.interval,this.intervalType),h=v,r=this.intervalStartPosition;r<a;s(r,g,this.intervalType)){for(n=r.getTime();h<y.length&&n>y[h].endValue;h++);f=n,n=h<y.length&&n>=y[h].startValue&&n<=y[h].endValue,n||(n=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(f),label:this.labels[f]?this.labels[f]:null}):this.type==="axisX"&&this.labels[f]?this.labels[f]:it(f,this.valueFormatString,this.chart._cultureInfo),n=new Le(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:p,angle:this.labelAngle,text:this.prefix+n+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:f,textBlock:n,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*se[this.intervalType+"Duration"]*this.interval,l=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(p=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):(this._position==="left"||this._position==="right")&&(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*se[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),g=0;g<this._labels.length;g++){n=this._labels[g].textBlock,n.maxWidth=l,n.maxHeight=p;var k=n.measureText();T=k.height}if(a=[],v=y=0,this.labelAutoFit||this.options.labelAutoFit){if(b(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(l=.9*_>>0,v=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){n=this._labels[r].textBlock;for(var I,h=n.text.split(" "),g=0;g<h.length;g++)f=h[g],this.ctx.font=n.fontStyle+" "+n.fontWeight+" "+n.fontSize+"px "+n.fontFamily,f=this.ctx.measureText(f),f.width>v&&(I=r,v=f.width)}for(r=0,r=this.intervalStartPosition<this.viewportMinimum?1:0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){for(n=this._labels[r].textBlock,k=n.measureText(),h=r+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=this._labels[h].textBlock,d=d.measureText();break}if(a.push(n.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,a),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-n.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),b(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),f=(m-(T+n.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!b(this.options.labelWrap))this.labelWrap?b(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),f),this.sessionVariables.labelWrap=this.labelWrap,d&&k.width+d.width>>0>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):b(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,d&&k.width+d.width>>0>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=f)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=this.labelWrap);else if(b(this.options.labelWrap)){if(!b(this.options.labelMaxWidth))this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p);else if(!b(d)){if(g=k.width+d.width>>0,h=this.labelFontSize,v<l)g-2*l>y&&(y=g-2*l,g>=2*l&&g<2.2*l?(this.sessionVariables.labelMaxWidth=l,b(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=2.2*l&&g<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=f,this.sessionVariables.labelFontSize=h):g>=2.8*l&&g<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,v),this.sessionVariables.labelWrap=!0,b(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=3.2*l&&g<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=f,this.sessionVariables.labelFontSize=this.labelFontSize):g>3.6*l&&g<5*l?(b(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=f):g>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle));else if(I===r&&(I===0&&v+this._labels[I+1].textBlock.measureText().width-2*l>y||I===this._labels.length-1&&v+this._labels[I-1].textBlock.measureText().width-2*l>y||0<I&&I<this._labels.length-1&&v+this._labels[I+1].textBlock.measureText().width-2*l>y&&v+this._labels[I-1].textBlock.measureText().width-2*l>y))y=I===0?v+this._labels[I+1].textBlock.measureText().width-2*l:v+this._labels[I-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=f;else if(y===0)for(this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,g=0;g<this._labels.length;g++)n=this._labels[g].textBlock,n.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),f),k=n.measureText(),g<this._labels.length-1&&(h=g+1,d=this._labels[h].textBlock,d.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),f),d=d.measureText(),k.width+d.width>>0>2*l&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),f=this.labelAngle!=0?(m-(T+n.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=this.labelWrap?(m-f*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,b(this.options.labelWrap)?b(this.options.labelWrap)&&(this.labelWrap&&!b(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:f,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=f,this.sessionVariables.labelMaxHeight=g<.9*_?.9*_:g,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:f):(b(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:f,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=p)}for(g=0;g<this._labels.length;g++)n=this._labels[g].textBlock,n.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,n.fontSize=this.sessionVariables.labelFontSize,n.angle=this.labelAngle=this.sessionVariables.labelAngle,n.wrap=this.labelWrap=this.sessionVariables.labelWrap,n.maxHeight=this.sessionVariables.labelMaxHeight,n.measureText()}else for(r=0;r<this._labels.length;r++)n=this._labels[r].textBlock,n.maxWidth=this.labelMaxWidth=b(this.options.labelMaxWidth)?b(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,n.fontSize=this.labelFontSize=b(this.options.labelFontSize)?b(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,n.angle=this.labelAngle=b(this.options.labelAngle)?b(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,n.wrap=this.labelWrap=b(this.options.labelWrap)?b(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,n.maxHeight=b(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,n.measureText();else if(this._position==="left"||this._position==="right")if(l=b(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=b(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){for(n=this._labels[r].textBlock,k=n.measureText(),h=r+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=this._labels[h].textBlock,d=d.measureText();break}a.push(n.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,a),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-n.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),b(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?b(this.options.labelWrap)?b(this.options.labelWrap)&&(b(this.options.labelMaxWidth)?b(d)||(_=k.height+d.height>>0,_-2*p>v&&(v=_-2*p,_>=2*p&&_<2.4*p?(b(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),n.measureText()),this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):_>=2.4*p&&_<2.8*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):_>=2.8*p&&_<3.2*p?(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=!0,b(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=b(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>=3.2*p&&_<3.6*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):_>3.6*p&&_<10*p?(b(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=b(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>10*p&&_<50*p&&(b(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),n.measureText()),this.sessionVariables.labelFontSize=b(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=b(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?l:Math.min((g-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p),b(this.options.labelWrap)?b(this.options.labelWrap)&&(this.labelWrap&&!b(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=this.labelAngle===0?p:g,b(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?p:g,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=p,b(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(g=0;g<this._labels.length;g++)n=this._labels[g].textBlock,n.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,n.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,n.angle=this.labelAngle=this.sessionVariables.labelAngle,n.wrap=this.labelWrap=this.sessionVariables.labelWrap,n.maxHeight=this.sessionVariables.labelMaxHeight,n.measureText()}else for(b(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=p),r=0;r<this._labels.length;r++)n=this._labels[r].textBlock,n.maxWidth=this.labelMaxWidth=b(this.options.labelMaxWidth)?b(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,n.fontSize=this.labelFontSize=b(this.options.labelFontSize)?b(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,n.angle=this.labelAngle=b(this.options.labelAngle)?b(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,n.wrap=this.labelWrap=b(this.options.labelWrap)?b(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,n.maxHeight=b(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,n.measureText()}for(r=0;r<this.stripLines.length;r++){var l=this.stripLines[r],E;l.labelPlacement==="outside"?(p=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(b(l.options.labelWrap)&&!b(this.sessionVariables.stripLineLabelMaxHeight)?E=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=E=l.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),(this._position==="left"||this._position==="right")&&(b(l.options.labelWrap)&&!b(this.sessionVariables.stripLineLabelMaxHeight)?E=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=E=l.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),b(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(p=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,E=b(l.options.labelWrap)||l.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,b(l.labelBackgroundColor)&&(b(l.startValue)&&l.startValue!==0?l.labelBackgroundColor=X?"transparent":null:l.labelBackgroundColor="#EEEEEE")),n=new Le(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:p,maxHeight:E,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,textAlign:this.labelTextAlign,fontSize:l.labelPlacement==="outside"?l.options.labelFontSize?l.labelFontSize:this.labelFontSize:l.labelFontSize,fontFamily:l.labelPlacement==="outside"?l.options.labelFontFamily?l.labelFontFamily:this.labelFontFamily:l.labelFontFamily,fontWeight:l.labelPlacement==="outside"?l.options.labelFontWeight?l.labelFontWeight:this.labelFontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:l.labelPlacement==="outside"?l.options.labelFontStyle?l.labelFontStyle:this.fontWeight:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:n,effectiveHeight:null,stripLine:l})}},fe.prototype.createLabelsAndCalculateWidth=function(){var n=0,d=0;this._labels=[],this._stripLineLabels=[];var r=this.chart.isNavigator?0:5;if(this._position==="left"||this._position==="right"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(d=0;d<this._labels.length;d++){var a=this._labels[d].textBlock,l=a.measureText(),p=0,p=this.labelAngle===0?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));n<p&&(this.labelEffectiveWidth=n=p),this._labels[d].effectiveWidth=p}for(d=0;d<this._stripLineLabels.length;d++)this._stripLineLabels[d].stripLine.labelPlacement==="outside"&&this._stripLineLabels[d].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[d].stripLine.value<=this.viewportMaximum&&(a=this._stripLineLabels[d].textBlock,l=a.measureText(),p=this.labelAngle===0?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(p+=this.tickLength),this.labelPlacement==="inside"&&(n+=0<this._index?p:0),n<p&&(n=p),this.stripLineLabelEffectiveWidth=this._stripLineLabels[d].effectiveWidth=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+n+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+r},fe.prototype.createLabelsAndCalculateHeight=function(){var n=0;this._labels=[],this._stripLineLabels=[];var d,r=0,a=this.chart.isNavigator?0:5;if(this._position==="bottom"||this._position==="top"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(r=0;r<this._labels.length;r++){d=this._labels[r].textBlock;var l=d.measureText(),p=0,p=this.labelAngle===0?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-d.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));n<p&&(this.labelEffectiveHeight=n=p),this._labels[r].effectiveHeight=p}for(r=0;r<this._stripLineLabels.length;r++)this._stripLineLabels[r].stripLine.labelPlacement==="outside"&&this._stripLineLabels[r].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[r].stripLine.value<=this.viewportMaximum&&(d=this._stripLineLabels[r].textBlock,l=d.measureText(),p=this.labelAngle===0?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-d.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(p+=this.tickLength),this.labelPlacement==="inside"&&(n+=0<this._index?p:0),n<p&&(n=p),this.stripLineLabelEffectiveHeight=this._stripLineLabels[r].effectiveHeight=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+n+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+a},fe.setLayout=function(n,d,r,a,l,p){var g,_,T,m,f=n[0]?n[0].chart:d[0].chart,y=f.isNavigator?0:10,v=f._axes;if(n&&0<n.length)for(var h=0;h<n.length;h++)n[h]&&n[h].calculateAxisParameters();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateAxisParameters();if(r&&0<r.length)for(h=0;h<r.length;h++)r[h].calculateAxisParameters();if(a&&0<a.length)for(h=0;h<a.length;h++)a[h].calculateAxisParameters();for(h=0;h<v.length;h++)if(v[h]&&v[h].scaleBreaks&&v[h].scaleBreaks._appliedBreaks.length)for(var k=v[h].scaleBreaks._appliedBreaks,I=0;I<k.length&&!(k[I].startValue>v[h].viewportMaximum);I++)k[I].endValue<v[h].viewportMinimum||(b(v[h].scaleBreaks.firstBreakIndex)&&(v[h].scaleBreaks.firstBreakIndex=I),k[I].startValue>=v[h].viewPortMinimum&&(v[h].scaleBreaks.lastBreakIndex=I));for(var E=I=0,w=0,R=0,M=0,W=0,j=0,V,le,ye=_=0,te,ie,G,k=te=ie=G=!1,h=0;h<v.length;h++)v[h]&&v[h].title&&(v[h]._titleTextBlock=new Le(v[h].ctx,{text:v[h].title,horizontalAlign:"center",fontSize:v[h].titleFontSize,fontFamily:v[h].titleFontFamily,fontWeight:v[h].titleFontWeight,fontColor:v[h].titleFontColor,fontStyle:v[h].titleFontStyle,borderColor:v[h].titleBorderColor,borderThickness:v[h].titleBorderThickness,backgroundColor:v[h].titleBackgroundColor,cornerRadius:v[h].titleCornerRadius,textBaseline:"middle"}));for(h=0;h<v.length;h++)if(v[h].title)switch(v[h]._position){case"left":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=-90;break;case"right":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=90;break;default:v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.width,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.height:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=0}if(l==="normal"){for(var R=[],M=[],W=[],j=[],$=[],N=[],ae=[],xe=[];4>I;){var Y=0,ut=0,yt=0,St=0,At=l=0,Ye=0,ei=0,Tt=0,vt=0,Xe=0,Xt=0;if(r&&0<r.length)for(W=[],h=Xe=0;h<r.length;h++)W.push(Math.ceil(r[h]?r[h].createLabelsAndCalculateWidth():0)),Xe+=W[h],Ye+=r[h]&&!f.isNavigator?r[h].margin:0;else W.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateWidth():0));if(ae.push(W),a&&0<a.length)for(j=[],h=Xt=0;h<a.length;h++)j.push(Math.ceil(a[h]?a[h].createLabelsAndCalculateWidth():0)),Xt+=j[h],ei+=a[h]?a[h].margin:0;else j.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(xe.push(j),g=Math.round(p.x1+Xe+Ye),T=Math.round(p.x2-Xt-ei>f.width-y?f.width-y:p.x2-Xt-ei),n&&0<n.length)for(R=[],h=Tt=0;h<n.length;h++)n[h]&&(n[h].lineCoordinates={}),n[h].lineCoordinates.width=Math.abs(T-g),n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width),R.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateHeight():0)),Tt+=R[h],l+=n[h]&&!f.isNavigator?n[h].margin:0;else R.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if($.push(R),d&&0<d.length)for(M=[],h=vt=0;h<d.length;h++)d[h]&&(d[h].lineCoordinates={}),d[h].lineCoordinates.width=Math.abs(T-g),d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.width?d[h].titleMaxWidth:d[h].lineCoordinates.width),M.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateHeight():0)),vt+=M[h],At+=d[h]&&!f.isNavigator?d[h].margin:0;else M.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(N.push(M),n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&(n[h].lineCoordinates.x1=g,T=Math.round(p.x2-Xt-ei>f.width-y?f.width-y:p.x2-Xt-ei),n[h]._labels&&1<n[h]._labels.length&&(_=m=0,m=n[h]._labels[1],_=n[h].valueType==="dateTime"?n[h]._labels[n[h]._labels.length-2]:n[h]._labels[n[h]._labels.length-1],E=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),w=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),!n[h]||!n[h].labelAutoFit||b(V)||b(le)||f.isNavigator||f.stockChart||(_=0,0<n[h].labelAngle?le+w>T&&(_+=0<n[h].labelAngle?le+w-T-Xt:0):0>n[h].labelAngle?V-E<g&&V-E<n[h].viewportMinimum&&(ye=g-(Ye+n[h].tickLength+W+V-E+n[h].labelFontSize/2)):n[h].labelAngle===0&&(le+w>T&&(_=le+w/2-T-Xt),V-E<g&&V-E<n[h].viewportMinimum&&(ye=g-Ye-n[h].tickLength-W-V+E/2)),n[h].viewportMaximum===n[h].maximum&&n[h].viewportMinimum===n[h].minimum&&0<n[h].labelAngle&&0<_?T-=_:n[h].viewportMaximum===n[h].maximum&&n[h].viewportMinimum===n[h].minimum&&0>n[h].labelAngle&&0<ye?g+=ye:n[h].viewportMaximum===n[h].maximum&&n[h].viewportMinimum===n[h].minimum&&n[h].labelAngle===0&&(0<ye&&(g+=ye),0<_&&(T-=_))),f.panEnabled?Tt=b(f.sessionVariables.axisX.height)||f.stockChart?f.sessionVariables.axisX.height=Tt:f.sessionVariables.axisX.height:f.sessionVariables.axisX.height=Tt,_=Math.round(p.y2-Tt-l+Y),m=Math.round(p.y2),n[h].lineCoordinates.x2=T,n[h].lineCoordinates.width=T-g,n[h].lineCoordinates.y1=_,n[h].lineCoordinates.y2=_,n[h].labelPlacement==="inside"&&0<h&&(n[h].lineCoordinates.y1=n[h-1].lineCoordinates.y2+Y+(n[h].labelEffectiveHeight||0),n[h].lineCoordinates.y2=n[h].lineCoordinates.y1+n[h].lineThickness/2),n[h].tickPlacement==="inside"&&0<h&&(n[h].lineCoordinates.y1+=n[h].tickLength,n[h].lineCoordinates.y2=n[h].lineCoordinates.y1+n[h].lineThickness/2),n[h].bounds={x1:g,y1:_,x2:T,y2:m-(Tt+l-R[h]-Y),width:T-g},n[h].bounds.height=n[h].bounds.y2-n[h].bounds.y1),Y+=R[h]+n[h].margin;if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].lineCoordinates.x1=Math.round(p.x1+Xe+Ye),d[h].lineCoordinates.x2=Math.round(p.x2-Xt-ei>f.width-y?f.width-y:p.x2-Xt-ei),d[h].lineCoordinates.width=Math.abs(T-g),d[h]._labels&&1<d[h]._labels.length&&(m=d[h]._labels[1],_=d[h].valueType==="dateTime"?d[h]._labels[d[h]._labels.length-2]:d[h]._labels[d[h]._labels.length-1],E=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),w=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),f.panEnabled?vt=b(f.sessionVariables.axisX2.height)||f.stockChart?f.sessionVariables.axisX2.height=vt:f.sessionVariables.axisX2.height:f.sessionVariables.axisX2.height=vt,_=Math.round(p.y1),m=d[h].lineCoordinates.y1=_+vt+At-ut,d[h].lineCoordinates.y2=_,d[h].labelPlacement==="inside"&&0<h&&(d[h].lineCoordinates.y1=d[h-1].lineCoordinates.y1-ut-(d[h].labelEffectiveHeight||0)),d[h].tickPlacement==="inside"&&0<h&&(d[h].lineCoordinates.y1-=d[h].tickLength),d[h].bounds={x1:g,y1:_+(vt+At-M[h]-ut),x2:T,y2:m,width:T-g},d[h].bounds.height=d[h].bounds.y2-d[h].bounds.y1,ut+=M[h]+d[h].margin;if(r&&0<r.length)for(h=0;h<r.length;h++)Ye=f.isNavigator?0:10,r[h]&&(g=Math.round(n[0]?n[0].lineCoordinates.x1:d[0].lineCoordinates.x1),Ye=r[h]._labels&&0<r[h]._labels.length?r[h]._labels[r[h]._labels.length-1].textBlock.height/2:y,_=Math.round(p.y1+vt+At<Math.max(Ye,y)?Math.max(Ye,y):p.y1+vt+At),T=Math.round(n[0]?n[0].lineCoordinates.x1:d[0].lineCoordinates.x1),Ye=0<n.length?0:r[h]._labels&&0<r[h]._labels.length?r[h]._labels[0].textBlock.height/2:y,m=Math.round(p.y2-Tt-l-Ye),r[h].lineCoordinates={x1:g-yt,y1:_,x2:T-yt,y2:m,height:Math.abs(m-_)},r[h].labelPlacement==="inside"&&0<h&&(r[h].lineCoordinates.x1=r[h-1].lineCoordinates.x1-yt-(r[h].labelEffectiveWidth||0),r[h].lineCoordinates.x2=r[h].lineCoordinates.x1+r[h].lineThickness/2),r[h].tickPlacement==="inside"&&0<h&&(r[h].lineCoordinates.x1-=r[h].tickLength,r[h].lineCoordinates.x2=r[h].lineCoordinates.x1+r[h].lineThickness/2),r[h].bounds={x1:g-(W[h]+yt),y1:_,x2:T-yt,y2:m,height:m-_},r[h].bounds.width=r[h].bounds.x2-r[h].bounds.x1,r[h].title&&(r[h]._titleTextBlock.maxWidth=0<r[h].titleMaxWidth&&r[h].titleMaxWidth<r[h].lineCoordinates.height?r[h].titleMaxWidth:r[h].lineCoordinates.height),yt+=W[h]+r[h].margin);if(a&&0<a.length)for(h=0;h<a.length;h++)a[h]&&(g=Math.round(n[0]?n[0].lineCoordinates.x2:d[0].lineCoordinates.x2),T=Math.round(g),Ye=a[h]._labels&&0<a[h]._labels.length?a[h]._labels[a[h]._labels.length-1].textBlock.height/2:0,_=Math.round(p.y1+vt+At<Math.max(Ye,y)?Math.max(Ye,y):p.y1+vt+At),Ye=0<n.length?0:a[h]._labels&&0<a[h]._labels.length?a[h]._labels[0].textBlock.height/2:0,m=Math.round(p.y2-(Tt+l+Ye)),a[h].lineCoordinates={x1:g+St,y1:_,x2:g+St,y2:m,height:Math.abs(m-_)},a[h].labelPlacement==="inside"&&0<h&&(a[h].lineCoordinates.x1=a[h-1].lineCoordinates.x2+St+(a[h].labelEffectiveWidth||0),a[h].lineCoordinates.x2=a[h].lineCoordinates.x1+a[h].lineThickness/2),a[h].tickPlacement==="inside"&&0<h&&(a[h].lineCoordinates.x1+=a[h].tickLength,a[h].lineCoordinates.x2=a[h].lineCoordinates.x1+a[h].lineThickness/2),a[h].bounds={x1:g+St,y1:_,x2:T+(j[h]+St),y2:m,height:m-_},a[h].bounds.width=a[h].bounds.x2-a[h].bounds.x1,a[h].title&&(a[h]._titleTextBlock.maxWidth=0<a[h].titleMaxWidth&&a[h].titleMaxWidth<a[h].lineCoordinates.height?a[h].titleMaxWidth:a[h].lineCoordinates.height),St+=j[h]+a[h].margin);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&(n[h].calculateValueToPixelConversionParameters(),n[h].calculateBreaksSizeInValues(),n[h]._labels&&1<n[h]._labels.length&&(V=(n[h].logarithmic?Math.log(n[h]._labels[1].position/n[h].viewportMinimum)/n[h].conversionParameters.lnLogarithmBase:n[h]._labels[1].position-n[h].viewportMinimum)*Math.abs(n[h].conversionParameters.pixelPerUnit)+n[h].lineCoordinates.x1,g=n[h]._labels[n[h]._labels.length-(n[h].valueType==="dateTime"?2:1)].position,g=n[h].getApparentDifference(n[h].viewportMinimum,g),le=n[h].logarithmic?(1<g?Math.log(g)/n[h].conversionParameters.lnLogarithmBase*Math.abs(n[h].conversionParameters.pixelPerUnit):0)+n[h].lineCoordinates.x1:(0<g?g*Math.abs(n[h].conversionParameters.pixelPerUnit):0)+n[h].lineCoordinates.x1));if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),d[h]._labels&&1<d[h]._labels.length&&(V=(d[h].logarithmic?Math.log(d[h]._labels[1].position/d[h].viewportMinimum)/d[h].conversionParameters.lnLogarithmBase:d[h]._labels[1].position-d[h].viewportMinimum)*Math.abs(d[h].conversionParameters.pixelPerUnit)+d[h].lineCoordinates.x1,g=d[h]._labels[d[h]._labels.length-(d[h].valueType==="dateTime"?2:1)].position,g=d[h].getApparentDifference(d[h].viewportMinimum,g),le=d[h].logarithmic?(1<g?Math.log(g)/d[h].conversionParameters.lnLogarithmBase*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1:(0<g?g*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1);for(h=0;h<v.length;h++)v[h].type==="axisY"&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<I){if(n&&0<n.length)for(h=0;h<n.length;h++)k=$[I-1][h]===$[I][h];else k=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)te=N[I-1][h]===N[I][h];else te=!0;if(r&&0<r.length)for(h=0;h<r.length;h++)ie=ae[I-1][h]===ae[I][h];else ie=!0;if(a&&0<a.length)for(h=0;h<a.length;h++)G=xe[I-1][h]===xe[I][h];else G=!0}if(k&&te&&ie&&G)break;I++}if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels();if(r&&0<r.length)for(h=0;h<r.length;h++)r[h].calculateStripLinesThicknessInValues(),r[h].calculateBreaksInPixels();if(a&&0<a.length)for(h=0;h<a.length;h++)a[h].calculateStripLinesThicknessInValues(),a[h].calculateBreaksInPixels()}else{for(y=[],V=[],ye=[],E=[],le=[],w=[],$=[],N=[];4>I;){if(Tt=St=yt=ei=Ye=At=l=xe=ae=Y=vt=0,n&&0<n.length)for(ye=[],h=St=0;h<n.length;h++)ye.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateWidth():0)),St+=ye[h],l+=n[h]&&!f.isNavigator?n[h].margin:0;else ye.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if($.push(ye),d&&0<d.length)for(E=[],h=Tt=0;h<d.length;h++)E.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateWidth():0)),Tt+=E[h],At+=d[h]?d[h].margin:0;else E.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(N.push(E),r&&0<r.length)for(h=0;h<r.length;h++)r[h].lineCoordinates={},g=Math.round(p.x1+St+l),T=Math.round(p.x2-Tt-At>f.width-10?f.width-10:p.x2-Tt-At),r[h].labelAutoFit&&!b(R)&&(0<!n.length&&(g=0>r[h].labelAngle?Math.max(g,R):r[h].labelAngle===0?Math.max(g,R/2):g),0<!d.length&&(T=0<r[h].labelAngle||r[h].labelAngle===0?T-M/2:T)),r[h].lineCoordinates.x1=g,r[h].lineCoordinates.x2=T,r[h].lineCoordinates.width=Math.abs(T-g),r[h].title&&(r[h]._titleTextBlock.maxWidth=0<r[h].titleMaxWidth&&r[h].titleMaxWidth<r[h].lineCoordinates.width?r[h].titleMaxWidth:r[h].lineCoordinates.width);if(a&&0<a.length)for(h=0;h<a.length;h++)a[h].lineCoordinates={},g=Math.round(p.x1+St+l),T=Math.round(p.x2-Tt-At>a[h].chart.width-10?a[h].chart.width-10:p.x2-Tt-At),a[h]&&a[h].labelAutoFit&&!b(W)&&(0<!n.length&&(g=0<a[h].labelAngle?Math.max(g,W):a[h].labelAngle===0?Math.max(g,W/2):g),0<!d.length&&(T-=j/2)),a[h].lineCoordinates.x1=g,a[h].lineCoordinates.x2=T,a[h].lineCoordinates.width=Math.abs(T-g),a[h].title&&(a[h]._titleTextBlock.maxWidth=0<a[h].titleMaxWidth&&a[h].titleMaxWidth<a[h].lineCoordinates.width?a[h].titleMaxWidth:a[h].lineCoordinates.width);if(r&&0<r.length)for(y=[],h=yt=0;h<r.length;h++)y.push(Math.ceil(r[h]?r[h].createLabelsAndCalculateHeight():0)),yt+=y[h]+r[h].margin,Ye+=r[h].margin;else y.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateHeight():0));if(le.push(y),a&&0<a.length)for(V=[],h=0;h<a.length;h++)V.push(Math.ceil(a[h]?a[h].createLabelsAndCalculateHeight():0)),ei+=a[h].margin;else V.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(w.push(V),r&&0<r.length)for(h=0;h<r.length;h++)0<r[h]._labels.length&&(m=r[h]._labels[0],_=r[h]._labels[r[h]._labels.length-1],R=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),M=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(a&&0<a.length)for(h=0;h<a.length;h++)a[h]&&0<a[h]._labels.length&&(m=a[h]._labels[0],_=a[h]._labels[a[h]._labels.length-1],W=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),j=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(f.panEnabled)for(h=0;h<r.length;h++)y[h]=b(f.sessionVariables.axisY[h].height)?f.sessionVariables.axisY[h].height=y[h]:f.sessionVariables.axisY[h].height;else for(h=0;h<r.length;h++)f.sessionVariables.axisY[h].height=y[h];if(r&&0<r.length)for(h=r.length-1;0<=h;h--)_=Math.round(p.y2),m=Math.round(p.y2>r[h].chart.height?r[h].chart.height:p.y2),r[h].lineCoordinates.y1=_-(y[h]+r[h].margin+vt),r[h].lineCoordinates.y2=_-(y[h]+r[h].margin+vt),r[h].labelPlacement==="inside"&&0<h&&(r[h].lineCoordinates.y1=r[h].lineCoordinates.y1+y[h]-(r[h]._titleTextBlock?r[h]._titleTextBlock.height:0)-r[h].tickLength-(r[h].stripLineLabelEffectiveHeight||0)-5,r[h].lineCoordinates.y2=r[h].lineCoordinates.y1+r[h].lineThickness/2),r[h].tickPlacement==="inside"&&0<h&&(r[h].lineCoordinates.y1+=r[h].tickLength,r[h].lineCoordinates.y2=r[h].lineCoordinates.y1+r[h].lineThickness/2),r[h].bounds={x1:g,y1:_-(y[h]+vt+r[h].margin),x2:T,y2:m-(vt+r[h].margin),width:T-g,height:y[h]},r[h].title&&(r[h]._titleTextBlock.maxWidth=0<r[h].titleMaxWidth&&r[h].titleMaxWidth<r[h].lineCoordinates.width?r[h].titleMaxWidth:r[h].lineCoordinates.width),vt+=y[h]+r[h].margin;if(a&&0<a.length)for(h=a.length-1;0<=h;h--)a[h]&&(_=Math.round(p.y1),m=Math.round(p.y1+(V[h]+a[h].margin+Y)),a[h].lineCoordinates.y1=m,a[h].lineCoordinates.y2=m,a[h].labelPlacement==="inside"&&0<h&&(a[h].lineCoordinates.y1=m-V[h]+(a[h]._titleTextBlock?a[h]._titleTextBlock.height:0)+a[h].tickLength+(a[h].stripLineLabelEffectiveHeight||0),a[h].lineCoordinates.y2=a[h].lineCoordinates.y1-a[h].lineThickness/2),a[h].tickPlacement==="inside"&&0<h&&(a[h].lineCoordinates.y1-=a[h].tickLength,a[h].lineCoordinates.y2=a[h].lineCoordinates.y1-a[h].lineThickness/2),a[h].bounds={x1:g,y1:_+(a[h].margin+Y),x2:T,y2:m,width:T-g},a[h].bounds.height=a[h].bounds.y2-a[h].bounds.y1,a[h].title&&(a[h]._titleTextBlock.maxWidth=0<a[h].titleMaxWidth&&a[h].titleMaxWidth<a[h].lineCoordinates.width?a[h].titleMaxWidth:a[h].lineCoordinates.width),Y+=V[h]+a[h].margin);if(n&&0<n.length)for(h=0;h<n.length;h++){if(Ye=n[h]._labels&&0<n[h]._labels.length?n[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1+l),_=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:p.y1<Math.max(Ye,10)?Math.max(Ye,10):p.y1):p.y1<Math.max(Ye,10)?Math.max(Ye,10):p.y1,T=Math.round(p.x1+St+l),m=r&&0<r.length?Math.round(r[0]?r[0].lineCoordinates.y1:p.y2-yt>f.height-Math.max(Ye,10)?f.height-Math.max(Ye,10):p.y2-yt):p.y2>f.height-Math.max(Ye,10)?f.height-Math.max(Ye,10):p.y2,r&&0<r.length)for(Ye=0;Ye<r.length;Ye++)r[Ye]&&r[Ye].labelAutoFit&&(T=r[Ye].lineCoordinates.x1,g=0>r[Ye].labelAngle||r[Ye].labelAngle===0?T-St:g);if(a&&0<a.length)for(Ye=0;Ye<a.length;Ye++)a[Ye]&&a[Ye].labelAutoFit&&(T=a[Ye].lineCoordinates.x1,g=T-St);n[h].lineCoordinates={x1:T-ae,y1:_,x2:T-ae,y2:m,height:Math.abs(m-_)},n[h].labelPlacement==="inside"&&0<h&&(n[h].lineCoordinates.x1=n[h].lineCoordinates.x1-(ye[h]-(n[h]._titleTextBlock?n[h]._titleTextBlock.height:0))+n[h].tickLength+(n[h].stripLineLabelEffectiveWidth||0),n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),n[h].tickPlacement==="inside"&&0<h&&(n[h].lineCoordinates.x1-=n[h].tickLength,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),n[h].bounds={x1:T-(ye[h]+ae),y1:_,x2:T-ae,y2:m,height:m-_},n[h].bounds.width=n[h].bounds.x2-n[h].bounds.x1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.height?n[h].titleMaxWidth:n[h].lineCoordinates.height),n[h].calculateValueToPixelConversionParameters(),n[h].calculateBreaksSizeInValues(),ae+=ye[h]+n[h].margin}if(d&&0<d.length)for(h=0;h<d.length;h++){if(Ye=d[h]._labels&&0<d[h]._labels.length?d[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1-l),_=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:p.y1<Math.max(Ye,10)?Math.max(Ye,10):p.y1):p.y1<Math.max(Ye,10)?Math.max(Ye,10):p.y1,T=Math.round(p.x2-Tt-At),m=r&&0<r.length?Math.round(r[0]?r[0].lineCoordinates.y1:p.y2-yt>f.height-Math.max(Ye,10)?f.height-Math.max(Ye,10):p.y2-yt):p.y2>f.height-Math.max(Ye,10)?f.height-Math.max(Ye,10):p.y2,r&&0<r.length)for(Ye=0;Ye<r.length;Ye++)r[Ye]&&r[Ye].labelAutoFit&&(T=0>r[Ye].labelAngle?Math.max(T,R):r[Ye].labelAngle===0?Math.max(T,R/2):T,g=0>r[Ye].labelAngle||r[Ye].labelAngle===0?T-Tt:g);if(a&&0<a.length)for(Ye=0;Ye<a.length;Ye++)a[Ye]&&a[Ye].labelAutoFit&&(T=a[Ye].lineCoordinates.x2,g=T-Tt);d[h].lineCoordinates={x1:T+xe,y1:_,x2:T+xe,y2:m,height:Math.abs(m-_)},d[h].labelPlacement==="inside"&&0<h&&(d[h].lineCoordinates.x1=d[h].lineCoordinates.x1+(E[h]-(d[h]._titleTextBlock?d[h]._titleTextBlock.height:0)-2)-d[h].tickLength-(d[h].stripLineLabelEffectiveWidth||0),d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),d[h].tickPlacement==="inside"&&0<h&&(d[h].lineCoordinates.x1+=d[h].tickLength,d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),d[h].bounds={x1:d[h].lineCoordinates.x1,y1:_,x2:T+E[h]+xe,y2:m,width:T-g,height:m-_},d[h].bounds.width=d[h].bounds.x2-d[h].bounds.x1,d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.height?d[h].titleMaxWidth:d[h].lineCoordinates.height),d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),xe+=E[h]+d[h].margin}for(h=0;h<v.length;h++)v[h].type==="axisY"&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<I){if(n&&0<n.length)for(h=0;h<n.length;h++)k=$[I-1][h]===$[I][h];else k=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)te=N[I-1][h]===N[I][h];else te=!0;if(r&&0<r.length)for(h=0;h<r.length;h++)ie=le[I-1][h]===le[I][h];else ie=!0;if(a&&0<a.length)for(h=0;h<a.length;h++)G=w[I-1][h]===w[I][h];else G=!0}if(k&&te&&ie&&G)break;I++}if(r&&0<r.length)for(h=0;h<r.length;h++)r[h].calculateStripLinesThicknessInValues(),r[h].calculateBreaksInPixels();if(a&&0<a.length)for(h=0;h<a.length;h++)a[h].calculateStripLinesThicknessInValues(),a[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels()}},fe.render=function(n,d,r,a,l){var p=n[0]?n[0].chart:d[0].chart;if(l=p.ctx,p.alignVerticalAxes&&p.alignVerticalAxes(),l.save(),l.beginPath(),n&&n.length&&l.rect(5,n[0].bounds.y1,n[0].chart.width-10,n[n.length-1].bounds.y2),d&&d.length&&l.rect(5,d[d.length-1].bounds.y1,d[0].chart.width-10,d[0].bounds.y2),l.clip(),n&&0<n.length)for(var g=0;g<n.length;g++)n[g].renderLabelsTicksAndTitle();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderLabelsTicksAndTitle();if(l.restore(),r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderLabelsTicksAndTitle();if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderLabelsTicksAndTitle();if(p.preparePlotArea(),p=p.plotArea,l.save(),l.beginPath(),l.rect(p.x1,p.y1,Math.abs(p.x2-p.x1),Math.abs(p.y2-p.y1)),l.clip(),n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("value");if(r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderInterlacedColors();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderInterlacedColors();if(r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderInterlacedColors();if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderInterlacedColors();if(l.restore(),n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderGrid(),X&&(n[g].createMask(),n[g].renderBreaksBackground());if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderGrid(),X&&(d[g].createMask(),d[g].renderBreaksBackground());if(r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderGrid(),X&&(r[g].createMask(),r[g].renderBreaksBackground());if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderGrid(),X&&(a[g].createMask(),a[g].renderBreaksBackground());if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderAxisLine();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderAxisLine();if(r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderAxisLine();if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderAxisLine();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("pixel");if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("pixel");if(r&&0<r.length)for(g=0;g<r.length;g++)r[g].renderStripLinesOfThicknessType("pixel");if(a&&0<a.length)for(g=0;g<a.length;g++)a[g].renderStripLinesOfThicknessType("pixel")},fe.prototype.calculateStripLinesThicknessInValues=function(){for(var n=0;n<this.stripLines.length;n++)if(this.stripLines[n].startValue!==null&&this.stripLines[n].endValue!==null){var d=Math.min(this.stripLines[n].startValue,this.stripLines[n].endValue),r=Math.max(this.stripLines[n].startValue,this.stripLines[n].endValue),a=this.getApparentDifference(d,r);this.stripLines[n].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(d)+this.convertValueToPixel(r))/2),this.stripLines[n].thickness=a,this.stripLines[n]._thicknessType="value"}},fe.prototype.calculateBreaksSizeInValues=function(){for(var n=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],r=this.conversionParameters.pixelPerUnit||n/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),a=this.scaleBreaks&&!b(this.scaleBreaks.options.spacing),l,p=0;p<d.length;p++)l=a||!b(d[p].options.spacing),d[p].spacing=st(d[p].spacing,n,8,l?.1*n:8,l?0:3)<<0,d[p].size=0>d[p].spacing?0:Math.abs(d[p].spacing/r),this.logarithmic&&(d[p].size=Math.pow(this.logarithmBase,d[p].size))},fe.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];n.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var d=0;d<n.length&&!(n[d].startValue>this.conversionParameters.maximum);d++)n[d].endValue<this.conversionParameters.minimum||(b(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=d),n[d].startValue>=this.conversionParameters.minimum&&(n[d].startPixel=this.convertValueToPixel(n[d].startValue),this.scaleBreaks.lastBreakIndex=d),n[d].endValue<=this.conversionParameters.maximum&&(n[d].endPixel=this.convertValueToPixel(n[d].endValue)))}},fe.prototype.renderLabelsTicksAndTitle=function(){var n=this,d=!1,r=0,a=0,l=1,p=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(l=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var r=[],l=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,g,_=this.viewportMaximum,T=this.lineCoordinates.width/Math.log(this.range),f=this._labels.length-1;0<=f&&(y=this._labels[f],!(y.position<this.viewportMinimum));f--)y.position>this.viewportMaximum||!(f===this._labels.length-1||g<Math.log(_/y.position)*T/l)||(r.push(y),_=y.position,g=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||(g=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),r+=g);r>this.lineCoordinates.width*l&&this.labelAutoFit&&(d=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var r=[],m,_=this.viewportMaximum,T=this.lineCoordinates.height/Math.log(this.range),f=this._labels.length-1;0<=f&&(y=this._labels[f],!(y.position<this.viewportMinimum));f--)y.position>this.viewportMaximum||!(f===this._labels.length-1||m<Math.log(_/y.position)*T)||(r.push(y),_=y.position,m=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||(m=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),a+=m);a>this.lineCoordinates.height*l&&this.labelAutoFit&&(d=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(h,k){return h.position-k.position});var f=0,y,v;if(this._position==="bottom"){for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2===1?(v.x<<0)+.5:v.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,v.y<<0),this.ctx.lineTo(a,v.y+this.tickLength<<0),this.ctx.stroke()),d&&p++%2!==0&&this.labelAutoFit||(y.textBlock.angle===0?(v.x-=y.textBlock.width/2,v.y=this.labelPlacement==="inside"?v.y-((this.tickPlacement==="inside"?this.tickLength:0)+y.textBlock.height-y.textBlock.fontSize/2):v.y+(this.tickPlacement==="inside"?0:this.tickLength)+y.textBlock.fontSize/2+5):(v.x=this.labelPlacement==="inside"?0>this.labelAngle?v.x:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):v.x-(0>this.labelAngle?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),v.y=this.labelPlacement==="inside"?0>this.labelAngle?v.y-(this.tickPlacement==="inside"?this.tickLength:0)-5:v.y-(this.tickPlacement==="inside"?this.tickLength:0)-Math.abs(y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):v.y+(this.tickPlacement==="inside"?0:this.tickLength)+Math.abs(0>this.labelAngle?y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),y.textBlock.x=v.x,y.textBlock.y=v.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<n._labels.length;f++)if(y=n._labels[f],!(y.position<n.viewportMinimum||y.position>n.viewportMaximum)&&(v=n.getPixelCoordinatesOnAxis(y.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var h=n.ctx.lineWidth%2===1?(v.x<<0)+.5:v.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(h,v.y<<0),n.ctx.lineTo(h,v.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2===1?(v.x<<0)+.5:v.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,v.y<<0),this.ctx.lineTo(a,v.y-this.tickLength<<0),this.ctx.stroke()),d&&p++%2!==0&&this.labelAutoFit||(y.textBlock.angle===0?(v.x-=y.textBlock.width/2,v.y=this.labelPlacement==="inside"?v.y+this.labelFontSize/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:v.y-((this.tickPlacement==="inside"?0:this.tickLength)+y.textBlock.height-y.textBlock.fontSize/2)):(v.x=this.labelPlacement==="inside"?0<this.labelAngle?v.x:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):v.x+(y.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),v.y=this.labelPlacement==="inside"?0<this.labelAngle?v.y+(this.tickPlacement==="inside"?this.tickLength:0)+5:v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:v.y-((this.tickPlacement==="inside"?0:this.tickLength)+((y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),y.textBlock.x=v.x,y.textBlock.y=v.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<n._labels.length;f++)if(y=n._labels[f],!(y.position<n.viewportMinimum||y.position>n.viewportMaximum)&&(v=n.getPixelCoordinatesOnAxis(y.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var h=n.ctx.lineWidth%2===1?(v.x<<0)+.5:v.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(h,v.y<<0),n.ctx.lineTo(h,v.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2===1?(v.y<<0)+.5:v.y<<0,this.ctx.beginPath(),this.ctx.moveTo(v.x<<0,a),this.ctx.lineTo(v.x-this.tickLength<<0,a),this.ctx.stroke()),d&&p++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(y.textBlock.y=v.y,y.textBlock.x=this.labelPlacement==="inside"?v.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(y.textBlock.y=this.labelPlacement==="inside"?v.y:v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),y.textBlock.x=this.labelPlacement==="inside"?v.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:0<this.labelAngle?v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength))));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<n._labels.length;f++)if(y=n._labels[f],!(y.position<n.viewportMinimum||y.position>n.viewportMaximum)&&(v=n.getPixelCoordinatesOnAxis(y.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var h=n.ctx.lineWidth%2===1?(v.y<<0)+.5:v.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(v.x<<0,h),n.ctx.lineTo(v.x+n.tickLength<<0,h),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2===1?(v.y<<0)+.5:v.y<<0,this.ctx.beginPath(),this.ctx.moveTo(v.x<<0,a),this.ctx.lineTo(v.x+this.tickLength<<0,a),this.ctx.stroke()),d&&p++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(y.textBlock.y=v.y,y.textBlock.x=this.labelPlacement==="inside"?v.x-y.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:v.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):(y.textBlock.y=this.labelPlacement==="inside"?v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?v.y:v.y-(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),y.textBlock.x=this.labelPlacement==="inside"?v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:0<this.labelAngle?v.x+(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength):v.x+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<n._labels.length;f++)if(y=n._labels[f],!(y.position<n.viewportMinimum||y.position>n.viewportMaximum)&&(v=n.getPixelCoordinatesOnAxis(y.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var h=n.ctx.lineWidth%2===1?(v.y<<0)+.5:v.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(v.x<<0,h),n.ctx.lineTo(v.x-n.tickLength<<0,h),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(p=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<n._labels.length;f++)y=n._labels[f],y.position<n.viewportMinimum||y.position>n.viewportMaximum||d&&p++%2!==0&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),y.textBlock.render(!0),n.ctx.restore())},this);else for(f=0;f<this._labels.length;f++)y=this._labels[f],y.position<this.viewportMinimum||y.position>this.viewportMaximum||d&&p++%2!==0&&this.labelAutoFit||y.textBlock.render(!0)},fe.prototype.renderInterlacedColors=function(){var n=this.chart.plotArea.ctx,d,r,a=this.chart.plotArea,l=0;if(d=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(d=this.getPixelCoordinatesOnAxis(this._labels[l].position),r=l+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[l+1].position),n.fillRect(Math.min(r.x,d.x),a.y1,Math.abs(r.x-d.x),Math.abs(a.y1-a.y2)),d=!1):d=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(r=this.getPixelCoordinatesOnAxis(this._labels[l].position),d=l+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[l+1].position),n.fillRect(a.x1,Math.min(r.y,d.y),Math.abs(a.x1-a.x2),Math.abs(d.y-r.y)),d=!1):d=!0;n.beginPath()},fe.prototype.renderStripLinesOfThicknessType=function(n){if(this.stripLines&&0<this.stripLines.length&&n){var d=this,r,a,l=0,p=0,g=!1;a=!1;for(var _=[],T=[],m=!1,l=0;l<this.stripLines.length;l++){var f=this.stripLines[l];f._thicknessType===n&&(n==="pixel"&&(f.value<this.viewportMinimum||f.value>this.viewportMaximum||b(f.value)||isNaN(this.range))||n==="value"&&(f.startValue<=this.viewportMinimum&&f.endValue<=this.viewportMinimum||f.startValue>=this.viewportMaximum&&f.endValue>=this.viewportMaximum||b(f.startValue)||b(f.endValue)||isNaN(this.range))||_.push(f))}for(l=0;l<this._stripLineLabels.length;l++)if(f=this.stripLines[l],r=this._stripLineLabels[l],!(r.position<this.viewportMinimum||r.position>this.viewportMaximum||isNaN(this.range)))if(a=this.getPixelCoordinatesOnAxis(r.position),r.stripLine.labelPlacement==="outside"){if(f&&(this.ctx.strokeStyle=f.color,this.ctx.lineWidth=f._thicknessType==="pixel"?f.thickness:this.tickThickness),this._position==="bottom"){var y=this.ctx.lineWidth%2===1?(a.x<<0)+.5:a.x<<0;this.ctx.beginPath(),this.ctx.moveTo(y,a.y<<0),this.ctx.lineTo(y,a.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(a.x-=r.textBlock.width/2,a.y+=this.tickLength+r.textBlock.fontSize/2+5):(a.x-=0>this.labelAngle?r.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,a.y+=this.tickLength+Math.abs(0>this.labelAngle?r.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else this._position==="top"?(y=this.ctx.lineWidth%2===1?(a.x<<0)+.5:a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(y,a.y<<0),this.ctx.lineTo(y,a.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(a.x-=r.textBlock.width/2,a.y-=this.tickLength+r.textBlock.height-r.textBlock.fontSize/2):(a.x+=(r.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?r.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y-=this.tickLength+(r.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?r.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):this._position==="left"?(y=this.ctx.lineWidth%2===1?(a.y<<0)+.5:a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,y),this.ctx.lineTo(a.x-this.tickLength<<0,y),this.ctx.stroke(),this.labelAngle===0?a.x=a.x-r.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(a.y-=r.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x-r.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:a.x-r.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(r.textBlock.height-r.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):this._position==="right"&&(y=this.ctx.lineWidth%2===1?(a.y<<0)+.5:a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,y),this.ctx.lineTo(a.x+this.tickLength<<0,y),this.ctx.stroke(),this.labelAngle===0?a.x=a.x+this.tickLength+5:(a.y=0>this.labelAngle?a.y:a.y-(r.textBlock.height-r.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x+(r.textBlock.height-r.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:a.x+this.tickLength+5));r.textBlock.x=a.x,r.textBlock.y=a.y,T.push(r)}else f._thicknessType===n&&(r.textBlock.angle=-90,this._position==="bottom"?(r.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,r.textBlock.measureText(),a.x-r.textBlock.height-f.thickness/2>this.chart.plotArea.x1?b(f.startValue)?a.x-=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.x-=r.textBlock.height/2-r.textBlock.fontSize/2:(r.textBlock.angle=90,b(f.startValue)?a.x+=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.x+=r.textBlock.height/2-r.textBlock.fontSize/2),a.y=r.textBlock.angle===-90?r.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+r.textBlock.width)/2:this.chart.plotArea.y1+r.textBlock.width+3:r.stripLine.labelAlign==="near"?this.chart.plotArea.y2-r.textBlock.width-3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-r.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(r.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,r.textBlock.measureText(),a.x-r.textBlock.height-f.thickness/2>this.chart.plotArea.x1?b(f.startValue)?a.x-=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.x-=r.textBlock.height/2-r.textBlock.fontSize/2:(r.textBlock.angle=90,b(f.startValue)?a.x+=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.x+=r.textBlock.height/2-r.textBlock.fontSize/2),a.y=r.textBlock.angle===-90?r.stripLine.labelAlign==="near"?this.chart.plotArea.y1+r.textBlock.width+3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+r.textBlock.width)/2:this.chart.plotArea.y2-3:r.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-r.textBlock.width)/2:this.chart.plotArea.y2-r.textBlock.width-3):this._position==="left"?(r.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,r.textBlock.angle=0,r.textBlock.measureText(),a.y-r.textBlock.height-f.thickness/2>this.chart.plotArea.y1?b(f.startValue)?a.y-=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.y-=r.textBlock.height/2-r.textBlock.fontSize/2:b(f.startValue)?a.y+=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.y+=r.textBlock.height/2-r.textBlock.fontSize+3,a.x=r.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-r.textBlock.width/2:this.chart.plotArea.x2-r.textBlock.width-3):this._position==="right"&&(r.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,r.textBlock.angle=0,r.textBlock.measureText(),a.y-r.textBlock.height-f.thickness/2>this.chart.plotArea.y1?b(f.startValue)?a.y-=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.y-=r.textBlock.height/2-r.textBlock.fontSize/2:b(f.startValue)?a.y+=r.textBlock.height-r.textBlock.fontSize/2+f.thickness/2:a.y-=r.textBlock.height/2-r.textBlock.fontSize/2+3,a.x=r.stripLine.labelAlign==="near"?this.chart.plotArea.x2-r.textBlock.width-3:r.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-r.textBlock.width/2:this.chart.plotArea.x1+3),r.textBlock.x=a.x,r.textBlock.y=a.y,T.push(r));if(!m){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<_.length;l++)f=_[l],f.showOnTop?g||(g=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),p=0;p<_.length;p++)f=_[p],f.showOnTop&&f.render();this.ctx.restore()},f)):f.render();for(l=0;l<T.length;l++)r=T[l],r.stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<T.length;p++)r=T[p],r.stripLine.labelPlacement==="inside"&&r.stripLine.showOnTop&&(d.ctx.save(),d.ctx.beginPath(),d.ctx.rect(d.chart.plotArea.x1,d.chart.plotArea.y1,d.chart.plotArea.width,d.chart.plotArea.height),d.ctx.clip(),r.textBlock.render(!0),d.ctx.restore())},r.textBlock)):r.stripLine.labelPlacement==="inside"&&r.textBlock.render(!0);this.ctx.restore(),m=!0}if(m)for(a=!1,l=0;l<T.length;l++)r=T[l],r.stripLine.labelPlacement==="outside"&&r.textBlock.render(!0)}},fe.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},fe.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var n=this.scaleBreaks._appliedBreaks;X?(this.maskCanvas=De(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var d=0;d<n.length;d++)n[d].endValue<this.viewportMinimum||n[d].startValue>this.viewportMaximum||isNaN(this.range)||n[d].render(this.maskCtx);this.maskCtx.restore()}},fe.prototype.renderCrosshair=function(n,d){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(n,d)},fe.prototype.showCrosshair=function(n){b(n)||n<this.viewportMinimum||n>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(n),null,n):this.crosshair.render(null,this.convertValueToPixel(n),n))},fe.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var n=this.chart.ctx;n.save();var d,r=this.chart.plotArea;if(n.lineWidth=this.gridThickness,n.strokeStyle=this.gridColor,n.setLineDash&&n.setLineDash(q(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(n.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[a].position),d=n.lineWidth%2===1?(d.x<<0)+.5:d.x<<0,n.moveTo(d,r.y1<<0),n.lineTo(d,r.y2<<0),n.stroke());else if(this._position==="left"||this._position==="right")for(var a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(n.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[a].position),d=n.lineWidth%2===1?(d.y<<0)+.5:d.y<<0,n.moveTo(r.x1<<0,d),n.lineTo(r.x2<<0,d),n.stroke());n.restore()}},fe.prototype.renderAxisLine=function(){var n=this.chart.ctx,d=X?this.chart._preRenderCtx:n,r=Math.ceil(this.tickThickness/(this.reversed?-2:2)),a=Math.ceil(this.tickThickness/(this.reversed?2:-2)),l,p;if(d.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(l=this.lineCoordinates.x2,p=this.lineCoordinates.x1):(l=this.lineCoordinates.x1,p=this.lineCoordinates.x2),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor?this.lineColor:"black",d.setLineDash&&d.setLineDash(q(this.lineDashType,this.lineThickness));var g=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(d.beginPath(),this.scaleBreaks&&!b(this.scaleBreaks.firstBreakIndex))if(b(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+a;else for(var _=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)d.moveTo(l,g),d.lineTo(this.scaleBreaks._appliedBreaks[_].startPixel+r,g),l=this.scaleBreaks._appliedBreaks[_].endPixel+a;l&&(d.moveTo(l,g),d.lineTo(p,g)),d.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(l=this.lineCoordinates.y1,p=this.lineCoordinates.y2):(l=this.lineCoordinates.y2,p=this.lineCoordinates.y1),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor,d.setLineDash&&d.setLineDash(q(this.lineDashType,this.lineThickness)),g=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,d.beginPath(),this.scaleBreaks&&!b(this.scaleBreaks.firstBreakIndex))if(b(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(_=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)d.moveTo(g,l),d.lineTo(g,this.scaleBreaks._appliedBreaks[_].startPixel+a),l=this.scaleBreaks._appliedBreaks[_].endPixel+r;l&&(d.moveTo(g,l),d.lineTo(g,p)),d.stroke()}X&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),d.clearRect(0,0,this.chart.width,this.chart.height)),d.restore()},fe.prototype.getPixelCoordinatesOnAxis=function(n){var d={};return(this._position==="bottom"||this._position==="top")&&(d.x=this.convertValueToPixel(n),d.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(d.y=this.convertValueToPixel(n),d.x=this.lineCoordinates.x2),d},fe.prototype.convertPixelToValue=function(n){if(typeof n>"u")return null;var r=0,l=0,d,r=!0,a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],l=typeof n=="number"?n:this._position==="left"||this._position==="right"?n.y:n.x;if(this.logarithmic){if(n=d=Math.pow(this.logarithmBase,(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),l<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(l=0;l<a.length;l++)if(!(a[l].endValue<this.conversionParameters.minimum))if(r)if(a[l].startValue<this.conversionParameters.minimum){if(1<a[l].size&&this.conversionParameters.minimum*Math.pow(a[l].endValue/a[l].startValue,Math.log(d)/Math.log(a[l].size))<a[l].endValue){n=Math.pow(a[l].endValue/a[l].startValue,Math.log(d)/Math.log(a[l].size));break}else n*=a[l].endValue/this.conversionParameters.minimum/Math.pow(a[l].size,Math.log(a[l].endValue/this.conversionParameters.minimum)/Math.log(a[l].endValue/a[l].startValue)),d/=Math.pow(a[l].size,Math.log(a[l].endValue/this.conversionParameters.minimum)/Math.log(a[l].endValue/a[l].startValue));r=!1}else if(d>a[l].startValue/this.conversionParameters.minimum){if(d/=a[l].startValue/this.conversionParameters.minimum,d<a[l].size){n*=Math.pow(a[l].endValue/a[l].startValue,a[l].size===1?1:Math.log(d)/Math.log(a[l].size))/d;break}else n*=a[l].endValue/a[l].startValue/a[l].size;d/=a[l].size,r=!1}else break;else if(d>a[l].startValue/a[l-1].endValue){if(d/=a[l].startValue/a[l-1].endValue,d<a[l].size){n*=Math.pow(a[l].endValue/a[l].startValue,a[l].size===1?1:Math.log(d)/Math.log(a[l].size))/d;break}else n*=a[l].endValue/a[l].startValue/a[l].size;d/=a[l].size}else break}else for(l=a.length-1;0<=l;l--)if(!(a[l].startValue>this.conversionParameters.minimum))if(r)if(a[l].endValue>this.conversionParameters.minimum){if(1<a[l].size&&this.conversionParameters.minimum*Math.pow(a[l].endValue/a[l].startValue,Math.log(d)/Math.log(a[l].size))>a[l].startValue){n=Math.pow(a[l].endValue/a[l].startValue,Math.log(d)/Math.log(a[l].size));break}else n*=a[l].startValue/this.conversionParameters.minimum*Math.pow(a[l].size,Math.log(a[l].startValue/this.conversionParameters.minimum)/Math.log(a[l].endValue/a[l].startValue))*d,d*=Math.pow(a[l].size,Math.log(this.conversionParameters.minimum/a[l].startValue)/Math.log(a[l].endValue/a[l].startValue));r=!1}else if(d<a[l].endValue/this.conversionParameters.minimum){if(d/=a[l].endValue/this.conversionParameters.minimum,d>1/a[l].size){n*=Math.pow(a[l].endValue/a[l].startValue,1>=a[l].size?1:Math.log(d)/Math.log(a[l].size))*d;break}else n/=a[l].endValue/a[l].startValue/a[l].size;d*=a[l].size,r=!1}else break;else if(d<a[l].endValue/a[l+1].startValue){if(d/=a[l].endValue/a[l+1].startValue,d>1/a[l].size){n*=Math.pow(a[l].endValue/a[l].startValue,1>=a[l].size?1:Math.log(d)/Math.log(a[l].size))*d;break}else n/=a[l].endValue/a[l].startValue/a[l].size;d*=a[l].size}else break;r=n*this.viewportMinimum}else{if(n=d=(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,l<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(l=0;l<a.length;l++)if(!(a[l].endValue<this.conversionParameters.minimum))if(r)if(a[l].startValue<this.conversionParameters.minimum){if(a[l].size&&this.conversionParameters.minimum+d*(a[l].endValue-a[l].startValue)/a[l].size<a[l].endValue){n=0>=a[l].size?0:d*(a[l].endValue-a[l].startValue)/a[l].size;break}else n+=a[l].endValue-this.conversionParameters.minimum-a[l].size*(a[l].endValue-this.conversionParameters.minimum)/(a[l].endValue-a[l].startValue),d-=a[l].size*(a[l].endValue-this.conversionParameters.minimum)/(a[l].endValue-a[l].startValue);r=!1}else if(d>a[l].startValue-this.conversionParameters.minimum){if(d-=a[l].startValue-this.conversionParameters.minimum,d<a[l].size){n+=(a[l].endValue-a[l].startValue)*(a[l].size===0?1:d/a[l].size)-d;break}else n+=a[l].endValue-a[l].startValue-a[l].size;d-=a[l].size,r=!1}else break;else if(d>a[l].startValue-a[l-1].endValue){if(d-=a[l].startValue-a[l-1].endValue,d<a[l].size){n+=(a[l].endValue-a[l].startValue)*(a[l].size===0?1:d/a[l].size)-d;break}else n+=a[l].endValue-a[l].startValue-a[l].size;d-=a[l].size}else break}else for(l=a.length-1;0<=l;l--)if(!(a[l].startValue>this.conversionParameters.minimum))if(r)if(a[l].endValue>this.conversionParameters.minimum)if(a[l].size&&this.conversionParameters.minimum+d*(a[l].endValue-a[l].startValue)/a[l].size>a[l].startValue){n=0>=a[l].size?0:d*(a[l].endValue-a[l].startValue)/a[l].size;break}else n+=a[l].startValue-this.conversionParameters.minimum+a[l].size*(this.conversionParameters.minimum-a[l].startValue)/(a[l].endValue-a[l].startValue),d+=a[l].size*(this.conversionParameters.minimum-a[l].startValue)/(a[l].endValue-a[l].startValue),r=!1;else if(d<a[l].endValue-this.conversionParameters.minimum){if(d-=a[l].endValue-this.conversionParameters.minimum,d>-1*a[l].size){n+=(a[l].endValue-a[l].startValue)*(a[l].size===0?1:d/a[l].size)+d;break}else n-=a[l].endValue-a[l].startValue-a[l].size;d+=a[l].size,r=!1}else break;else if(d<a[l].endValue-a[l+1].startValue){if(d-=a[l].endValue-a[l+1].startValue,d>-1*a[l].size){n+=(a[l].endValue-a[l].startValue)*(a[l].size===0?1:d/a[l].size)+d;break}else n-=a[l].endValue-a[l].startValue-a[l].size;d+=a[l].size}else break;r=this.conversionParameters.minimum+n}return r},fe.prototype.convertValueToPixel=function(n){return n=this.getApparentDifference(this.conversionParameters.minimum,n,n),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(n/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(n-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(n-this.conversionParameters.minimum)+.5},fe.prototype.getApparentDifference=function(n,d,r,a){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){r=b(r)?d/n:r;for(var p=0;p<l.length&&!(d<l[p].startValue);p++)n>l[p].endValue||(n<=l[p].startValue&&d>=l[p].endValue?r=r/l[p].endValue*l[p].startValue*l[p].size:n>=l[p].startValue&&d>=l[p].endValue?r=r/l[p].endValue*n*Math.pow(l[p].size,Math.log(l[p].endValue/n)/Math.log(l[p].endValue/l[p].startValue)):n<=l[p].startValue&&d<=l[p].endValue?r=r/d*l[p].startValue*Math.pow(l[p].size,Math.log(d/l[p].startValue)/Math.log(l[p].endValue/l[p].startValue)):!a&&n>l[p].startValue&&d<l[p].endValue&&(r=n*Math.pow(l[p].size,Math.log(d/n)/Math.log(l[p].endValue/l[p].startValue))))}else for(r=b(r)?Math.abs(d-n):r,p=0;p<l.length&&!(d<l[p].startValue);p++)n>l[p].endValue||(n<=l[p].startValue&&d>=l[p].endValue?r=r-l[p].endValue+l[p].startValue+l[p].size:n>l[p].startValue&&d>=l[p].endValue?r=r-l[p].endValue+n+l[p].size*(l[p].endValue-n)/(l[p].endValue-l[p].startValue):n<=l[p].startValue&&d<l[p].endValue?r=r-d+l[p].startValue+l[p].size*(d-l[p].startValue)/(l[p].endValue-l[p].startValue):!a&&n>l[p].startValue&&d<l[p].endValue&&(r=n+l[p].size*(d-n)/(l[p].endValue-l[p].startValue)));return r},fe.prototype.setViewPortRange=function(n,d){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(n,d),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(n,d)},fe.prototype.getXValueAt=function(n){if(!n)return null;var d=null;return this._position==="left"?d=this.convertPixelToValue(n.y):this._position==="bottom"&&(d=this.convertPixelToValue(n.x)),d},fe.prototype.calculateValueToPixelConversionParameters=function(n){n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var d={pixelPerUnit:null,minimum:null,reference:null},r=this.lineCoordinates.width,a=this.lineCoordinates.height,r=this._position==="bottom"||this._position==="top"?r:a,a=Math.abs(this.range);if(this.logarithmic)for(var l=0;l<n.length&&!(this.viewportMaximum<n[l].startValue);l++)this.viewportMinimum>n[l].endValue||(this.viewportMinimum>=n[l].startValue&&this.viewportMaximum<=n[l].endValue?r=0:this.viewportMinimum<=n[l].startValue&&this.viewportMaximum>=n[l].endValue?(a=a/n[l].endValue*n[l].startValue,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100):r-Math.min(n[l].spacing,.1*r)):this.viewportMinimum>n[l].startValue&&this.viewportMaximum>=n[l].endValue?(a=a/n[l].endValue*this.viewportMinimum,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100*Math.log(n[l].endValue/this.viewportMinimum)/Math.log(n[l].endValue/n[l].startValue)):r-Math.min(n[l].spacing,.1*r)*Math.log(n[l].endValue/this.viewportMinimum)/Math.log(n[l].endValue/n[l].startValue)):this.viewportMinimum<=n[l].startValue&&this.viewportMaximum<n[l].endValue&&(a=a/this.viewportMaximum*n[l].startValue,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100*Math.log(this.viewportMaximum/n[l].startValue)/Math.log(n[l].endValue/n[l].startValue)):r-Math.min(n[l].spacing,.1*r)*Math.log(this.viewportMaximum/n[l].startValue)/Math.log(n[l].endValue/n[l].startValue)));else for(l=0;l<n.length&&!(this.viewportMaximum<n[l].startValue);l++)this.viewportMinimum>n[l].endValue||(this.viewportMinimum>=n[l].startValue&&this.viewportMaximum<=n[l].endValue?r=0:this.viewportMinimum<=n[l].startValue&&this.viewportMaximum>=n[l].endValue?(a=a-n[l].endValue+n[l].startValue,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100):r-Math.min(n[l].spacing,.1*r)):this.viewportMinimum>n[l].startValue&&this.viewportMaximum>=n[l].endValue?(a=a-n[l].endValue+this.viewportMinimum,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100*(n[l].endValue-this.viewportMinimum)/(n[l].endValue-n[l].startValue)):r-Math.min(n[l].spacing,.1*r)*(n[l].endValue-this.viewportMinimum)/(n[l].endValue-n[l].startValue)):this.viewportMinimum<=n[l].startValue&&this.viewportMaximum<n[l].endValue&&(a=a-this.viewportMaximum+n[l].startValue,r=0<n[l].spacing.toString().indexOf("%")?r*(1-parseFloat(n[l].spacing)/100*(this.viewportMaximum-n[l].startValue)/(n[l].endValue-n[l].startValue)):r-Math.min(n[l].spacing,.1*r)*(this.viewportMaximum-n[l].startValue)/(n[l].endValue-n[l].startValue)));d.minimum=this.viewportMinimum,d.maximum=this.viewportMaximum,d.range=a,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?-1:1)*r*d.lnLogarithmBase/Math.log(Math.abs(a))):d.pixelPerUnit=(this.reversed?-1:1)*r/Math.abs(a),d.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?1:-1)*r*d.lnLogarithmBase/Math.log(Math.abs(a))):d.pixelPerUnit=(this.reversed?1:-1)*r/Math.abs(a),d.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=d},fe.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var r=this.chart.layoutManager.getFreeSpace(),n=!1,d=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=r.width,this.maxHeight=r.height):(this.maxWidth=r.height,this.maxHeight=r.width);var r=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,g=4;this.type==="axisX"&&(g=600>this.maxWidth?8:6);var r=Math.max(g,Math.floor(this.maxWidth/r)),a,l,p,g=0;if(!b(this.options.viewportMinimum)&&!b(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),b(this.options.viewportMinimum)&&!b(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),b(this.options.viewportMaximum)&&!b(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!b(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!b(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!b(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!b(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!b(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!b(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(a=0;a<this.dataSeries.length;a++)this.dataSeries[a].xValueType==="dateTime"&&(d=!0);a=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,l=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,l-a===0&&(g=typeof this.options.interval>"u"?.4:this.options.interval,l+=g,a-=g),this.dataInfo.minDiff!==1/0?p=this.dataInfo.minDiff:1<l-a?p=.5*Math.abs(l-a):(p=1,d&&(n=!0))}else this.type==="axisY"&&(a=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,l=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(a)||isFinite(l)?isFinite(a)?isFinite(l)||(l=a):a=l:(l=typeof this.options.interval>"u"?-1/0:this.options.interval,a=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),a===0&&l===0?(l+=9,a=0):l-a===0?(g=Math.min(Math.abs(.01*Math.abs(l)),5),l+=g,a-=g):a>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,a,null,!0)),5),0<=l?a=l-g:l=isFinite(a)?a+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(a,l,null,!0)),.05),l!==0&&(l+=g),a!==0&&(a-=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-a?.5*Math.abs(l-a):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<a&&(a=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>l&&(l=0));g=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?a:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?l:this.viewportMaximum,null,!0),this.type==="axisX"&&d?(this.valueType="dateTime",this.intervalType||(g/1<=r?(this.interval=1,this.intervalType="millisecond"):g/2<=r?(this.interval=2,this.intervalType="millisecond"):g/5<=r?(this.interval=5,this.intervalType="millisecond"):g/10<=r?(this.interval=10,this.intervalType="millisecond"):g/20<=r?(this.interval=20,this.intervalType="millisecond"):g/50<=r?(this.interval=50,this.intervalType="millisecond"):g/100<=r?(this.interval=100,this.intervalType="millisecond"):g/200<=r?(this.interval=200,this.intervalType="millisecond"):g/250<=r?(this.interval=250,this.intervalType="millisecond"):g/300<=r?(this.interval=300,this.intervalType="millisecond"):g/400<=r?(this.interval=400,this.intervalType="millisecond"):g/500<=r?(this.interval=500,this.intervalType="millisecond"):g/(1*se.secondDuration)<=r?(this.interval=1,this.intervalType="second"):g/(2*se.secondDuration)<=r?(this.interval=2,this.intervalType="second"):g/(5*se.secondDuration)<=r?(this.interval=5,this.intervalType="second"):g/(10*se.secondDuration)<=r?(this.interval=10,this.intervalType="second"):g/(15*se.secondDuration)<=r?(this.interval=15,this.intervalType="second"):g/(20*se.secondDuration)<=r?(this.interval=20,this.intervalType="second"):g/(30*se.secondDuration)<=r?(this.interval=30,this.intervalType="second"):g/(1*se.minuteDuration)<=r?(this.interval=1,this.intervalType="minute"):g/(2*se.minuteDuration)<=r?(this.interval=2,this.intervalType="minute"):g/(5*se.minuteDuration)<=r?(this.interval=5,this.intervalType="minute"):g/(10*se.minuteDuration)<=r?(this.interval=10,this.intervalType="minute"):g/(15*se.minuteDuration)<=r?(this.interval=15,this.intervalType="minute"):g/(20*se.minuteDuration)<=r?(this.interval=20,this.intervalType="minute"):g/(30*se.minuteDuration)<=r?(this.interval=30,this.intervalType="minute"):g/(1*se.hourDuration)<=r?(this.interval=1,this.intervalType="hour"):g/(2*se.hourDuration)<=r?(this.interval=2,this.intervalType="hour"):g/(3*se.hourDuration)<=r?(this.interval=3,this.intervalType="hour"):g/(6*se.hourDuration)<=r?(this.interval=6,this.intervalType="hour"):g/(1*se.dayDuration)<=r?(this.interval=1,this.intervalType="day"):g/(2*se.dayDuration)<=r?(this.interval=2,this.intervalType="day"):g/(4*se.dayDuration)<=r?(this.interval=4,this.intervalType="day"):g/(1*se.weekDuration)<=r?(this.interval=1,this.intervalType="week"):g/(2*se.weekDuration)<=r?(this.interval=2,this.intervalType="week"):g/(3*se.weekDuration)<=r?(this.interval=3,this.intervalType="week"):g/(1*se.monthDuration)<=r?(this.interval=1,this.intervalType="month"):g/(2*se.monthDuration)<=r?(this.interval=2,this.intervalType="month"):g/(3*se.monthDuration)<=r?(this.interval=3,this.intervalType="month"):g/(6*se.monthDuration)<=r?(this.interval=6,this.intervalType="month"):(this.interval=g/(1*se.yearDuration)<=r?1:g/(2*se.yearDuration)<=r?2:g/(4*se.yearDuration)<=r?4:Math.floor(fe.getNiceNumber(g/(r-1),!0)/se.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=a-p/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+p/2),n?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",g=fe.getNiceNumber(g,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:fe.getNiceNumber(g/(r-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?a-p/2:Math.floor(a/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?l+p/2:Math.ceil(l/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=fe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(r-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(a=this.minimum!==null?this.minimum:this.dataInfo.min,l=this.maximum!==null?this.maximum:this.dataInfo.max,l-a===0&&(g=typeof this.options.interval>"u"?.4:this.options.interval,l+=g,a-=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-a?.5*Math.abs(l-a):1):this.type==="axisY"&&(a=this.minimum!==null?this.minimum:this.dataInfo.min,l=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(l)?a===0&&l===0?(l+=9,a=0):l-a===0?(g=Math.min(Math.abs(.01*Math.abs(l)),5),l+=g,a-=g):a>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,a,null,!0)),5),0<=l?a=l-g:l=isFinite(a)?a+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(a,l,null,!0)),.05),l!==0&&(l+=g),a!==0&&(a-=g)):(l=typeof this.options.interval>"u"?-1/0:this.options.interval,a=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-a?.5*Math.abs(l-a):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<a&&(a=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(a,l,null,!0)),this.type==="axisX"&&d?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=a-p/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=l+p/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?a-p/2:Math.floor(a/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?l+p/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),b(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),b(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&d?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=fe.generateValueFormatString(this.range,2))}},fe.prototype.calculateLogarithmicAxisParameters=function(){var r=this.chart.layoutManager.getFreeSpace(),n=Math.log(this.logarithmBase),d;this._position==="bottom"||this._position==="top"?(this.maxWidth=r.width,this.maxHeight=r.height):(this.maxWidth=r.height,this.maxHeight=r.width);var r=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),a,l,p,g;if(g=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!b(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!b(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!b(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!b(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!b(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!b(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}}this.type==="axisX"?(a=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,l=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,l/a===1&&(g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),l*=g,a/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/a>this.logarithmBase?l/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(a=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,l=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=a&&!isFinite(l)?(l=typeof this.options.interval>"u"?0:this.options.interval,a=1):0>=a?a=l:isFinite(l)||(l=a),a===1&&l===1?(l*=this.logarithmBase-1/this.logarithmBase,a=1):l/a===1?(g=Math.min(l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),l*=g,a/=g):a>l?(g=Math.min(a/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=l?a=l/g:l=a*g):(g=Math.min(l/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),l!==1&&(l*=g),a!==1&&(a/=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/a>this.logarithmBase?l/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>l&&(l=1)),g=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?l:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?a:this.viewportMinimum);var _=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?l:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?a:this.viewportMinimum);if(this.intervalType="number",g=Math.pow(this.logarithmBase,fe.getNiceNumber(Math.abs(Math.log(g)/n),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=fe.getNiceExponent(Math.log(g)/n/(r-1),!0),d=fe.getNiceNumber(_/(r-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?a/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/n/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/n/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=fe.getNiceExponent(Math.ceil(Math.log(g)/n)/(r-1)),d=fe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(r-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(a=this.minimum!==null?this.minimum:this.dataInfo.min,l=this.maximum!==null?this.maximum:this.dataInfo.max,l/a===1&&(g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),l*=g,a/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/a>this.logarithmBase?l/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(a=this.minimum!==null?this.minimum:this.dataInfo.min,l=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(l)?a===1&&l===1?(l*=this.logarithmBase,a/=this.logarithmBase):l/a===1?(g=Math.pow(this.logarithmBase,this.interval),l*=g,a/=g):a>l?(g=Math.min(.01*(a/l),5),1<=l?a=l/g:l=a*g):(g=Math.min(l/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),l!==1&&(l*=g),a!==1&&(a/=g)):(l=typeof this.options.interval>"u"?0:this.options.interval,a=1),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/a>this.logarithmBase?l/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>l&&(l=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?a/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/n/this.interval)),b(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/n/this.interval)),b(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=r,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>r?2:3)){for(n=Math.floor(this.viewportMinimum/d+.5)*d;n<this.viewportMinimum;)n+=d;this.equidistantInterval=!1,this.intervalStartPosition=n,this.interval=d}else this.options.interval||(d=Math.ceil(this.interval),this.range>this.interval&&(this.interval=d,a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=a;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(n=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(n)||!isFinite(n))&&(n=2),2<n))for(g=0;g<n-2;g++)this.valueFormatString+="#"},fe.generateValueFormatString=function(n,d){var r="#,##0.",a=d;1>n&&(a+=Math.floor(Math.abs(Math.log(n)/Math.LN10)),isNaN(a)||!isFinite(a))&&(a=d);for(var l=0;l<a;l++)r+="#";return r},fe.getNiceExponent=function(n,d){var r=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,r),a=0>r?1>=a?1:5>=a?5:10:Math.max(Math.floor(a),1);return-20>r?Number(a*Math.pow(10,r)):Number((a*Math.pow(10,r)).toFixed(20))},fe.getNiceNumber=function(n,d){var r=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,r),a=d?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10;return-20>r?Number(a*Math.pow(10,r)):Number((a*Math.pow(10,r)).toFixed(20))},fe.prototype.getLabelStartPoint=function(){var n=se[this.intervalType+"Duration"]*this.interval,n=new Date(Math.floor(this.viewportMinimum/n)*n);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<n.getMilliseconds()&&(n.setSeconds(n.getSeconds()+1),n.setMilliseconds(0)):this.intervalType==="minute"?(0<n.getSeconds()||0<n.getMilliseconds())&&(n.setMinutes(n.getMinutes()+1),n.setSeconds(0),n.setMilliseconds(0)):this.intervalType==="hour"?(0<n.getMinutes()||0<n.getSeconds()||0<n.getMilliseconds())&&(n.setHours(n.getHours()+1),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)):this.intervalType==="day"?(0<n.getHours()||0<n.getMinutes()||0<n.getSeconds()||0<n.getMilliseconds())&&(n.setDate(n.getDate()+1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)):this.intervalType==="week"?(0<n.getDay()||0<n.getHours()||0<n.getMinutes()||0<n.getSeconds()||0<n.getMilliseconds())&&(n.setDate(n.getDate()+(7-n.getDay())),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)):this.intervalType==="month"?(1<n.getDate()||0<n.getHours()||0<n.getMinutes()||0<n.getSeconds()||0<n.getMilliseconds())&&(n.setMonth(n.getMonth()+1),n.setDate(1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)):this.intervalType==="year"&&(0<n.getMonth()||1<n.getDate()||0<n.getHours()||0<n.getMinutes()||0<n.getSeconds()||0<n.getMilliseconds())&&(n.setFullYear(n.getFullYear()+1),n.setMonth(0),n.setDate(1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0))),n},e(xt,et),e(Et,et),Et.prototype.createUserOptions=function(n){if(typeof n<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(L(this.parent[this.optionsName]),d=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof n>"u"?{}:n,this.parent.options[this.optionsName][d]=this.options}},Et.prototype.render=function(n){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var d=this.ctx,r=this.ctx.globalAlpha;this.ctx=n||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,C(this.id);var p,g,_,T,m,f;n=Math.max(this.spacing,3);var y=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=y,this.ctx.setLineDash&&this.ctx.setLineDash(q(this.lineDashType,y)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(a=y%2===1?(a.x<<0)+.5:a.x<<0,g=y%2===1?(l.x<<0)+.5:l.x<<0,this.scaleBreaks.parent._position==="top"?(l=this.chart.plotArea.y1,_=this.chart.plotArea.y2+y/2+.5<<0):(l=this.chart.plotArea.y2,_=this.chart.plotArea.y1-y/2+.5<<0,n*=-1),this.bounds={x1:a-y/2,y1:l,x2:g+y/2,y2:_},this.ctx.moveTo(a,l),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=n||this.scaleBreaks.parent._position==="bottom"&&0<=n)this.ctx.lineTo(a,_),this.ctx.lineTo(g,_),this.ctx.lineTo(g,l);else if(this.type==="wavy"){T=a,m=l,p=.5,f=(_-m)/n/3;for(var v=0;v<f;v++)this.ctx.bezierCurveTo(T+p*n,m+n,T+p*n,m+2*n,T,m+3*n),m+=3*n,p*=-1;for(this.ctx.bezierCurveTo(T+p*n,m+n,T+p*n,m+2*n,T,m+3*n),T=g,p*=-1,this.ctx.lineTo(T,m),v=0;v<f;v++)this.ctx.bezierCurveTo(T+p*n,m-n,T+p*n,m-2*n,T,m-3*n),m-=3*n,p*=-1}else if(this.type==="zigzag"){for(p=-1,m=l+n,T=a+n,f=(_-m)/n/2,v=0;v<f;v++)this.ctx.lineTo(T,m),T+=2*p*n,m+=2*n,p*=-1;for(this.ctx.lineTo(T,m),T+=g-a,v=0;v<f+1;v++)this.ctx.lineTo(T,m),T+=2*p*n,m-=2*n,p*=-1;this.ctx.lineTo(T+p*n,m+n)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(l=y%2===1?(l.y<<0)+.5:l.y<<0,_=y%2===1?(a.y<<0)+.5:a.y<<0,this.scaleBreaks.parent._position==="left"?(a=this.chart.plotArea.x1,g=this.chart.plotArea.x2+y/2+.5<<0):(a=this.chart.plotArea.x2,g=this.chart.plotArea.x1-y/2+.5<<0,n*=-1),this.bounds={x1:a,y1:l-y/2,x2:g,y2:_+y/2},this.ctx.moveTo(a,l),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=n||this.scaleBreaks.parent._position==="right"&&0<=n)this.ctx.lineTo(g,l),this.ctx.lineTo(g,_),this.ctx.lineTo(a,_);else if(this.type==="wavy"){for(T=a,m=l,p=.5,f=(g-T)/n/3,v=0;v<f;v++)this.ctx.bezierCurveTo(T+n,m+p*n,T+2*n,m+p*n,T+3*n,m),T+=3*n,p*=-1;for(this.ctx.bezierCurveTo(T+n,m+p*n,T+2*n,m+p*n,T+3*n,m),m=_,p*=-1,this.ctx.lineTo(T,m),v=0;v<f;v++)this.ctx.bezierCurveTo(T-n,m+p*n,T-2*n,m+p*n,T-3*n,m),T-=3*n,p*=-1}else if(this.type==="zigzag"){for(p=1,m=l-n,T=a+n,f=(g-T)/n/2,v=0;v<f;v++)this.ctx.lineTo(T,m),m+=2*p*n,T+=2*n,p*=-1;for(this.ctx.lineTo(T,m),m+=_-l,v=0;v<f+1;v++)this.ctx.lineTo(T,m),m+=2*p*n,T-=2*n,p*=-1;this.ctx.lineTo(T+n,m+p*n)}}0<y&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=r,this.ctx=d}},e(lt,et),lt.prototype.createUserOptions=function(n){if(typeof n<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(L(this.parent.stripLines),d=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof n>"u"?{}:n,this.parent.options.stripLines[d]=this.options}},lt.prototype.render=function(){this.ctx.save();var n=this.parent.getPixelCoordinatesOnAxis(this.value),d=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<d){var r=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var a=this.ctx.globalAlpha;this.ctx.globalAlpha=r,C(this.id);var l,p,g,_;this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(q(this.lineDashType,d)),this.parent._position==="bottom"||this.parent._position==="top"?(l=p=this.ctx.lineWidth%2===1?(n.x<<0)+.5:n.x<<0,g=this.chart.plotArea.y1,_=this.chart.plotArea.y2,this.bounds={x1:l-d/2,y1:g,x2:p+d/2,y2:_}):(this.parent._position==="left"||this.parent._position==="right")&&(g=_=this.ctx.lineWidth%2===1?(n.y<<0)+.5:n.y<<0,l=this.chart.plotArea.x1,p=this.chart.plotArea.x2,this.bounds={x1:l,y1:g-d/2,x2:p,y2:_+d/2}),this.ctx.moveTo(l,g),this.ctx.lineTo(p,_),this.ctx.stroke(),this.ctx.globalAlpha=a}this.ctx.restore()},e(Ni,et),Ni.prototype.showAt=function(n){if(!this.enabled)return!1;var d=this.chart,r=!1;if(d.resetOverlayedCanvas(),d.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),d.plotInfo.axisPlacement==="xySwapped"){if(this.parent._position==="bottom")for(var a=0;a<d.axisY.length;a++)this.parent===d.axisY[a]&&(d.axisY[a]._crosshairValue=n>=d.axisY[a].viewportMinimum&&n<=d.axisY[a].viewportMaximum?n:null);else if(this.parent._position==="top")for(a=0;a<d.axisY2.length;a++)this.parent===d.axisY2[a]&&(d.axisY2[a]._crosshairValue=n>=d.axisY2[a].viewportMinimum&&n<=d.axisY2[a].viewportMaximum?n:null);else if(this.parent._position==="left")for(a=0;a<d.axisX.length;a++)this.parent===d.axisX[a]&&(d.axisX[a]._crosshairValue=n>=d.axisX[a].viewportMinimum&&n<=d.axisX[a].viewportMaximum?n:null);else if(this.parent._position==="right")for(a=0;a<d.axisX2.length;a++)this.parent===d.axisX2[a]&&(d.axisX2[a]._crosshairValue=n>=d.axisX2[a].viewportMinimum&&n<=d.axisX2[a].viewportMaximum?n:null)}else if(this.parent._position==="bottom")for(a=0;a<d.axisX.length;a++)this.parent===d.axisX[a]&&(d.axisX[a]._crosshairValue=n>=d.axisX[a].viewportMinimum&&n<=d.axisX[a].viewportMaximum?n:null);else if(this.parent._position==="top")for(a=0;a<d.axisX2.length;a++)this.parent===d.axisX2[a]&&(d.axisX2[a]._crosshairValue=n>=d.axisX2[a].viewportMinimum&&n<=d.axisX2[a].viewportMaximum?n:null);else if(this.parent._position==="left")for(a=0;a<d.axisY.length;a++)this.parent===d.axisY[a]&&(d.axisY[a]._crosshairValue=n>=d.axisY[a].viewportMinimum&&n<=d.axisY[a].viewportMaximum?n:null);else if(this.parent._position==="right")for(a=0;a<d.axisY2.length;a++)this.parent===d.axisY2[a]&&(d.axisY2[a]._crosshairValue=n>=d.axisY2[a].viewportMinimum&&n<=d.axisY2[a].viewportMaximum?n:null);for(a=0;a<d.axisX.length;a++)n=d.axisX[a]._crosshairValue,d.axisX[a].crosshair&&d.axisX[a].crosshair.enabled&&!b(n)&&n>=d.axisX[a].viewportMinimum&&n<=d.axisX[a].viewportMaximum&&(d.axisX[a].showCrosshair(n),d.axisX[a].crosshair._updatedValue=n,this===d.axisX[a].crosshair&&(r=!0));for(a=0;a<d.axisX2.length;a++)n=d.axisX2[a]._crosshairValue,d.axisX2[a].crosshair&&d.axisX2[a].crosshair.enabled&&!b(n)&&n>=d.axisX2[a].viewportMinimum&&n<=d.axisX2[a].viewportMaximum&&(d.axisX2[a].showCrosshair(n),d.axisX2[a].crosshair._updatedValue=n,this===d.axisX2[a].crosshair&&(r=!0));for(a=0;a<d.axisY.length;a++)n=d.axisY[a]._crosshairValue,d.axisY[a].crosshair&&d.axisY[a].crosshair.enabled&&!b(n)&&n>=d.axisY[a].viewportMinimum&&n<=d.axisY[a].viewportMaximum&&(d.axisY[a].showCrosshair(n),d.axisY[a].crosshair._updatedValue=n,this===d.axisY[a].crosshair&&(r=!0));for(a=0;a<d.axisY2.length;a++)n=d.axisY2[a]._crosshairValue,d.axisY2[a].crosshair&&d.axisY2[a].crosshair.enabled&&!b(n)&&n>=d.axisY2[a].viewportMinimum&&n<=d.axisY2[a].viewportMaximum&&(d.axisY2[a].showCrosshair(n),d.axisY2[a].crosshair._updatedValue=n,this===d.axisY2[a].crosshair&&(r=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),r},Ni.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Ni.prototype.render=function(n,d,r){var a,l,p,g,_=null,T=null,m=null,f="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(m=0,m=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=fe.generateValueFormatString(this.parent.range,m)));var y=this.opacity===null?1:this.opacity,v=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),h=this.chart.overlaidCanvasCtx,k=h.globalAlpha;if(h.beginPath(),h.strokeStyle=this.color,h.lineWidth=v,h.save(),this.labelFontSize=Math.abs(b(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=b(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=b(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<v&&h.setLineDash&&h.setLineDash(q(this.lineDashType,v)),m=new Le(h,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:f,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var I=0,f=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var E=null;this.parent._position==="bottom"||this.parent._position==="top"?I=this.parent.dataSeries[0].axisX.convertPixelToValue({y:d}):(this.parent._position==="left"||this.parent._position==="right")&&(I=this.parent.convertPixelToValue({y:d}));for(var w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(E.dataSeries=this.parent.dataSeries[w],E.dataPoint.y!==null&&E.dataSeries.visible&&f.push(E));if(E=null,f.length===0)return;f.sort(function(V,le){return V.distance-le.distance});var R=E=0;yPercent=cumulativeY=0;for(var I=1/0,M,w=0;w<f.length;w++){if(f[w].dataSeries.type==="rangeBar"||f[w].dataSeries.type==="error"){if(f[w].dataPoint.y)for(var W=0;W<f[w].dataPoint.y.length;W++)R=Math.abs(n-this.parent.convertValueToPixel(f[w].dataPoint.y[W])),R<=I&&(I=R,E=w)}else f[w].dataSeries.type==="stackedBar"?(cumulativeY=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=Math.abs(n-this.parent.convertValueToPixel(cumulativeY)),R<=I&&(I=R,E=w)):f[w].dataSeries.type==="stackedBar100"?(R=f[0].dataPoint.x.getTime?f[0].dataPoint.x.getTime():f[0].dataPoint.x,b(M)&&(M=Math.abs(n-this.parent.convertValueToPixel(100*(f[0].dataSeries.dataPointEOs[f[0].index].cumulativeY/f[0].dataSeries.plotUnit.dataPointYSums[R])))),cumulativeY=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=f[w].dataPoint.x.getTime?f[w].dataPoint.x.getTime():f[w].dataPoint.x,yPercent=100*(cumulativeY/f[w].dataSeries.plotUnit.dataPointYSums[R]),R=Math.abs(n-this.parent.convertValueToPixel(yPercent)),R<=M&&(M=R,E=w)):(R=Math.abs(n-this.parent.convertValueToPixel(f[w].dataPoint.y)),R<=I&&(I=R,E=w));b(M)||(I=Math.min(I,M))}if(M=f[E],w=0,this.parent._position==="bottom"||this.parent._position==="top"){if(M.dataSeries.type==="rangeBar"||M.dataSeries.type==="error"){for(I=Math.abs(n-this.parent.convertValueToPixel(M.dataPoint.y[0])),f=0;f<M.dataPoint.y.length;f++)R=Math.abs(n-this.parent.convertValueToPixel(M.dataPoint.y[f])),R<I&&(I=R,w=f);_=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataPoint.y[w])<<0)+.5:this.parent.convertValueToPixel(M.dataPoint.y[w])<<0,this.value=M.dataPoint.y[w],m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y[w]}):b(this.options.label)?Ge(b(r)?M.dataPoint.y[w]:r,this.valueFormatString,this.chart._cultureInfo):this.label}else M.dataSeries.type==="stackedBar"?(I=Math.abs(n-this.parent.convertValueToPixel(f[0].dataPoint.y)),cumulativeY=M.dataSeries.dataPointEOs[M.index].cumulativeY,_=h.lineWidth%2===1?(this.parent.convertValueToPixel(cumulativeY)<<0)+.5:this.parent.convertValueToPixel(cumulativeY)<<0,this.value=cumulativeY,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):b(this.options.label)?Ge(b(r)?cumulativeY:r,this.valueFormatString,this.chart._cultureInfo):this.label):M.dataSeries.type==="stackedBar100"?(I=Math.abs(n-this.parent.convertValueToPixel(f[0].dataPoint.y)),cumulativeY=M.dataSeries.dataPointEOs[M.index].cumulativeY,R=M.dataPoint.x.getTime?M.dataPoint.x.getTime():M.dataPoint.x,yPercent=100*(cumulativeY/M.dataSeries.plotUnit.dataPointYSums[R]),_=h.lineWidth%2===1?(this.parent.convertValueToPixel(yPercent)<<0)+.5:this.parent.convertValueToPixel(yPercent)<<0,this.value=yPercent,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):b(this.options.label)?Ge(b(r)?yPercent:r,this.valueFormatString,this.chart._cultureInfo):this.label):(_=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(M.dataPoint.y)<<0,this.value=M.dataPoint.y,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y}):b(this.options.label)?Ge(b(r)?M.dataPoint.y:r,this.valueFormatString,this.chart._cultureInfo):this.label);a=l=_,p=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:a-v/2,y1:p,x2:l+v/2,y2:g},m.x=a-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2?m.x=this.chart.bounds.x2-m.width:m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),m.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-m.height+this.parent.tickLength:m.fontSize/2)+2,m.y+m.height>this.chart.bounds.y2?m.y=this.chart.bounds.y2-m.height:m.y<this.chart.bounds.y1&&(m.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(p=g=T=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(M.dataPoint.x)<<0,a=this.chart.plotArea.x1,l=this.chart.plotArea.x2,this.bounds={x1:a,y1:p-v/2,x2:l,y2:g+v/2},w=!1,this.parent.labels)for(I=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=I)if(this.parent.labels[f])w=!0;else{w=!1;break}if(w){if(this.parent.type==="axisX")for(I=this.parent.convertPixelToValue({y:d}),E=null,w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?E.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?Ge(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?it(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=M.dataPoint.x,m.y=g+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(I=this.parent.convertPixelToValue({x:n}),w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(E.dataSeries=this.parent.dataSeries[w],E.dataPoint.y!==null&&E.dataSeries.visible&&f.push(E));if(f.length===0)return;if(f.sort(function(V,le){return V.distance-le.distance}),M=f[0],a=l=_=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(M.dataPoint.x)<<0,p=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:a-v/2,y1:p,x2:l+v/2,y2:g},w=!1,this.parent.labels)for(I=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=I)if(this.parent.labels[f])w=!0;else{w=!1;break}if(w){if(this.parent.type==="axisX")for(I=this.parent.convertPixelToValue({x:n}),E=null,w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?E.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?Ge(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):b(this.options.label)?it(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=M.dataPoint.x,m.x=a-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!b(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(I=this.parent.dataSeries[0].axisX.convertPixelToValue({x:n})),w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(E.dataSeries=this.parent.dataSeries[w],E.dataPoint.y!==null&&E.dataSeries.visible&&f.push(E));if(f.length===0)return;for(f.sort(function(V,le){return V.distance-le.distance}),R=E=0,I=1/0,w=0;w<f.length;w++){if(f[w].dataSeries.type==="rangeColumn"||f[w].dataSeries.type==="rangeArea"||f[w].dataSeries.type==="error"||f[w].dataSeries.type==="rangeSplineArea"||f[w].dataSeries.type==="candlestick"||f[w].dataSeries.type==="ohlc"||f[w].dataSeries.type==="boxAndWhisker"){if(f[w].dataPoint.y)for(W=0;W<f[w].dataPoint.y.length;W++)R=Math.abs(d-this.parent.convertValueToPixel(f[w].dataPoint.y[W])),R<=I&&(I=R,E=w)}else f[w].dataSeries.type==="stackedColumn"?(a=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=Math.abs(d-this.parent.convertValueToPixel(a)),R<=I&&(I=R,E=w)):f[w].dataSeries.type==="stackedArea"?(a=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=Math.abs(d-this.parent.convertValueToPixel(a)),R<=I&&(I=R,E=w)):f[w].dataSeries.type==="stackedColumn100"||f[w].dataSeries.type==="stackedArea100"?(R=f[0].dataPoint.x.getTime?f[0].dataPoint.x.getTime():f[0].dataPoint.x,b(M)&&(M=Math.abs(d-this.parent.convertValueToPixel(100*(f[0].dataSeries.dataPointEOs[f[0].index].cumulativeY/f[0].dataSeries.plotUnit.dataPointYSums[R])))),f[w].dataSeries.type==="stackedColumn100"?(T=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=f[w].dataPoint.x.getTime?f[w].dataPoint.x.getTime():f[w].dataPoint.x,a=100*(T/f[w].dataSeries.plotUnit.dataPointYSums[R]),R=Math.abs(d-this.parent.convertValueToPixel(a)),R<=M&&(M=R,E=w)):f[w].dataSeries.type==="stackedArea100"&&(T=f[w].dataSeries.dataPointEOs[f[w].index].cumulativeY,R=f[w].dataPoint.x.getTime?f[w].dataPoint.x.getTime():f[w].dataPoint.x,a=100*(T/f[w].dataSeries.plotUnit.dataPointYSums[R]),R=Math.abs(d-this.parent.convertValueToPixel(a)),R<=M&&(M=R,E=w))):f[w].dataSeries.type==="waterfall"?(R=Math.abs(d-this.parent.convertValueToPixel(f[w].dataSeries.dataPointEOs[f[w].index].cumulativeSum)),R<=I&&(M=I=R,E=w)):(R=Math.abs(d-this.parent.convertValueToPixel(f[w].dataPoint.y)),R<=I&&(I=R,E=w));b(M)||(I=Math.min(I,M))}if(M=f[E],w=0,M.dataSeries.type==="rangeColumn"||M.dataSeries.type==="rangeArea"||M.dataSeries.type==="error"||M.dataSeries.type==="rangeSplineArea"||M.dataSeries.type==="candlestick"||M.dataSeries.type==="ohlc"||M.dataSeries.type==="boxAndWhisker"){for(I=Math.abs(d-this.parent.convertValueToPixel(M.dataPoint.y[0])),f=0;f<M.dataPoint.y.length;f++)R=Math.abs(d-this.parent.convertValueToPixel(M.dataPoint.y[f])),R<I&&(I=R,w=f);T=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataPoint.y[w])<<0)+.5:this.parent.convertValueToPixel(M.dataPoint.y[w])<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y[w]}):b(this.options.label)?Ge(b(r)?M.dataPoint.y[w]:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=M.dataPoint.y[w]}else M.dataSeries.type==="stackedColumn"?(a=M.dataSeries.dataPointEOs[M.index].cumulativeY,T=h.lineWidth%2===1?(this.parent.convertValueToPixel(a)<<0)+.5:this.parent.convertValueToPixel(a)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a}):b(this.options.label)?Ge(b(r)?a:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=a):M.dataSeries.type==="stackedArea"?(a=M.dataSeries.dataPointEOs[M.index].cumulativeY,T=h.lineWidth%2===1?(this.parent.convertValueToPixel(a)<<0)+.5:this.parent.convertValueToPixel(a)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a}):b(this.options.label)?Ge(b(r)?a:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=a):M.dataSeries.type==="stackedColumn100"?(T=M.dataSeries.dataPointEOs[M.index].cumulativeY,R=M.dataPoint.x.getTime?M.dataPoint.x.getTime():M.dataPoint.x,a=100*(T/M.dataSeries.plotUnit.dataPointYSums[R]),T=h.lineWidth%2===1?(this.parent.convertValueToPixel(a)<<0)+.5:this.parent.convertValueToPixel(a)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a}):b(this.options.label)?Ge(b(r)?a:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=a):M.dataSeries.type==="stackedArea100"?(T=M.dataSeries.dataPointEOs[M.index].cumulativeY,R=M.dataPoint.x.getTime?M.dataPoint.x.getTime():M.dataPoint.x,a=100*(T/M.dataSeries.plotUnit.dataPointYSums[R]),T=h.lineWidth%2===1?(this.parent.convertValueToPixel(a)<<0)+.5:this.parent.convertValueToPixel(a)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a}):b(this.options.label)?Ge(b(r)?a:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=a):M.dataSeries.type==="waterfall"?(T=h.lineWidth%2===1?(this.parent.convertValueToPixel(M.dataSeries.dataPointEOs[M.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(M.dataSeries.dataPointEOs[M.index].cumulativeSum)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataSeries.dataPointEOs[M.index].cumulativeSum}):b(this.options.label)?Ge(b(r)?M.dataSeries.dataPointEOs[M.index].cumulativeSum:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=M.dataSeries.dataPointEOs[M.index].cumulativeSum):(T=h.lineWidth%2===1?(b(n)?d:this.parent.convertValueToPixel(M.dataPoint.y)<<0)+.5:b(n)?d:this.parent.convertValueToPixel(M.dataPoint.y)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?M.dataPoint.y:r}):b(this.options.label)?Ge(b(r)?M.dataPoint.y:r,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=M.dataPoint.y);p=g=T,a=this.chart.plotArea.x1,l=this.chart.plotArea.x2,this.bounds={x1:a,y1:p-v/2,x2:l,y2:g+v/2},m.y=g+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}f=null,h.globalAlpha=y,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&m.y-m.fontSize/2<this.chart.bounds.y1&&(m.y=this.chart.bounds.y1+m.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-m.fontSize/2+m.measureText().height>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.height+m.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(a,p),h.lineTo(l,g),h.stroke(),this._hidden=!1)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="right"&&m.x+m.measureText().width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(a,p),h.lineTo(l,g),h.stroke(),this._hidden=!1))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(a=l=_=h.lineWidth%2===1?(n<<0)+.5:n<<0,p=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:a-v/2,y1:p,x2:l+v/2,y2:g}):(this.parent._position==="left"||this.parent._position==="right")&&(p=g=T=h.lineWidth%2===1?(d<<0)+.5:d<<0,a=this.chart.plotArea.x1,l=this.chart.plotArea.x2,this.bounds={x1:a,y1:p-v/2,x2:l,y2:g+v/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(w=!1,this.parent.labels)for(I=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=I)if(this.parent.labels[f])w=!0;else{w=!1;break}if(w){if(this.parent.type==="axisX")for(I=this.parent.convertPixelToValue({y:d}),E=null,w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(n):r}):b(this.options.label)?E.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(d):r}):b(this.options.label)?Ge(b(r)?this.parent.convertPixelToValue(d):r,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(d):r}):b(this.options.label)?it(b(r)?this.parent.convertPixelToValue(d):r,this.valueFormatString,this.chart._cultureInfo):this.label;m.y=d+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x1-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(n):r}):b(this.options.label)?Ge(b(r)?this.parent.convertPixelToValue(n):r,this.valueFormatString,this.chart._cultureInfo):this.label,m.x=a-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(w=!1,f="",this.parent.labels)for(I=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=I)if(this.parent.labels[f])w=!0;else{w=!1;break}if(w){if(this.parent.type==="axisX")for(I=this.parent.convertPixelToValue({x:n}),E=null,w=0;w<this.parent.dataSeries.length;w++)(E=this.parent.dataSeries[w].getDataPointAtX(I,!0))&&0<=E.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(n):r}):b(this.options.label)?b(r)?E.dataPoint.label:r:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(n):"":r}):b(this.options.label)?Ge(b(r)?this.parent.convertPixelToValue(n):r,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(n):r}):b(this.options.label)?it(b(r)?this.parent.convertPixelToValue(n):r,this.valueFormatString,this.chart._cultureInfo):this.label;m.x=a-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b(r)?this.parent.convertPixelToValue(d):r}):b(this.options.label)?Ge(b(r)?this.parent.convertPixelToValue(d):r,this.valueFormatString,this.chart._cultureInfo):this.label,m.y=d+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&m.x<this.chart.bounds.x1?m.x=this.chart.bounds.x1:this.parent._position==="right"&&m.x+m.measureText().width>this.chart.bounds.x2?m.x=this.chart.bounds.x2-m.measureText().width:this.parent._position==="top"&&m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-m.fontSize/2+m.measureText().height>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.height+m.fontSize/2+2),h.globalAlpha=y,0<v&&(h.moveTo(a,p),h.lineTo(l,g),h.stroke(),this._hidden=!1),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(n):this.parent.convertPixelToValue(d)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this._updatedValue=this.parent.convertPixelToValue(_)),(this.parent._position==="left"||this.parent._position==="right")&&(this._updatedValue=this.parent.convertPixelToValue(T)),this._textBlock=m,this._label=r,b(r)||this.renderLabel(),h.restore(),h.globalAlpha=k},Ni.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(b(this._textBlock)||b(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),b(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},e(qt,et),qt.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},qt.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var n=document.createElement("div");n.style.width="auto",n.style.height="auto",n.style.minWidth="50px",n.style.lineHeight="normal",n.style.margin="0px 0px 0px 0px",n.style.padding="5px",n.style.fontFamily="Calibri, Arial, Georgia, serif",n.style.fontWeight="normal",n.style.fontStyle=X?"italic":"normal",n.style.fontSize="14px",n.style.color="#000000",n.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",n.style.textAlign="left",n.style.border="2px solid gray",n.style.background=X?"rgba(255,255,255,.9)":"rgb(255,255,255)",n.style.textIndent="0px",n.style.whiteSpace="nowrap",n.style.borderRadius="5px",n.style.MozUserSelect="none",n.style.WebkitUserSelect="none",n.style.msUserSelect="none",n.style.userSelect="none",X||(n.style.filter="alpha(opacity = 90)",n.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),n.innerText="Sample Tooltip",this.container.appendChild(n),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},qt.prototype.mouseMoveHandler=function(n,d){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(n,d),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.dispatchEvent("updated",this._updatedEventParameters,this))},qt.prototype._updateToolTip=function(n,d,r){if(r=typeof r>"u"?!0:r,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof n>"u"||typeof d>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;n=this._prevX,d=this._prevY}else this._prevX=n,this._prevY=d;var a=null,l=null,p=[],g=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var _=[];if(this.chart.axisX)for(var T=0;T<this.chart.axisX.length;T++){for(var g=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[T].convertPixelToValue({y:d}):this.chart.axisX[T].convertPixelToValue({x:n}),m=null,a=0;a<this.chart.axisX[T].dataSeries.length;a++)(m=this.chart.axisX[T].dataSeries[a].getDataPointAtX(g,r))&&0<=m.index&&(m.dataSeries=this.chart.axisX[T].dataSeries[a],m.dataPoint.y!==null&&m.dataSeries.visible&&_.push(m));m=null}if(this.chart.axisX2)for(T=0;T<this.chart.axisX2.length;T++){for(g=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[T].convertPixelToValue({y:d}):this.chart.axisX2[T].convertPixelToValue({x:n}),m=null,a=0;a<this.chart.axisX2[T].dataSeries.length;a++)(m=this.chart.axisX2[T].dataSeries[a].getDataPointAtX(g,r))&&0<=m.index&&(m.dataSeries=this.chart.axisX2[T].dataSeries[a],m.dataPoint.y!==null&&m.dataSeries.visible&&_.push(m));m=null}if(_.length===0)return;for(_.sort(function(f,y){return f.dataSeries.axisX.logarithmic||y.dataSeries.axisX.logarithmic?f.distance-y.distance:f.distance/f.dataSeries.axisX.range-y.distance/y.dataSeries.axisX.range}),r=_[0],a=0;a<_.length;a++)_[a].dataPoint.x.valueOf()===r.dataPoint.x.valueOf()&&p.push(_[a]);_=null}else{if(a=this.chart.getDataPointAtXY(n,d,r))this.currentDataPointIndex=a.dataPointIndex,this.currentSeriesIndex=a.dataSeries.index;else if(X)if(a=ke(n,d,this.chart._eventManager.ghostCtx),0<a&&typeof this.chart._eventManager.objectMap[a]<"u"){if(a=this.chart._eventManager.objectMap[a],a.objectType==="legendItem")return;this.currentSeriesIndex=a.dataSeriesIndex,this.currentDataPointIndex=0<=a.dataPointIndex?a.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(l=this.chart.data[this.currentSeriesIndex],m={},0<=this.currentDataPointIndex)a=l.dataPoints[this.currentDataPointIndex],m.dataSeries=l,m.dataPoint=a,m.index=this.currentDataPointIndex,m.distance=Math.abs(a.x-g),l.type==="waterfall"&&(m.cumulativeSumYStartValue=l.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,m.cumulativeSum=l.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else if(this.enabled&&l&&(l.type==="line"||l.type==="stepLine"||l.type==="spline"||l.type==="area"||l.type==="stepArea"||l.type==="splineArea"||l.type==="stackedArea"||l.type==="stackedArea100"||l.type==="rangeArea"||l.type==="rangeSplineArea"||l.type==="candlestick"||l.type==="ohlc"||l.type==="boxAndWhisker"))g=l.axisX.convertPixelToValue({x:n}),m=l.getDataPointAtX(g,r),b(m)||(m.dataSeries=l,this.currentDataPointIndex=m.index,a=m.dataPoint);else{this.chart.clearedOverlayedCanvas==="toolTip"&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null);return}if(!b(m)&&!b(m.dataPoint)&&!b(m.dataPoint.y))if(m.dataSeries.axisY)if(0<m.dataPoint.y.length){for(a=r=0;a<m.dataPoint.y.length;a++)m.dataPoint.y[a]<m.dataSeries.axisY.viewportMinimum?r--:m.dataPoint.y[a]>m.dataSeries.axisY.viewportMaximum&&r++;r<m.dataPoint.y.length&&r>-m.dataPoint.y.length&&p.push(m)}else l.type==="column"||l.type==="bar"?0>m.dataPoint.y?0>m.dataSeries.axisY.viewportMinimum&&m.dataSeries.axisY.viewportMaximum>=m.dataPoint.y&&p.push(m):m.dataSeries.axisY.viewportMinimum<=m.dataPoint.y&&0<=m.dataSeries.axisY.viewportMaximum&&p.push(m):l.type==="bubble"?(r=this.chart._eventManager.objectMap[l.dataPointIds[m.index]].size/2,m.dataPoint.y>=m.dataSeries.axisY.viewportMinimum-r&&m.dataPoint.y<=m.dataSeries.axisY.viewportMaximum+r&&p.push(m)):l.type==="waterfall"?(r=0,m.cumulativeSumYStartValue<m.dataSeries.axisY.viewportMinimum?r--:m.cumulativeSumYStartValue>m.dataSeries.axisY.viewportMaximum&&r++,m.cumulativeSum<m.dataSeries.axisY.viewportMinimum?r--:m.cumulativeSum>m.dataSeries.axisY.viewportMaximum&&r++,2>r&&-2<r&&p.push(m)):(0<=m.dataSeries.type.indexOf("100")||l.type==="stackedColumn"||l.type==="stackedBar"||m.dataPoint.y>=m.dataSeries.axisY.viewportMinimum&&m.dataPoint.y<=m.dataSeries.axisY.viewportMaximum)&&p.push(m);else p.push(m)}}if(0<p.length){if(this.highlightObjects(p),this.enabled){if(r="",r=this.getToolTipInnerHTML({entries:p}),r!==null){if(this.contentDiv.innerHTML=r,this.isToolTipDefinedInData&&b(this.options.content)&&b(this.options.contentFormatter))for(g=this.contentDiv.getElementsByTagName("span"),a=0;a<g.length;a++)g[a]&&(g[a].style.color=g[a].getAttribute("data-color"));g=!1,this.container.style.display==="none"&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:X?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=p[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:p[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[l.index%p[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:X?"italic":"normal"}catch{}p[0].dataSeries.type==="pie"||p[0].dataSeries.type==="doughnut"||p[0].dataSeries.type==="funnel"||p[0].dataSeries.type==="pyramid"||p[0].dataSeries.type==="bar"||p[0].dataSeries.type==="rangeBar"||p[0].dataSeries.type==="stackedBar"||p[0].dataSeries.type==="stackedBar100"?n=n-10-this.container.clientWidth:(n=p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth<<0,n-=10),0>n&&(n+=this.container.clientWidth+20),n+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(n=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),d=p.length!==1||this.shared||p[0].dataSeries.type!=="line"&&p[0].dataSeries.type!=="stepLine"&&p[0].dataSeries.type!=="spline"&&p[0].dataSeries.type!=="area"&&p[0].dataSeries.type!=="stepArea"&&p[0].dataSeries.type!=="splineArea"?p[0].dataSeries.type==="bar"||p[0].dataSeries.type==="rangeBar"||p[0].dataSeries.type==="stackedBar"||p[0].dataSeries.type==="stackedBar100"?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):d:p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y),d=-d+10,0<d+this.container.clientHeight+5&&(d-=d+this.container.clientHeight+5-0),this.fixMozTransitionDelay(n,d),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=n,this.positionBottom=d,this.container.style.left=n+"px",this.container.style.bottom=d+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(d=[],a=0;a<p.length;a++)d.push({xValue:p[a].dataPoint.x,dataPoint:p[a].dataPoint,dataSeries:p[a].dataSeries,dataPointIndex:p[a].index,dataSeriesIndex:p[a].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:r,entries:d},this._entries=p}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},qt.prototype.highlightObjects=function(n){var d=this.chart.overlaidCanvasCtx;b(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip"?(this.chart.resetOverlayedCanvas(),d.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,d.save();var r=this.chart.plotArea,a=0;for(d.beginPath(),d.rect(r.x1,r.y1,r.x2-r.x1,r.y2-r.y1),d.clip(),r=0;r<n.length;r++){var l=n[r];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&l.objectType==="dataPoint"){var a=this.chart.data[l.dataSeriesIndex],p=a.dataPoints[l.dataPointIndex],g=l.dataPointIndex;p.highlightEnabled===!1||a.highlightEnabled!==!0&&p.highlightEnabled!==!0||(a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="scatter"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="stackedArea"||a.type==="stackedArea100"||a.type==="rangeArea"||a.type==="rangeSplineArea"?(p=a.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx),p.size=Math.max(1.5*p.size<<0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),Ut.drawMarkers([p]),typeof l.y2<"u"&&(p=a.getMarkerProperties(g,l.x1,l.y2,this.chart.overlaidCanvasCtx),p.size=Math.max(1.5*p.size<<0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),Ut.drawMarkers([p]))):a.type==="bubble"?(p=a.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx),p.size=l.size,p.color="white",p.borderColor="white",d.globalAlpha=.3,Ut.drawMarkers([p]),d.globalAlpha=1):a.type==="column"||a.type==="stackedColumn"||a.type==="stackedColumn100"||a.type==="bar"||a.type==="rangeBar"||a.type==="stackedBar"||a.type==="stackedBar100"||a.type==="rangeColumn"||a.type==="waterfall"?Dt(d,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):a.type==="pie"||a.type==="doughnut"?zi(d,l.center,l.radius,"white",a.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):a.type==="funnel"||a.type==="pyramid"?Ri(d,l.funnelSection,.3,"white"):a.type==="candlestick"?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,a=d.lineWidth%2===0?0:.5,d.beginPath(),d.moveTo(l.x3-a,Math.min(l.y2,l.y3)),d.lineTo(l.x3-a,Math.min(l.y1,l.y4)),d.stroke(),d.beginPath(),d.moveTo(l.x3-a,Math.max(l.y1,l.y4)),d.lineTo(l.x3-a,Math.max(l.y2,l.y3)),d.stroke(),Dt(d,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1),d.globalAlpha=1):a.type==="ohlc"?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,a=d.lineWidth%2===0?0:.5,d.beginPath(),d.moveTo(l.x3-a,l.y2),d.lineTo(l.x3-a,l.y3),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y1),d.lineTo(l.x1,l.y1),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4),d.lineTo(l.x2,l.y4),d.stroke(),d.globalAlpha=1):a.type==="boxAndWhisker"?(d.save(),d.globalAlpha=1,d.strokeStyle=l.stemColor,d.lineWidth=2*l.stemThickness,0<l.stemThickness&&(d.beginPath(),d.moveTo(l.x3,l.y2+l.borderThickness/2),d.lineTo(l.x3,l.y1+l.whiskerThickness/2),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4-l.whiskerThickness/2),d.lineTo(l.x3,l.y3-l.borderThickness/2),d.stroke()),d.beginPath(),Dt(d,l.x1,Math.max(l.y2,l.y3),l.x2,Math.min(l.y2,l.y3),"transparent",2*l.borderThickness,l.color,!1,!1),d.globalAlpha=1,d.strokeStyle=l.whiskerColor,d.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),d.stroke(),d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),d.stroke()),d.globalAlpha=1,d.strokeStyle=l.lineColor,d.lineWidth=2*l.lineThickness,0<l.lineThickness&&(d.beginPath(),d.moveTo(l.x1,l.y5),d.lineTo(l.x2,l.y5),d.stroke()),d.restore(),d.globalAlpha=1):a.type==="error"&&re(d,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}d.restore(),d.globalAlpha=1,d.beginPath()},qt.prototype.getToolTipInnerHTML=function(n){n=n.entries;var d=null,r=null,a=null,l=0,p="";this.isToolTipDefinedInData=!0;for(var g=0;g<n.length;g++)if(n[g].dataSeries.toolTipContent||n[g].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))n={chart:this.chart,toolTip:this.options,entries:n},d=this.contentFormatter?this.contentFormatter(n):this.content(n);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var _=null,T="",g=0;g<n.length;g++){if(r=n[g].dataSeries,a=n[g].dataPoint,l=n[g].index,p="",g===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?T+=typeof this.chart.axisX[0].labels[a.x]<"u"?this.chart.axisX[0].labels[a.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(T+=typeof this.chart.axisX2[0].labels[a.x]<"u"?this.chart.axisX2[0].labels[a.x]:"{x}"),T+="</br>",!r.visible)continue;T=this.chart.replaceKeywordsWithValue(T,a,r,l)}a.toolTipContent===null||typeof a.toolTipContent>"u"&&r.options.toolTipContent===null||(r.type==="line"||r.type==="stepLine"||r.type==="spline"||r.type==="area"||r.type==="stepArea"||r.type==="splineArea"||r.type==="column"||r.type==="bar"||r.type==="scatter"||r.type==="stackedColumn"||r.type==="stackedColumn100"||r.type==="stackedBar"||r.type==="stackedBar100"||r.type==="stackedArea"||r.type==="stackedArea100"||r.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=r.axisXIndex?r.axisX.title?r.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,_=r.axisXIndex):r.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=r.axisXIndex?r.axisX.title?r.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):r.type==="rangeColumn"||r.type==="rangeBar"||r.type==="rangeArea"||r.type==="rangeSplineArea"||r.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=r.axisXIndex?r.axisX.title?r.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):r.type==="candlestick"||r.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=r.axisXIndex?r.axisX.title?r.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):r.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=r.axisXIndex?r.axisX.title?r.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),d===null&&(d=""),r.visible&&(this.reversed===!0?(d=this.chart.replaceKeywordsWithValue(p,a,r,l)+d,g<n.length-1&&(d="</br>"+d)):(d+=this.chart.replaceKeywordsWithValue(p,a,r,l),g<n.length-1&&(d+="</br>"))))}d!==null&&(d=T+d)}else{if(r=n[0].dataSeries,a=n[0].dataPoint,l=n[0].index,a.toolTipContent===null||typeof a.toolTipContent>"u"&&r.options.toolTipContent===null)return null;r.type==="line"||r.type==="stepLine"||r.type==="spline"||r.type==="area"||r.type==="stepArea"||r.type==="splineArea"||r.type==="column"||r.type==="bar"||r.type==="scatter"||r.type==="stackedColumn"||r.type==="stackedColumn100"||r.type==="stackedBar"||r.type==="stackedBar100"||r.type==="stackedArea"||r.type==="stackedArea100"||r.type==="waterfall"?p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":r.type==="bubble"?p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":r.type==="pie"||r.type==="doughnut"||r.type==="funnel"||r.type==="pyramid"?p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.name?"{name}:</span>&nbsp;&nbsp;":a.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":r.type==="rangeColumn"||r.type==="rangeBar"||r.type==="rangeArea"||r.type==="rangeSplineArea"||r.type==="error"?p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":r.type==="candlestick"||r.type==="ohlc"?p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":r.type==="boxAndWhisker"&&(p=a.toolTipContent?a.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(a.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),d===null&&(d=""),d+=this.chart.replaceKeywordsWithValue(p,a,r,l)}return d},qt.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var n=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=n,this.container.style.MsTransition=n,this.container.style.transition=n,this.container.style.MozTransition=this.mozContainerTransition}},qt.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},qt.prototype.hide=function(n){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof n>"u"||n)&&this.chart.resetOverlayedCanvas())},qt.prototype.show=function(n,d,r){this._updateToolTip(n,d,typeof r>"u"?!1:r)},qt.prototype.showAtIndex=function(n,d){},qt.prototype.showAtX=function(n,d){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var r,a,l,p=[];if(l=!1,d=!b(d)&&0<=d&&d<this.chart.data.length?d:0,this.shared)for(var g=0;g<this.chart.data.length;g++)r=this.chart.data[g],(a=r.getDataPointAtX(n,!1))&&a.dataPoint&&!b(a.dataPoint.y)&&r.visible&&(a.dataSeries=r,this.chart.data[d].axisX.convertValueToPixel(n)===r.axisX.convertValueToPixel(a.dataPoint.x)&&p.push(a));else r=this.chart.data[d],(a=r.getDataPointAtX(n,!1))&&a.dataPoint&&!b(a.dataPoint.y)&&r.visible&&(a.dataSeries=r,p.push(a));if(0<p.length){for(g=0;g<p.length;g++)if(a=p[g],(this.shared||0<=a.dataSeries.type.indexOf("100"))&&a.dataPoint.x>=a.dataSeries.axisX.viewportMinimum&&a.dataPoint.x<=a.dataSeries.axisX.viewportMaximum){l=!1;break}else if(a.dataPoint.x<a.dataSeries.axisX.viewportMinimum||a.dataPoint.x>a.dataSeries.axisX.viewportMaximum||a.dataPoint.y<a.dataSeries.axisY.viewportMinimum||a.dataPoint.y>a.dataSeries.axisY.viewportMaximum)l=!0;else{l=!1;break}if(l)return this.hide(),!1;if(this.highlightObjects(p),this._entries=p,g="",g=this.getToolTipInnerHTML({entries:p}),g!==null){if(this.contentDiv.innerHTML=g,this.isToolTipDefinedInData&&b(this.options.content)&&b(this.options.contentFormatter))for(a=this.contentDiv.getElementsByTagName("span"),g=0;g<a.length;g++)a[g]&&(a[g].style.color=a[g].getAttribute("data-color"));g=!1,this.container.style.display==="none"&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:X?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=p[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:p[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[r.index%p[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:X?"italic":"normal"}catch{}p[0].dataSeries.type==="pie"||p[0].dataSeries.type==="doughnut"||p[0].dataSeries.type==="funnel"||p[0].dataSeries.type==="pyramid"?r=mouseX-10-this.container.clientWidth:(r=p[0].dataSeries.type==="bar"||p[0].dataSeries.type==="rangeBar"||p[0].dataSeries.type==="stackedBar"||p[0].dataSeries.type==="stackedBar100"?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)-this.container.clientWidth<<0:p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth<<0,r-=10),0>r&&(r+=this.container.clientWidth+20),r+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(r=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),p=(p.length!==1||this.shared||p[0].dataSeries.type!=="line"&&p[0].dataSeries.type!=="stepLine"&&p[0].dataSeries.type!=="spline"&&p[0].dataSeries.type!=="area"&&p[0].dataSeries.type!=="stepArea"&&p[0].dataSeries.type!=="splineArea")&&(p[0].dataSeries.type==="bar"||p[0].dataSeries.type==="rangeBar"||p[0].dataSeries.type==="stackedBar"||p[0].dataSeries.type==="stackedBar100")?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y),p=-p+10,0<p+this.container.clientHeight+5&&(p-=p+this.container.clientHeight+5-0),this.fixMozTransitionDelay(r,p),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=r+"px",this.container.style.bottom=p+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return this._xValue=n,this._dataSeriesIndex=d,this._prevY=this._prevX=NaN,!0},qt.prototype.fixMozTransitionDelay=function(n,d){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var r=parseFloat(this.container.style.left),r=isNaN(r)?0:r,a=parseFloat(this.container.style.bottom),a=isNaN(a)?0:a;10<Math.sqrt(Math.pow(r-n,2)+Math.pow(a-d,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},qt.prototype.getContainerTransition=function(n){return"left "+n+"s ease-out 0s, bottom "+n+"s ease-out 0s"},vi.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],X&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},vi.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},vi.prototype.mouseEventHandler=function(n){if(n.type==="mousemove"||n.type==="click"){var d=[],r=Ct(n),a=null;if((a=this.chart.getObjectAtXY(r.x,r.y,!1))&&typeof this.objectMap[a]<"u")if(a=this.objectMap[a],a.objectType==="dataPoint"){var l=this.chart.data[a.dataSeriesIndex],p=l.dataPoints[a.dataPointIndex],g=a.dataPointIndex;a.eventParameter={x:r.x,y:r.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},a.eventContext={context:p,userContext:p,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(a),a=this.objectMap[l.id],a.eventParameter={x:r.x,y:r.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},a.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(this.objectMap[l.id])}else a.objectType==="legendItem"&&(l=this.chart.data[a.dataSeriesIndex],p=a.dataPointIndex!==null?l.dataPoints[a.dataPointIndex]:null,a.eventParameter={x:r.x,y:r.y,dataSeries:l.options,dataPoint:p,dataPointIndex:a.dataPointIndex,dataSeriesIndex:a.dataSeriesIndex,chart:this.chart},a.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},d.push(a));for(l=[],r=0;r<this.mouseoveredObjectMaps.length;r++){for(p=!0,a=0;a<d.length;a++)if(d[a].id===this.mouseoveredObjectMaps[r].id){p=!1;break}p?this.fireEvent(this.mouseoveredObjectMaps[r],"mouseout",n):l.push(this.mouseoveredObjectMaps[r])}for(this.mouseoveredObjectMaps=l,r=0;r<d.length;r++){for(l=!1,a=0;a<this.mouseoveredObjectMaps.length;a++)if(d[r].id===this.mouseoveredObjectMaps[a].id){l=!0;break}l||(this.fireEvent(d[r],"mouseover",n),this.mouseoveredObjectMaps.push(d[r])),n.type==="click"?this.fireEvent(d[r],"click",n):n.type==="mousemove"&&this.fireEvent(d[r],"mousemove",n)}}},vi.prototype.fireEvent=function(n,d,r){if(n&&d){var a=n.eventParameter,l=n.eventContext,p=n.eventContext.userContext;p&&l&&p[l[d]]&&p[l[d]].call(p,a),d!=="mouseout"?p.cursor&&p.cursor!==r.target.style.cursor&&(r.target.style.cursor=p.cursor):(r.target.style.cursor=this.chart.panEnabled?l.mouseout!=="itemmouseout"||p.dockInsidePlotArea?"move":this.chart._defaultCursor:this.chart._defaultCursor,delete n.eventParameter,delete n.eventContext),d==="click"&&n.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[n.dataSeriesIndex],a),d==="click"&&n.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[n.dataSeriesIndex],a)}},Zt.prototype.animate=function(n,d,r,a,l){var p=this;for(this.chart.isAnimating=!0,l=l||qe.easing.linear,r&&this.animations.push({startTime:new Date().getTime()+(n||0),duration:d,animationCallback:r,onComplete:a}),n=[];0<this.animations.length;)d=this.animations.shift(),r=new Date().getTime(),a=0,d.startTime<=r&&(a=l(Math.min(r-d.startTime,d.duration),0,1,d.duration),a=Math.min(a,1),isNaN(a)||!isFinite(a))&&(a=1),1>a&&n.push(d),d.animationCallback(a),1<=a&&d.onComplete&&d.onComplete();this.animations=n,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){p.animate.call(p)}):this.chart.isAnimating=!1},Zt.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var qe={yScaleAnimation:function(n,d){if(n!==0){var r=d.dest,a=d.source.canvas,l=d.animationBase;r.drawImage(a,0,0,a.width,a.height,0,l-l*n,r.canvas.width/Wt,n*r.canvas.height/Wt)}},xScaleAnimation:function(n,d){if(n!==0){var r=d.dest,a=d.source.canvas,l=d.animationBase;r.drawImage(a,0,0,a.width,a.height,l-l*n,0,n*r.canvas.width/Wt,r.canvas.height/Wt)}},xClipAnimation:function(n,d){if(n!==0){var r=d.dest,a=d.source.canvas;r.save(),0<n&&r.drawImage(a,0,0,a.width*n,a.height,0,0,a.width*n/Wt,a.height/Wt),r.restore()}},fadeInAnimation:function(n,d){if(n!==0){var r=d.dest,a=d.source.canvas;r.save(),r.globalAlpha=n,r.drawImage(a,0,0,a.width,a.height,0,0,r.canvas.width/Wt,r.canvas.height/Wt),r.restore()}},easing:{linear:function(n,d,r,a){return r*n/a+d},easeOutQuad:function(n,d,r,a){return-r*(n/=a)*(n-2)+d},easeOutQuart:function(n,d,r,a){return-r*((n=n/a-1)*n*n*n-1)+d},easeInQuad:function(n,d,r,a){return r*(n/=a)*n+d},easeInQuart:function(n,d,r,a){return r*(n/=a)*n*n*n+d}}},Ut={drawMarker:function(n,d,r,a,l,p,g,_){if(r){var T=1;r.fillStyle=p||"#000000",r.strokeStyle=g||"#000000",r.lineWidth=_||0,r.setLineDash&&r.setLineDash(q("solid",_)),a==="circle"?(r.moveTo(n,d),r.beginPath(),r.arc(n,d,l/2,0,2*Math.PI,!1),p&&r.fill(),_&&(g?r.stroke():(T=r.globalAlpha,r.globalAlpha=.15,r.strokeStyle="black",r.stroke(),r.globalAlpha=T))):a==="square"?(r.beginPath(),r.rect(n-l/2,d-l/2,l,l),p&&r.fill(),_&&(g?r.stroke():(T=r.globalAlpha,r.globalAlpha=.15,r.strokeStyle="black",r.stroke(),r.globalAlpha=T))):a==="triangle"?(r.beginPath(),r.moveTo(n-l/2,d+l/2),r.lineTo(n+l/2,d+l/2),r.lineTo(n,d-l/2),r.closePath(),p&&r.fill(),_&&(g?r.stroke():(T=r.globalAlpha,r.globalAlpha=.15,r.strokeStyle="black",r.stroke(),r.globalAlpha=T)),r.beginPath()):a==="cross"&&(r.strokeStyle=p,r.lineWidth=l/4,r.beginPath(),r.moveTo(n-l/2,d-l/2),r.lineTo(n+l/2,d+l/2),r.stroke(),r.moveTo(n+l/2,d-l/2),r.lineTo(n-l/2,d+l/2),r.stroke())}},drawMarkers:function(n){for(var d=0;d<n.length;d++){var r=n[d];Ut.drawMarker(r.x,r.y,r.ctx,r.type,r.size,r.color,r.borderColor,r.borderThickness)}}};return P}(),O.version="v3.8.7 GA",window.CanvasJS&&O&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=O)})(),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new q(this))}function i(O,Q,oe){var z=Gt.call(arguments,2);return function(){return O.apply(Q,z.concat(Gt.call(arguments)))}}function s(O){return String(O).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function o(O){O.namespaces.g_vml_||O.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),O.namespaces.g_o_||O.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),O.styleSheets.ex_canvas_||(O=O.createStyleSheet(),O.owningElement.id="ex_canvas_",O.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function c(O){var Q=O.srcElement;switch(O.propertyName){case"width":Q.getContext().clearRect(),Q.style.width=Q.attributes.width.nodeValue+"px",Q.firstChild.style.width=Q.clientWidth+"px";break;case"height":Q.getContext().clearRect(),Q.style.height=Q.attributes.height.nodeValue+"px",Q.firstChild.style.height=Q.clientHeight+"px"}}function u(O){O=O.srcElement,O.firstChild&&(O.firstChild.style.width=O.clientWidth+"px",O.firstChild.style.height=O.clientHeight+"px")}function x(){return[[1,0,0],[0,1,0],[0,0,1]]}function C(O,Q){for(var oe=x(),z=0;3>z;z++)for(var ee=0;3>ee;ee++){for(var Z=0,_e=0;3>_e;_e++)Z+=O[z][_e]*Q[_e][ee];oe[z][ee]=Z}return oe}function S(O,Q){Q.fillStyle=O.fillStyle,Q.lineCap=O.lineCap,Q.lineJoin=O.lineJoin,Q.lineWidth=O.lineWidth,Q.miterLimit=O.miterLimit,Q.shadowBlur=O.shadowBlur,Q.shadowColor=O.shadowColor,Q.shadowOffsetX=O.shadowOffsetX,Q.shadowOffsetY=O.shadowOffsetY,Q.strokeStyle=O.strokeStyle,Q.globalAlpha=O.globalAlpha,Q.font=O.font,Q.textAlign=O.textAlign,Q.textBaseline=O.textBaseline,Q.arcScaleX_=O.arcScaleX_,Q.arcScaleY_=O.arcScaleY_,Q.lineScale_=O.lineScale_}function b(O){var oe=O.indexOf("(",3),Q=O.indexOf(")",oe+1),oe=O.substring(oe+1,Q).split(",");return(oe.length!=4||O.charAt(3)!="a")&&(oe[3]=1),oe}function L(O,Q,oe){return Math.min(oe,Math.max(Q,O))}function B(O,Q,oe){return 0>oe&&oe++,1<oe&&oe--,1>6*oe?O+6*(Q-O)*oe:1>2*oe?Q:2>3*oe?O+6*(Q-O)*(2/3-oe):O}function U(O){if(O in Yt)return Yt[O];var Q,oe=1;if(O=String(O),O.charAt(0)=="#")Q=O;else if(/^rgb/.test(O)){oe=b(O),Q="#";for(var z,ee=0;3>ee;ee++)z=oe[ee].indexOf("%")!=-1?Math.floor(255*(parseFloat(oe[ee])/100)):+oe[ee],Q+=ct[L(z,0,255)];oe=+oe[3]}else if(/^hsl/.test(O)){if(ee=oe=b(O),Q=parseFloat(ee[0])/360%360,0>Q&&Q++,z=L(parseFloat(ee[1])/100,0,1),ee=L(parseFloat(ee[2])/100,0,1),z==0)z=ee=Q=ee;else{var Z=.5>ee?ee*(1+z):ee+z-ee*z,_e=2*ee-Z;z=B(_e,Z,Q+1/3),ee=B(_e,Z,Q),Q=B(_e,Z,Q-1/3)}Q="#"+ct[Math.floor(255*z)]+ct[Math.floor(255*ee)]+ct[Math.floor(255*Q)],oe=oe[3]}else Q=pi[O]||O;return Yt[O]={color:Q,alpha:oe}}function q(O){this.m_=x(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Le,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=O;var Q="width:"+O.clientWidth+"px;height:"+O.clientHeight+"px;overflow:hidden;position:absolute",oe=O.ownerDocument.createElement("div");oe.style.cssText=Q,O.appendChild(oe),Q=oe.cloneNode(!1),Q.style.backgroundColor="red",Q.style.filter="alpha(opacity=0)",O.appendChild(Q),this.element_=oe,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function ne(O,Q,oe,z){O.currentPath_.push({type:"bezierCurveTo",cp1x:Q.x,cp1y:Q.y,cp2x:oe.x,cp2y:oe.y,x:z.x,y:z.y}),O.currentX_=z.x,O.currentY_=z.y}function ce(O,Q){var z=U(O.strokeStyle),oe=z.color,z=z.alpha*O.globalAlpha,ee=O.lineScale_*O.lineWidth;1>ee&&(z*=ee),Q.push("<g_vml_:stroke",' opacity="',z,'"',' joinstyle="',O.lineJoin,'"',' miterlimit="',O.miterLimit,'"',' endcap="',Bt[O.lineCap]||"square",'"',' weight="',ee,'px"',' color="',oe,'" />')}function ke(O,Q,oe,z){var ee=O.fillStyle,Z=O.arcScaleX_,_e=O.arcScaleY_,Ke=z.x-oe.x,ht=z.y-oe.y;if(ee instanceof Ee){var F=0,H=z=0,K=0,de=1;if(ee.type_=="gradient"){F=ee.x1_/Z,oe=ee.y1_/_e;var se=pe(O,ee.x0_/Z,ee.y0_/_e),F=pe(O,F,oe),F=180*Math.atan2(F.x-se.x,F.y-se.y)/Math.PI;0>F&&(F+=360),1e-6>F&&(F=0)}else se=pe(O,ee.x0_,ee.y0_),z=(se.x-oe.x)/Ke,H=(se.y-oe.y)/ht,Ke/=Z*Le,ht/=_e*Le,de=We.max(Ke,ht),K=2*ee.r0_/de,de=2*ee.r1_/de-K;Z=ee.colors_,Z.sort(function(Ce,Fe){return Ce.offset-Fe.offset}),_e=Z.length,se=Z[0].color,oe=Z[_e-1].color,Ke=Z[0].alpha*O.globalAlpha,O=Z[_e-1].alpha*O.globalAlpha;for(var ht=[],Ie=0;Ie<_e;Ie++){var Ne=Z[Ie];ht.push(Ne.offset*de+K+" "+Ne.color)}Q.push('<g_vml_:fill type="',ee.type_,'"',' method="none" focus="100%"',' color="',se,'"',' color2="',oe,'"',' colors="',ht.join(","),'"',' opacity="',O,'"',' g_o_:opacity2="',Ke,'"',' angle="',F,'"',' focusposition="',z,",",H,'" />')}else ee instanceof De?Ke&&ht&&Q.push("<g_vml_:fill",' position="',-oe.x/Ke*Z*Z,",",-oe.y/ht*_e*_e,'"',' type="tile"',' src="',ee.src_,'" />'):(ee=U(O.fillStyle),Q.push('<g_vml_:fill color="',ee.color,'" opacity="',ee.alpha*O.globalAlpha,'" />'))}function pe(O,Q,oe){return O=O.m_,{x:Le*(Q*O[0][0]+oe*O[1][0]+O[2][0])-Rt,y:Le*(Q*O[0][1]+oe*O[1][1]+O[2][1])-Rt}}function Pe(O,Q,oe){isFinite(Q[0][0])&&isFinite(Q[0][1])&&isFinite(Q[1][0])&&isFinite(Q[1][1])&&isFinite(Q[2][0])&&isFinite(Q[2][1])&&(O.m_=Q,oe&&(O.lineScale_=ze(et(Q[0][0]*Q[1][1]-Q[0][1]*Q[1][0]))))}function Ee(O){this.type_=O,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function De(O,Q){if(!O||O.nodeType!=1||O.tagName!="IMG")throw new me("TYPE_MISMATCH_ERR");if(O.readyState!="complete")throw new me("INVALID_STATE_ERR");switch(Q){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=Q;break;default:throw new me("SYNTAX_ERR")}this.src_=O.src,this.width_=O.width,this.height_=O.height}function me(O){this.code=this[O],this.message=O+": DOM Exception "+this.code}var We=Math,Ae=We.round,tt=We.sin,st=We.cos,et=We.abs,ze=We.sqrt,Le=10,Rt=Le/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var Gt=Array.prototype.slice;o(document);var _t={init:function(O){O=O||document,O.createElement("canvas"),O.attachEvent("onreadystatechange",i(this.init_,this,O))},init_:function(O){O=O.getElementsByTagName("canvas");for(var Q=0;Q<O.length;Q++)this.initElement(O[Q])},initElement:function(O){if(!O.getContext){O.getContext=e,o(O.ownerDocument),O.innerHTML="",O.attachEvent("onpropertychange",c),O.attachEvent("onresize",u);var Q=O.attributes;Q.width&&Q.width.specified?O.style.width=Q.width.nodeValue+"px":O.width=O.clientWidth,Q.height&&Q.height.specified?O.style.height=Q.height.nodeValue+"px":O.height=O.clientHeight}return O}};_t.init();for(var ct=[],Je=0;16>Je;Je++)for(var mt=0;16>mt;mt++)ct[16*Je+mt]=Je.toString(16)+mt.toString(16);var pi={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Yt={},X={},Bt={butt:"flat",round:"round"},Je=q.prototype;Je.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Je.beginPath=function(){this.currentPath_=[]},Je.moveTo=function(O,Q){var oe=pe(this,O,Q);this.currentPath_.push({type:"moveTo",x:oe.x,y:oe.y}),this.currentX_=oe.x,this.currentY_=oe.y},Je.lineTo=function(O,Q){var oe=pe(this,O,Q);this.currentPath_.push({type:"lineTo",x:oe.x,y:oe.y}),this.currentX_=oe.x,this.currentY_=oe.y},Je.bezierCurveTo=function(O,Q,oe,z,ee,Z){ee=pe(this,ee,Z),O=pe(this,O,Q),oe=pe(this,oe,z),ne(this,O,oe,ee)},Je.quadraticCurveTo=function(O,Q,oe,z){O=pe(this,O,Q),oe=pe(this,oe,z),z={x:this.currentX_+2/3*(O.x-this.currentX_),y:this.currentY_+2/3*(O.y-this.currentY_)},ne(this,z,{x:z.x+(oe.x-this.currentX_)/3,y:z.y+(oe.y-this.currentY_)/3},oe)},Je.arc=function(O,Q,oe,z,ee,Z){oe*=Le;var _e=Z?"at":"wa",Ke=O+st(z)*oe-Rt,ht=Q+tt(z)*oe-Rt;z=O+st(ee)*oe-Rt,ee=Q+tt(ee)*oe-Rt,Ke!=z||Z||(Ke+=.125),O=pe(this,O,Q),Ke=pe(this,Ke,ht),z=pe(this,z,ee),this.currentPath_.push({type:_e,x:O.x,y:O.y,radius:oe,xStart:Ke.x,yStart:Ke.y,xEnd:z.x,yEnd:z.y})},Je.rect=function(O,Q,oe,z){this.moveTo(O,Q),this.lineTo(O+oe,Q),this.lineTo(O+oe,Q+z),this.lineTo(O,Q+z),this.closePath()},Je.strokeRect=function(O,Q,oe,z){var ee=this.currentPath_;this.beginPath(),this.moveTo(O,Q),this.lineTo(O+oe,Q),this.lineTo(O+oe,Q+z),this.lineTo(O,Q+z),this.closePath(),this.stroke(),this.currentPath_=ee},Je.fillRect=function(O,Q,oe,z){var ee=this.currentPath_;this.beginPath(),this.moveTo(O,Q),this.lineTo(O+oe,Q),this.lineTo(O+oe,Q+z),this.lineTo(O,Q+z),this.closePath(),this.fill(),this.currentPath_=ee},Je.createLinearGradient=function(O,Q,oe,z){var ee=new Ee("gradient");return ee.x0_=O,ee.y0_=Q,ee.x1_=oe,ee.y1_=z,ee},Je.createRadialGradient=function(O,Q,oe,z,ee,Z){var _e=new Ee("gradientradial");return _e.x0_=O,_e.y0_=Q,_e.r0_=oe,_e.x1_=z,_e.y1_=ee,_e.r1_=Z,_e},Je.drawImage=function(O,Q){var oe,z,ee,Z,_e,Ke,ht,F;ee=O.runtimeStyle.width,Z=O.runtimeStyle.height,O.runtimeStyle.width="auto",O.runtimeStyle.height="auto";var H=O.width,K=O.height;if(O.runtimeStyle.width=ee,O.runtimeStyle.height=Z,arguments.length==3)oe=arguments[1],z=arguments[2],_e=Ke=0,ht=ee=H,F=Z=K;else if(arguments.length==5)oe=arguments[1],z=arguments[2],ee=arguments[3],Z=arguments[4],_e=Ke=0,ht=H,F=K;else if(arguments.length==9)_e=arguments[1],Ke=arguments[2],ht=arguments[3],F=arguments[4],oe=arguments[5],z=arguments[6],ee=arguments[7],Z=arguments[8];else throw Error("Invalid number of arguments");var de=pe(this,oe,z),se=[];if(se.push(" <g_vml_:group",' coordsize="',10*Le,",",10*Le,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Ie=[];Ie.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",Ae(de.x/Le),",","Dy=",Ae(de.y/Le),"");var Ne=pe(this,oe+ee,z),Ce=pe(this,oe,z+Z);oe=pe(this,oe+ee,z+Z),de.x=We.max(de.x,Ne.x,Ce.x,oe.x),de.y=We.max(de.y,Ne.y,Ce.y,oe.y),se.push("padding:0 ",Ae(de.x/Le),"px ",Ae(de.y/Le),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Ie.join(""),", sizingmethod='clip');")}else se.push("top:",Ae(de.y/Le),"px;left:",Ae(de.x/Le),"px;");se.push(' ">','<g_vml_:image src="',O.src,'"',' style="width:',Le*ee,"px;"," height:",Le*Z,'px"',' cropleft="',_e/H,'"',' croptop="',Ke/K,'"',' cropright="',(H-_e-ht)/H,'"',' cropbottom="',(K-Ke-F)/K,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",se.join(""))},Je.stroke=function(O){var Q=[];Q.push("<g_vml_:shape",' filled="',!!O,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Le,",",10*Le,'"',' stroked="',!O,'"',' path="');for(var oe={x:null,y:null},z={x:null,y:null},ee=0;ee<this.currentPath_.length;ee++){var Z=this.currentPath_[ee];switch(Z.type){case"moveTo":Q.push(" m ",Ae(Z.x),",",Ae(Z.y));break;case"lineTo":Q.push(" l ",Ae(Z.x),",",Ae(Z.y));break;case"close":Q.push(" x "),Z=null;break;case"bezierCurveTo":Q.push(" c ",Ae(Z.cp1x),",",Ae(Z.cp1y),",",Ae(Z.cp2x),",",Ae(Z.cp2y),",",Ae(Z.x),",",Ae(Z.y));break;case"at":case"wa":Q.push(" ",Z.type," ",Ae(Z.x-this.arcScaleX_*Z.radius),",",Ae(Z.y-this.arcScaleY_*Z.radius)," ",Ae(Z.x+this.arcScaleX_*Z.radius),",",Ae(Z.y+this.arcScaleY_*Z.radius)," ",Ae(Z.xStart),",",Ae(Z.yStart)," ",Ae(Z.xEnd),",",Ae(Z.yEnd))}Z&&((oe.x==null||Z.x<oe.x)&&(oe.x=Z.x),(z.x==null||Z.x>z.x)&&(z.x=Z.x),(oe.y==null||Z.y<oe.y)&&(oe.y=Z.y),(z.y==null||Z.y>z.y)&&(z.y=Z.y))}Q.push(' ">'),O?ke(this,Q,oe,z):ce(this,Q),Q.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",Q.join(""))},Je.fill=function(){this.stroke(!0)},Je.closePath=function(){this.currentPath_.push({type:"close"})},Je.save=function(){var O={};S(this,O),this.aStack_.push(O),this.mStack_.push(this.m_),this.m_=C(x(),this.m_)},Je.restore=function(){this.aStack_.length&&(S(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Je.translate=function(O,Q){Pe(this,C([[1,0,0],[0,1,0],[O,Q,1]],this.m_),!1)},Je.rotate=function(O){var Q=st(O);O=tt(O),Pe(this,C([[Q,O,0],[-O,Q,0],[0,0,1]],this.m_),!1)},Je.scale=function(O,Q){this.arcScaleX_*=O,this.arcScaleY_*=Q,Pe(this,C([[O,0,0],[0,Q,0],[0,0,1]],this.m_),!0)},Je.transform=function(O,Q,oe,z,ee,Z){Pe(this,C([[O,Q,0],[oe,z,0],[ee,Z,1]],this.m_),!0)},Je.setTransform=function(O,Q,oe,z,ee,Z){Pe(this,[[O,Q,0],[oe,z,0],[ee,Z,1]],!0)},Je.drawText_=function(O,Q,oe,z,ee){var Z=this.m_;z=0;var _e=1e3,Ke=0,ht=[],F;if(F=this.font,X[F])F=X[F];else{var H=document.createElement("div").style;try{H.font=F}catch{}F=X[F]={style:H.fontStyle||"normal",variant:H.fontVariant||"normal",weight:H.fontWeight||"normal",size:H.fontSize||10,family:H.fontFamily||"sans-serif"}}var H=F,K=this.element_;F={};for(var de in H)F[de]=H[de];switch(de=parseFloat(K.currentStyle.fontSize),K=parseFloat(H.size),typeof H.size=="number"?F.size=H.size:H.size.indexOf("px")!=-1?F.size=K:H.size.indexOf("em")!=-1?F.size=de*K:H.size.indexOf("%")!=-1?F.size=de/100*K:H.size.indexOf("pt")!=-1?F.size=K/.75:F.size=de,F.size*=.981,de=F.style+" "+F.variant+" "+F.weight+" "+F.size+"px "+F.family,K=this.element_.currentStyle,H=this.textAlign.toLowerCase(),H){case"left":case"center":case"right":break;case"end":H=K.direction=="ltr"?"right":"left";break;case"start":H=K.direction=="rtl"?"right":"left";break;default:H="left"}switch(this.textBaseline){case"hanging":case"top":Ke=F.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":Ke=-F.size/2.25}switch(H){case"right":z=1e3,_e=.05;break;case"center":z=_e=500}Q=pe(this,Q+0,oe+Ke),ht.push('<g_vml_:line from="',-z,' 0" to="',_e,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ee,'" stroked="',!!ee,'" style="position:absolute;width:1px;height:1px;">'),ee?ce(this,ht):ke(this,ht,{x:-z,y:0},{x:_e,y:F.size}),ee=Z[0][0].toFixed(3)+","+Z[1][0].toFixed(3)+","+Z[0][1].toFixed(3)+","+Z[1][1].toFixed(3)+",0,0",Q=Ae(Q.x/Le)+","+Ae(Q.y/Le),ht.push('<g_vml_:skew on="t" matrix="',ee,'" ',' offset="',Q,'" origin="',z,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',s(O),'" style="v-text-align:',H,";font:",s(de),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",ht.join(""))},Je.fillText=function(O,Q,oe,z){this.drawText_(O,Q,oe,z,!1)},Je.strokeText=function(O,Q,oe,z){this.drawText_(O,Q,oe,z,!0)},Je.measureText=function(O){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var Q=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(Q.createTextNode(O)),{width:this.textMeasureEl_.offsetWidth}},Je.clip=function(){},Je.arcTo=function(){},Je.createPattern=function(O,Q){return new De(O,Q)},Ee.prototype.addColorStop=function(O,Q){Q=U(Q),this.colors_.push({offset:O,color:Q.color,alpha:Q.alpha})},Je=me.prototype=Error(),Je.INDEX_SIZE_ERR=1,Je.DOMSTRING_SIZE_ERR=2,Je.HIERARCHY_REQUEST_ERR=3,Je.WRONG_DOCUMENT_ERR=4,Je.INVALID_CHARACTER_ERR=5,Je.NO_DATA_ALLOWED_ERR=6,Je.NO_MODIFICATION_ALLOWED_ERR=7,Je.NOT_FOUND_ERR=8,Je.NOT_SUPPORTED_ERR=9,Je.INUSE_ATTRIBUTE_ERR=10,Je.INVALID_STATE_ERR=11,Je.SYNTAX_ERR=12,Je.INVALID_MODIFICATION_ERR=13,Je.NAMESPACE_ERR=14,Je.INVALID_ACCESS_ERR=15,Je.VALIDATION_ERR=16,Je.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=_t,CanvasRenderingContext2D=q,CanvasGradient=Ee,CanvasPattern=De,DOMException=me}()})(Wy);var Uy=Wy.exports;const ME=Dd(Uy),fg=zy({__proto__:null,default:ME},[Uy]),IE=(t,e)=>{const i=t.__vccOpts||t;for(const[s,o]of e)i[s]=o;return i};var PE="Chart"in fg?fg:window.CanvasJS;const EE={props:{styles:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["chart-ref"],data(){return{chart:null,updateChart:!0,containerStyle:{width:this.styles&&this.styles.width?this.styles.width:"100%",height:this.styles&&this.styles.height?this.styles.height:"360px",...this.styles}}},watch:{options:{handler(t,e){this.updateChart=t!==e}}},updated(){this.chart&&this.updateChart&&(this.chart.options=this.options,this.chart.render())},mounted(){this.chart=new PE.Chart(this.$refs.chartContainer,this.options),this.chart.render(),this.$emit("chart-ref",this.chart)},unmounted(){this.chart&&this.chart.destroy()}};function RE(t,e,i,s,o,c){return Be(),$e("div",{ref:"chartContainer",style:Hn(o.containerStyle)},null,4)}const LE=IE(EE,[["render",RE]]),OE={install:(t,e)=>{t.component("CanvasJSChart",LE)}},BE={transition:"Vue-Toastification__bounce",toastDefaults:{[ji.ERROR]:{timeout:1e4,closeButton:!1},[ji.SUCCESS]:{timeout:3e3,hideProgressBar:!0}},draggable:!0,newestOnTop:!0},ma=Lf(kE);ma.config.globalProperties.$msalInstance={};ma.config.globalProperties.$emitter=new SE;ma.use(OE);ma.use(Ia);ma.use(eE);ma.use(VM,BE);ma.mount("#app");
